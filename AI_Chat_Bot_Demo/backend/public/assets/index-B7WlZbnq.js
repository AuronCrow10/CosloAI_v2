var LI=Object.defineProperty;var DI=(e,t,n)=>t in e?LI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Bp=(e,t,n)=>DI(e,typeof t!="symbol"?t+"":t,n);function FI(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var EC={exports:{}},fd={},TC={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),zI=Symbol.for("react.portal"),_I=Symbol.for("react.fragment"),RI=Symbol.for("react.strict_mode"),BI=Symbol.for("react.profiler"),$I=Symbol.for("react.provider"),UI=Symbol.for("react.context"),WI=Symbol.for("react.forward_ref"),HI=Symbol.for("react.suspense"),qI=Symbol.for("react.memo"),KI=Symbol.for("react.lazy"),iy=Symbol.iterator;function VI(e){return e===null||typeof e!="object"?null:(e=iy&&e[iy]||e["@@iterator"],typeof e=="function"?e:null)}var IC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OC=Object.assign,MC={};function xs(e,t,n){this.props=e,this.context=t,this.refs=MC,this.updater=n||IC}xs.prototype.isReactComponent={};xs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function LC(){}LC.prototype=xs.prototype;function rg(e,t,n){this.props=e,this.context=t,this.refs=MC,this.updater=n||IC}var ig=rg.prototype=new LC;ig.constructor=rg;OC(ig,xs.prototype);ig.isPureReactComponent=!0;var sy=Array.isArray,DC=Object.prototype.hasOwnProperty,sg={current:null},FC={key:!0,ref:!0,__self:!0,__source:!0};function zC(e,t,n){var a,i={},s=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)DC.call(t,a)&&!FC.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)i[a]===void 0&&(i[a]=l[a]);return{$$typeof:ol,type:e,key:s,ref:o,props:i,_owner:sg.current}}function GI(e,t){return{$$typeof:ol,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function og(e){return typeof e=="object"&&e!==null&&e.$$typeof===ol}function YI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var oy=/\/+/g;function $p(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YI(""+e.key):t.toString(36)}function Nc(e,t,n,a,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ol:case zI:o=!0}}if(o)return o=e,i=i(o),e=a===""?"."+$p(o,0):a,sy(i)?(n="",e!=null&&(n=e.replace(oy,"$&/")+"/"),Nc(i,t,n,"",function(u){return u})):i!=null&&(og(i)&&(i=GI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(oy,"$&/")+"/")+e)),t.push(i)),1;if(o=0,a=a===""?".":a+":",sy(e))for(var l=0;l<e.length;l++){s=e[l];var c=a+$p(s,l);o+=Nc(s,t,n,c,i)}else if(c=VI(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=a+$p(s,l++),o+=Nc(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zl(e,t,n){if(e==null)return e;var a=[],i=0;return Nc(e,a,"","",function(s){return t.call(n,s,i++)}),a}function QI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},kc={transition:null},ZI={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:kc,ReactCurrentOwner:sg};function _C(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:zl,forEach:function(e,t,n){zl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zl(e,function(){t++}),t},toArray:function(e){return zl(e,function(t){return t})||[]},only:function(e){if(!og(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=xs;Ae.Fragment=_I;Ae.Profiler=BI;Ae.PureComponent=rg;Ae.StrictMode=RI;Ae.Suspense=HI;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZI;Ae.act=_C;Ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=OC({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=sg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)DC.call(t,c)&&!FC.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:ol,type:e.type,key:i,ref:s,props:a,_owner:o}};Ae.createContext=function(e){return e={$$typeof:UI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$I,_context:e},e.Consumer=e};Ae.createElement=zC;Ae.createFactory=function(e){var t=zC.bind(null,e);return t.type=e,t};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:WI,render:e}};Ae.isValidElement=og;Ae.lazy=function(e){return{$$typeof:KI,_payload:{_status:-1,_result:e},_init:QI}};Ae.memo=function(e,t){return{$$typeof:qI,type:e,compare:t===void 0?null:t}};Ae.startTransition=function(e){var t=kc.transition;kc.transition={};try{e()}finally{kc.transition=t}};Ae.unstable_act=_C;Ae.useCallback=function(e,t){return Jt.current.useCallback(e,t)};Ae.useContext=function(e){return Jt.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};Ae.useEffect=function(e,t){return Jt.current.useEffect(e,t)};Ae.useId=function(){return Jt.current.useId()};Ae.useImperativeHandle=function(e,t,n){return Jt.current.useImperativeHandle(e,t,n)};Ae.useInsertionEffect=function(e,t){return Jt.current.useInsertionEffect(e,t)};Ae.useLayoutEffect=function(e,t){return Jt.current.useLayoutEffect(e,t)};Ae.useMemo=function(e,t){return Jt.current.useMemo(e,t)};Ae.useReducer=function(e,t,n){return Jt.current.useReducer(e,t,n)};Ae.useRef=function(e){return Jt.current.useRef(e)};Ae.useState=function(e){return Jt.current.useState(e)};Ae.useSyncExternalStore=function(e,t,n){return Jt.current.useSyncExternalStore(e,t,n)};Ae.useTransition=function(){return Jt.current.useTransition()};Ae.version="18.3.1";TC.exports=Ae;var m=TC.exports;const ot=wa(m),RC=FI({__proto__:null,default:ot},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XI=m,JI=Symbol.for("react.element"),eO=Symbol.for("react.fragment"),tO=Object.prototype.hasOwnProperty,nO=XI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aO={key:!0,ref:!0,__self:!0,__source:!0};function BC(e,t,n){var a,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)tO.call(t,a)&&!aO.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)i[a]===void 0&&(i[a]=t[a]);return{$$typeof:JI,type:e,key:s,ref:o,props:i,_owner:nO.current}}fd.Fragment=eO;fd.jsx=BC;fd.jsxs=BC;EC.exports=fd;var r=EC.exports,Jm={},$C={exports:{}},Nn={},UC={exports:{}},WC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,F){var R=D.length;D.push(F);e:for(;0<R;){var z=R-1>>>1,U=D[z];if(0<i(U,F))D[z]=F,D[R]=U,R=z;else break e}}function n(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var F=D[0],R=D.pop();if(R!==F){D[0]=R;e:for(var z=0,U=D.length,K=U>>>1;z<K;){var Z=2*(z+1)-1,oe=D[Z],fe=Z+1,V=D[fe];if(0>i(oe,R))fe<U&&0>i(V,oe)?(D[z]=V,D[fe]=R,z=fe):(D[z]=oe,D[Z]=R,z=Z);else if(fe<U&&0>i(V,R))D[z]=V,D[fe]=R,z=fe;else break e}}return F}function i(D,F){var R=D.sortIndex-F.sortIndex;return R!==0?R:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,p=null,h=3,f=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var F=n(u);F!==null;){if(F.callback===null)a(u);else if(F.startTime<=D)a(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function j(D){if(v=!1,w(D),!g)if(n(c)!==null)g=!0,_(C);else{var F=n(u);F!==null&&I(j,F.startTime-D)}}function C(D,F){g=!1,v&&(v=!1,b(O),O=-1),f=!0;var R=h;try{for(w(F),p=n(c);p!==null&&(!(p.expirationTime>F)||D&&!T());){var z=p.callback;if(typeof z=="function"){p.callback=null,h=p.priorityLevel;var U=z(p.expirationTime<=F);F=e.unstable_now(),typeof U=="function"?p.callback=U:p===n(c)&&a(c),w(F)}else a(c);p=n(c)}if(p!==null)var K=!0;else{var Z=n(u);Z!==null&&I(j,Z.startTime-F),K=!1}return K}finally{p=null,h=R,f=!1}}var k=!1,E=null,O=-1,M=5,P=-1;function T(){return!(e.unstable_now()-P<M)}function S(){if(E!==null){var D=e.unstable_now();P=D;var F=!0;try{F=E(!0,D)}finally{F?N():(k=!1,E=null)}}else k=!1}var N;if(typeof x=="function")N=function(){x(S)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,L=A.port2;A.port1.onmessage=S,N=function(){L.postMessage(null)}}else N=function(){y(S,0)};function _(D){E=D,k||(k=!0,N())}function I(D,F){O=y(function(){D(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,_(C))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var R=h;h=F;try{return D()}finally{h=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var R=h;h=D;try{return F()}finally{h=R}},e.unstable_scheduleCallback=function(D,F,R){var z=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?z+R:z):R=z,D){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=R+U,D={id:d++,callback:F,priorityLevel:D,startTime:R,expirationTime:U,sortIndex:-1},R>z?(D.sortIndex=R,t(u,D),n(c)===null&&D===n(u)&&(v?(b(O),O=-1):v=!0,I(j,R-z))):(D.sortIndex=U,t(c,D),g||f||(g=!0,_(C))),D},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(D){var F=h;return function(){var R=h;h=F;try{return D.apply(this,arguments)}finally{h=R}}}})(WC);UC.exports=WC;var rO=UC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iO=m,Cn=rO;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HC=new Set,So={};function vi(e,t){ns(e,t),ns(e+"Capture",t)}function ns(e,t){for(So[e]=t,e=0;e<t.length;e++)HC.add(t[e])}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eh=Object.prototype.hasOwnProperty,sO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ly={},cy={};function oO(e){return eh.call(cy,e)?!0:eh.call(ly,e)?!1:sO.test(e)?cy[e]=!0:(ly[e]=!0,!1)}function lO(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cO(e,t,n,a){if(t===null||typeof t>"u"||lO(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function en(e,t,n,a,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dt[e]=new en(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dt[t]=new en(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dt[e]=new en(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dt[e]=new en(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dt[e]=new en(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dt[e]=new en(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dt[e]=new en(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dt[e]=new en(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dt[e]=new en(e,5,!1,e.toLowerCase(),null,!1,!1)});var lg=/[\-:]([a-z])/g;function cg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lg,cg);Dt[t]=new en(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lg,cg);Dt[t]=new en(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lg,cg);Dt[t]=new en(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dt[e]=new en(e,1,!1,e.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dt[e]=new en(e,1,!1,e.toLowerCase(),null,!0,!0)});function ug(e,t,n,a){var i=Dt.hasOwnProperty(t)?Dt[t]:null;(i!==null?i.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cO(t,n,i,a)&&(n=null),a||i===null?oO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,a=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var Ya=iO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_l=Symbol.for("react.element"),Mi=Symbol.for("react.portal"),Li=Symbol.for("react.fragment"),dg=Symbol.for("react.strict_mode"),th=Symbol.for("react.profiler"),qC=Symbol.for("react.provider"),KC=Symbol.for("react.context"),pg=Symbol.for("react.forward_ref"),nh=Symbol.for("react.suspense"),ah=Symbol.for("react.suspense_list"),mg=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),VC=Symbol.for("react.offscreen"),uy=Symbol.iterator;function Ds(e){return e===null||typeof e!="object"?null:(e=uy&&e[uy]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,Up;function ro(e){if(Up===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Up=t&&t[1]||""}return`
`+Up+e}var Wp=!1;function Hp(e,t){if(!e||Wp)return"";Wp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var a=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){a=u}e.call(t.prototype)}else{try{throw Error()}catch(u){a=u}e()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=a.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Wp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ro(e):""}function uO(e){switch(e.tag){case 5:return ro(e.type);case 16:return ro("Lazy");case 13:return ro("Suspense");case 19:return ro("SuspenseList");case 0:case 2:case 15:return e=Hp(e.type,!1),e;case 11:return e=Hp(e.type.render,!1),e;case 1:return e=Hp(e.type,!0),e;default:return""}}function rh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Li:return"Fragment";case Mi:return"Portal";case th:return"Profiler";case dg:return"StrictMode";case nh:return"Suspense";case ah:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case KC:return(e.displayName||"Context")+".Consumer";case qC:return(e._context.displayName||"Context")+".Provider";case pg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mg:return t=e.displayName||null,t!==null?t:rh(e.type)||"Memo";case ir:t=e._payload,e=e._init;try{return rh(e(t))}catch{}}return null}function dO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rh(t);case 8:return t===dg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function GC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pO(e){var t=GC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){a=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rl(e){e._valueTracker||(e._valueTracker=pO(e))}function YC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=GC(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Kc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ih(e,t){var n=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dy(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function QC(e,t){t=t.checked,t!=null&&ug(e,"checked",t,!1)}function sh(e,t){QC(e,t);var n=kr(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oh(e,t.type,n):t.hasOwnProperty("defaultValue")&&oh(e,t.type,kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function py(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function oh(e,t,n){(t!=="number"||Kc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var io=Array.isArray;function Gi(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+kr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function lh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function my(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if(io(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kr(n)}}function ZC(e,t){var n=kr(t.value),a=kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function hy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function XC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ch(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?XC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bl,JC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bl=Bl||document.createElement("div"),Bl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function No(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mO=["Webkit","ms","Moz","O"];Object.keys(po).forEach(function(e){mO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),po[t]=po[e]})});function eS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||po.hasOwnProperty(e)&&po[e]?(""+t).trim():t+"px"}function tS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,i=eS(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,i):e[n]=i}}var hO=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uh(e,t){if(t){if(hO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function dh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=null;function hg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mh=null,Yi=null,Qi=null;function fy(e){if(e=ul(e)){if(typeof mh!="function")throw Error(te(280));var t=e.stateNode;t&&(t=xd(t),mh(e.stateNode,e.type,t))}}function nS(e){Yi?Qi?Qi.push(e):Qi=[e]:Yi=e}function aS(){if(Yi){var e=Yi,t=Qi;if(Qi=Yi=null,fy(e),t)for(e=0;e<t.length;e++)fy(t[e])}}function rS(e,t){return e(t)}function iS(){}var qp=!1;function sS(e,t,n){if(qp)return e(t,n);qp=!0;try{return rS(e,t,n)}finally{qp=!1,(Yi!==null||Qi!==null)&&(iS(),aS())}}function ko(e,t){var n=e.stateNode;if(n===null)return null;var a=xd(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var hh=!1;if(za)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){hh=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{hh=!1}function fO(e,t,n,a,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var mo=!1,Vc=null,Gc=!1,fh=null,gO={onError:function(e){mo=!0,Vc=e}};function vO(e,t,n,a,i,s,o,l,c){mo=!1,Vc=null,fO.apply(gO,arguments)}function bO(e,t,n,a,i,s,o,l,c){if(vO.apply(this,arguments),mo){if(mo){var u=Vc;mo=!1,Vc=null}else throw Error(te(198));Gc||(Gc=!0,fh=u)}}function bi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gy(e){if(bi(e)!==e)throw Error(te(188))}function yO(e){var t=e.alternate;if(!t){if(t=bi(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gy(i),e;if(s===a)return gy(i),t;s=s.sibling}throw Error(te(188))}if(n.return!==a.return)n=i,a=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,a=s;break}if(l===a){o=!0,a=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,a=i;break}if(l===a){o=!0,a=s,n=i;break}l=l.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==a)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function lS(e){return e=yO(e),e!==null?cS(e):null}function cS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cS(e);if(t!==null)return t;e=e.sibling}return null}var uS=Cn.unstable_scheduleCallback,vy=Cn.unstable_cancelCallback,xO=Cn.unstable_shouldYield,wO=Cn.unstable_requestPaint,lt=Cn.unstable_now,jO=Cn.unstable_getCurrentPriorityLevel,fg=Cn.unstable_ImmediatePriority,dS=Cn.unstable_UserBlockingPriority,Yc=Cn.unstable_NormalPriority,CO=Cn.unstable_LowPriority,pS=Cn.unstable_IdlePriority,gd=null,fa=null;function SO(e){if(fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(gd,e,void 0,(e.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:PO,NO=Math.log,kO=Math.LN2;function PO(e){return e>>>=0,e===0?32:31-(NO(e)/kO|0)|0}var $l=64,Ul=4194304;function so(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qc(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?a=so(l):(s&=o,s!==0&&(a=so(s)))}else o=n&~i,o!==0?a=so(o):s!==0&&(a=so(s));if(a===0)return 0;if(t!==0&&t!==a&&!(t&i)&&(i=a&-a,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(a&4&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-Jn(t),i=1<<n,a|=e[n],t&=~i;return a}function AO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EO(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Jn(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&a)&&(i[o]=AO(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function gh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mS(){var e=$l;return $l<<=1,!($l&4194240)&&($l=64),e}function Kp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ll(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jn(t),e[t]=n}function TO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;t[i]=0,a[i]=-1,e[i]=-1,n&=~s}}function gg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Jn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}var _e=0;function hS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fS,vg,gS,vS,bS,vh=!1,Wl=[],fr=null,gr=null,vr=null,Po=new Map,Ao=new Map,cr=[],IO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function by(e,t){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(t.pointerId)}}function zs(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ul(t),t!==null&&vg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function OO(e,t,n,a,i){switch(t){case"focusin":return fr=zs(fr,e,t,n,a,i),!0;case"dragenter":return gr=zs(gr,e,t,n,a,i),!0;case"mouseover":return vr=zs(vr,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return Po.set(s,zs(Po.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,Ao.set(s,zs(Ao.get(s)||null,e,t,n,a,i)),!0}return!1}function yS(e){var t=qr(e.target);if(t!==null){var n=bi(t);if(n!==null){if(t=n.tag,t===13){if(t=oS(n),t!==null){e.blockedOn=t,bS(e.priority,function(){gS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ph=a,n.target.dispatchEvent(a),ph=null}else return t=ul(n),t!==null&&vg(t),e.blockedOn=n,!1;t.shift()}return!0}function yy(e,t,n){Pc(e)&&n.delete(t)}function MO(){vh=!1,fr!==null&&Pc(fr)&&(fr=null),gr!==null&&Pc(gr)&&(gr=null),vr!==null&&Pc(vr)&&(vr=null),Po.forEach(yy),Ao.forEach(yy)}function _s(e,t){e.blockedOn===t&&(e.blockedOn=null,vh||(vh=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,MO)))}function Eo(e){function t(i){return _s(i,e)}if(0<Wl.length){_s(Wl[0],e);for(var n=1;n<Wl.length;n++){var a=Wl[n];a.blockedOn===e&&(a.blockedOn=null)}}for(fr!==null&&_s(fr,e),gr!==null&&_s(gr,e),vr!==null&&_s(vr,e),Po.forEach(t),Ao.forEach(t),n=0;n<cr.length;n++)a=cr[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)yS(n),n.blockedOn===null&&cr.shift()}var Zi=Ya.ReactCurrentBatchConfig,Zc=!0;function LO(e,t,n,a){var i=_e,s=Zi.transition;Zi.transition=null;try{_e=1,bg(e,t,n,a)}finally{_e=i,Zi.transition=s}}function DO(e,t,n,a){var i=_e,s=Zi.transition;Zi.transition=null;try{_e=4,bg(e,t,n,a)}finally{_e=i,Zi.transition=s}}function bg(e,t,n,a){if(Zc){var i=bh(e,t,n,a);if(i===null)nm(e,t,a,Xc,n),by(e,a);else if(OO(i,e,t,n,a))a.stopPropagation();else if(by(e,a),t&4&&-1<IO.indexOf(e)){for(;i!==null;){var s=ul(i);if(s!==null&&fS(s),s=bh(e,t,n,a),s===null&&nm(e,t,a,Xc,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else nm(e,t,a,null,n)}}var Xc=null;function bh(e,t,n,a){if(Xc=null,e=hg(a),e=qr(e),e!==null)if(t=bi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xc=e,null}function xS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jO()){case fg:return 1;case dS:return 4;case Yc:case CO:return 16;case pS:return 536870912;default:return 16}default:return 16}}var pr=null,yg=null,Ac=null;function wS(){if(Ac)return Ac;var e,t=yg,n=t.length,a,i="value"in pr?pr.value:pr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(a=1;a<=o&&t[n-a]===i[s-a];a++);return Ac=i.slice(e,1<a?1-a:void 0)}function Ec(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hl(){return!0}function xy(){return!1}function kn(e){function t(n,a,i,s,o){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hl:xy,this.isPropagationStopped=xy,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),t}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xg=kn(ws),cl=tt({},ws,{view:0,detail:0}),FO=kn(cl),Vp,Gp,Rs,vd=tt({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rs&&(Rs&&e.type==="mousemove"?(Vp=e.screenX-Rs.screenX,Gp=e.screenY-Rs.screenY):Gp=Vp=0,Rs=e),Vp)},movementY:function(e){return"movementY"in e?e.movementY:Gp}}),wy=kn(vd),zO=tt({},vd,{dataTransfer:0}),_O=kn(zO),RO=tt({},cl,{relatedTarget:0}),Yp=kn(RO),BO=tt({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),$O=kn(BO),UO=tt({},ws,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),WO=kn(UO),HO=tt({},ws,{data:0}),jy=kn(HO),qO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VO[e])?!!t[e]:!1}function wg(){return GO}var YO=tt({},cl,{key:function(e){if(e.key){var t=qO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ec(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wg,charCode:function(e){return e.type==="keypress"?Ec(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ec(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QO=kn(YO),ZO=tt({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cy=kn(ZO),XO=tt({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wg}),JO=kn(XO),eM=tt({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),tM=kn(eM),nM=tt({},vd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aM=kn(nM),rM=[9,13,27,32],jg=za&&"CompositionEvent"in window,ho=null;za&&"documentMode"in document&&(ho=document.documentMode);var iM=za&&"TextEvent"in window&&!ho,jS=za&&(!jg||ho&&8<ho&&11>=ho),Sy=" ",Ny=!1;function CS(e,t){switch(e){case"keyup":return rM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function sM(e,t){switch(e){case"compositionend":return SS(t);case"keypress":return t.which!==32?null:(Ny=!0,Sy);case"textInput":return e=t.data,e===Sy&&Ny?null:e;default:return null}}function oM(e,t){if(Di)return e==="compositionend"||!jg&&CS(e,t)?(e=wS(),Ac=yg=pr=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jS&&t.locale!=="ko"?null:t.data;default:return null}}var lM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ky(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lM[e.type]:t==="textarea"}function NS(e,t,n,a){nS(a),t=Jc(t,"onChange"),0<t.length&&(n=new xg("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var fo=null,To=null;function cM(e){FS(e,0)}function bd(e){var t=_i(e);if(YC(t))return e}function uM(e,t){if(e==="change")return t}var kS=!1;if(za){var Qp;if(za){var Zp="oninput"in document;if(!Zp){var Py=document.createElement("div");Py.setAttribute("oninput","return;"),Zp=typeof Py.oninput=="function"}Qp=Zp}else Qp=!1;kS=Qp&&(!document.documentMode||9<document.documentMode)}function Ay(){fo&&(fo.detachEvent("onpropertychange",PS),To=fo=null)}function PS(e){if(e.propertyName==="value"&&bd(To)){var t=[];NS(t,To,e,hg(e)),sS(cM,t)}}function dM(e,t,n){e==="focusin"?(Ay(),fo=t,To=n,fo.attachEvent("onpropertychange",PS)):e==="focusout"&&Ay()}function pM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bd(To)}function mM(e,t){if(e==="click")return bd(t)}function hM(e,t){if(e==="input"||e==="change")return bd(t)}function fM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var na=typeof Object.is=="function"?Object.is:fM;function Io(e,t){if(na(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!eh.call(t,i)||!na(e[i],t[i]))return!1}return!0}function Ey(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ty(e,t){var n=Ey(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ey(n)}}function AS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?AS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ES(){for(var e=window,t=Kc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kc(e.document)}return t}function Cg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gM(e){var t=ES(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&AS(n.ownerDocument.documentElement,n)){if(a!==null&&Cg(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(a.start,i);a=a.end===void 0?s:Math.min(a.end,i),!e.extend&&s>a&&(i=a,a=s,s=i),i=Ty(n,s);var o=Ty(n,a);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vM=za&&"documentMode"in document&&11>=document.documentMode,Fi=null,yh=null,go=null,xh=!1;function Iy(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xh||Fi==null||Fi!==Kc(a)||(a=Fi,"selectionStart"in a&&Cg(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),go&&Io(go,a)||(go=a,a=Jc(yh,"onSelect"),0<a.length&&(t=new xg("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Fi)))}function ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zi={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionend:ql("Transition","TransitionEnd")},Xp={},TS={};za&&(TS=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function yd(e){if(Xp[e])return Xp[e];if(!zi[e])return e;var t=zi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in TS)return Xp[e]=t[n];return e}var IS=yd("animationend"),OS=yd("animationiteration"),MS=yd("animationstart"),LS=yd("transitionend"),DS=new Map,Oy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){DS.set(e,t),vi(t,[e])}for(var Jp=0;Jp<Oy.length;Jp++){var em=Oy[Jp],bM=em.toLowerCase(),yM=em[0].toUpperCase()+em.slice(1);Or(bM,"on"+yM)}Or(IS,"onAnimationEnd");Or(OS,"onAnimationIteration");Or(MS,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(LS,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xM=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function My(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,bO(a,t,void 0,e),e.currentTarget=null}function FS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;My(i,l,u),s=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;My(i,l,u),s=c}}}if(Gc)throw e=fh,Gc=!1,fh=null,e}function qe(e,t){var n=t[Nh];n===void 0&&(n=t[Nh]=new Set);var a=e+"__bubble";n.has(a)||(zS(t,e,2,!1),n.add(a))}function tm(e,t,n){var a=0;t&&(a|=4),zS(n,e,a,t)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Oo(e){if(!e[Kl]){e[Kl]=!0,HC.forEach(function(n){n!=="selectionchange"&&(xM.has(n)||tm(n,!1,e),tm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kl]||(t[Kl]=!0,tm("selectionchange",!1,t))}}function zS(e,t,n,a){switch(xS(t)){case 1:var i=LO;break;case 4:i=DO;break;default:i=bg}n=i.bind(null,t,n,e),i=void 0,!hh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nm(e,t,n,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=qr(l),o===null)return;if(c=o.tag,c===5||c===6){a=s=o;continue e}l=l.parentNode}}a=a.return}sS(function(){var u=s,d=hg(n),p=[];e:{var h=DS.get(e);if(h!==void 0){var f=xg,g=e;switch(e){case"keypress":if(Ec(n)===0)break e;case"keydown":case"keyup":f=QO;break;case"focusin":g="focus",f=Yp;break;case"focusout":g="blur",f=Yp;break;case"beforeblur":case"afterblur":f=Yp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=_O;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=JO;break;case IS:case OS:case MS:f=$O;break;case LS:f=tM;break;case"scroll":f=FO;break;case"wheel":f=aM;break;case"copy":case"cut":case"paste":f=WO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Cy}var v=(t&4)!==0,y=!v&&e==="scroll",b=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,b!==null&&(j=ko(x,b),j!=null&&v.push(Mo(x,j,w)))),y)break;x=x.return}0<v.length&&(h=new f(h,g,null,n,d),p.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==ph&&(g=n.relatedTarget||n.fromElement)&&(qr(g)||g[_a]))break e;if((f||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?qr(g):null,g!==null&&(y=bi(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(v=wy,j="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=Cy,j="onPointerLeave",b="onPointerEnter",x="pointer"),y=f==null?h:_i(f),w=g==null?h:_i(g),h=new v(j,x+"leave",f,n,d),h.target=y,h.relatedTarget=w,j=null,qr(d)===u&&(v=new v(b,x+"enter",g,n,d),v.target=w,v.relatedTarget=y,j=v),y=j,f&&g)t:{for(v=f,b=g,x=0,w=v;w;w=wi(w))x++;for(w=0,j=b;j;j=wi(j))w++;for(;0<x-w;)v=wi(v),x--;for(;0<w-x;)b=wi(b),w--;for(;x--;){if(v===b||b!==null&&v===b.alternate)break t;v=wi(v),b=wi(b)}v=null}else v=null;f!==null&&Ly(p,h,f,v,!1),g!==null&&y!==null&&Ly(p,y,g,v,!0)}}e:{if(h=u?_i(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var C=uM;else if(ky(h))if(kS)C=hM;else{C=pM;var k=dM}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=mM);if(C&&(C=C(e,u))){NS(p,C,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&oh(h,"number",h.value)}switch(k=u?_i(u):window,e){case"focusin":(ky(k)||k.contentEditable==="true")&&(Fi=k,yh=u,go=null);break;case"focusout":go=yh=Fi=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Iy(p,n,d);break;case"selectionchange":if(vM)break;case"keydown":case"keyup":Iy(p,n,d)}var E;if(jg)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Di?CS(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(jS&&n.locale!=="ko"&&(Di||O!=="onCompositionStart"?O==="onCompositionEnd"&&Di&&(E=wS()):(pr=d,yg="value"in pr?pr.value:pr.textContent,Di=!0)),k=Jc(u,O),0<k.length&&(O=new jy(O,e,null,n,d),p.push({event:O,listeners:k}),E?O.data=E:(E=SS(n),E!==null&&(O.data=E)))),(E=iM?sM(e,n):oM(e,n))&&(u=Jc(u,"onBeforeInput"),0<u.length&&(d=new jy("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=E))}FS(p,t)})}function Mo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jc(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ko(e,n),s!=null&&a.unshift(Mo(e,s,i)),s=ko(e,t),s!=null&&a.push(Mo(e,s,i))),e=e.return}return a}function wi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ly(e,t,n,a,i){for(var s=t._reactName,o=[];n!==null&&n!==a;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&u!==null&&(l=u,i?(c=ko(n,s),c!=null&&o.unshift(Mo(n,c,l))):i||(c=ko(n,s),c!=null&&o.push(Mo(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var wM=/\r\n?/g,jM=/\u0000|\uFFFD/g;function Dy(e){return(typeof e=="string"?e:""+e).replace(wM,`
`).replace(jM,"")}function Vl(e,t,n){if(t=Dy(t),Dy(e)!==t&&n)throw Error(te(425))}function eu(){}var wh=null,jh=null;function Ch(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sh=typeof setTimeout=="function"?setTimeout:void 0,CM=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,SM=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(e){return Fy.resolve(null).then(e).catch(NM)}:Sh;function NM(e){setTimeout(function(){throw e})}function am(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(a===0){e.removeChild(i),Eo(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=i}while(n);Eo(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var js=Math.random().toString(36).slice(2),pa="__reactFiber$"+js,Lo="__reactProps$"+js,_a="__reactContainer$"+js,Nh="__reactEvents$"+js,kM="__reactListeners$"+js,PM="__reactHandles$"+js;function qr(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_a]||n[pa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zy(e);e!==null;){if(n=e[pa])return n;e=zy(e)}return t}e=n,n=e.parentNode}return null}function ul(e){return e=e[pa]||e[_a],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _i(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function xd(e){return e[Lo]||null}var kh=[],Ri=-1;function Mr(e){return{current:e}}function Ve(e){0>Ri||(e.current=kh[Ri],kh[Ri]=null,Ri--)}function We(e,t){Ri++,kh[Ri]=e.current,e.current=t}var Pr={},Wt=Mr(Pr),un=Mr(!1),ri=Pr;function as(e,t){var n=e.type.contextTypes;if(!n)return Pr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function dn(e){return e=e.childContextTypes,e!=null}function tu(){Ve(un),Ve(Wt)}function _y(e,t,n){if(Wt.current!==Pr)throw Error(te(168));We(Wt,t),We(un,n)}function _S(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var i in a)if(!(i in t))throw Error(te(108,dO(e)||"Unknown",i));return tt({},n,a)}function nu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,ri=Wt.current,We(Wt,e),We(un,un.current),!0}function Ry(e,t,n){var a=e.stateNode;if(!a)throw Error(te(169));n?(e=_S(e,t,ri),a.__reactInternalMemoizedMergedChildContext=e,Ve(un),Ve(Wt),We(Wt,e)):Ve(un),We(un,n)}var Na=null,wd=!1,rm=!1;function RS(e){Na===null?Na=[e]:Na.push(e)}function AM(e){wd=!0,RS(e)}function Lr(){if(!rm&&Na!==null){rm=!0;var e=0,t=_e;try{var n=Na;for(_e=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Na=null,wd=!1}catch(i){throw Na!==null&&(Na=Na.slice(e+1)),uS(fg,Lr),i}finally{_e=t,rm=!1}}return null}var Bi=[],$i=0,au=null,ru=0,In=[],On=0,ii=null,Ea=1,Ta="";function Br(e,t){Bi[$i++]=ru,Bi[$i++]=au,au=e,ru=t}function BS(e,t,n){In[On++]=Ea,In[On++]=Ta,In[On++]=ii,ii=e;var a=Ea;e=Ta;var i=32-Jn(a)-1;a&=~(1<<i),n+=1;var s=32-Jn(t)+i;if(30<s){var o=i-i%5;s=(a&(1<<o)-1).toString(32),a>>=o,i-=o,Ea=1<<32-Jn(t)+i|n<<i|a,Ta=s+e}else Ea=1<<s|n<<i|a,Ta=e}function Sg(e){e.return!==null&&(Br(e,1),BS(e,1,0))}function Ng(e){for(;e===au;)au=Bi[--$i],Bi[$i]=null,ru=Bi[--$i],Bi[$i]=null;for(;e===ii;)ii=In[--On],In[On]=null,Ta=In[--On],In[On]=null,Ea=In[--On],In[On]=null}var wn=null,yn=null,Qe=!1,Yn=null;function $S(e,t){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function By(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,yn=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ii!==null?{id:Ea,overflow:Ta}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wn=e,yn=null,!0):!1;default:return!1}}function Ph(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ah(e){if(Qe){var t=yn;if(t){var n=t;if(!By(e,t)){if(Ph(e))throw Error(te(418));t=br(n.nextSibling);var a=wn;t&&By(e,t)?$S(a,n):(e.flags=e.flags&-4097|2,Qe=!1,wn=e)}}else{if(Ph(e))throw Error(te(418));e.flags=e.flags&-4097|2,Qe=!1,wn=e}}}function $y(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function Gl(e){if(e!==wn)return!1;if(!Qe)return $y(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ch(e.type,e.memoizedProps)),t&&(t=yn)){if(Ph(e))throw US(),Error(te(418));for(;t;)$S(e,t),t=br(t.nextSibling)}if($y(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yn=br(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yn=null}}else yn=wn?br(e.stateNode.nextSibling):null;return!0}function US(){for(var e=yn;e;)e=br(e.nextSibling)}function rs(){yn=wn=null,Qe=!1}function kg(e){Yn===null?Yn=[e]:Yn.push(e)}var EM=Ya.ReactCurrentBatchConfig;function Bs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var a=n.stateNode}if(!a)throw Error(te(147,e));var i=a,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function Yl(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uy(e){var t=e._init;return t(e._payload)}function WS(e){function t(b,x){if(e){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function n(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function a(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=jr(b,x),b.index=0,b.sibling=null,b}function s(b,x,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,w,j){return x===null||x.tag!==6?(x=dm(w,b.mode,j),x.return=b,x):(x=i(x,w),x.return=b,x)}function c(b,x,w,j){var C=w.type;return C===Li?d(b,x,w.props.children,j,w.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ir&&Uy(C)===x.type)?(j=i(x,w.props),j.ref=Bs(b,x,w),j.return=b,j):(j=Fc(w.type,w.key,w.props,null,b.mode,j),j.ref=Bs(b,x,w),j.return=b,j)}function u(b,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=pm(w,b.mode,j),x.return=b,x):(x=i(x,w.children||[]),x.return=b,x)}function d(b,x,w,j,C){return x===null||x.tag!==7?(x=Jr(w,b.mode,j,C),x.return=b,x):(x=i(x,w),x.return=b,x)}function p(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=dm(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _l:return w=Fc(x.type,x.key,x.props,null,b.mode,w),w.ref=Bs(b,null,x),w.return=b,w;case Mi:return x=pm(x,b.mode,w),x.return=b,x;case ir:var j=x._init;return p(b,j(x._payload),w)}if(io(x)||Ds(x))return x=Jr(x,b.mode,w,null),x.return=b,x;Yl(b,x)}return null}function h(b,x,w,j){var C=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:l(b,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _l:return w.key===C?c(b,x,w,j):null;case Mi:return w.key===C?u(b,x,w,j):null;case ir:return C=w._init,h(b,x,C(w._payload),j)}if(io(w)||Ds(w))return C!==null?null:d(b,x,w,j,null);Yl(b,w)}return null}function f(b,x,w,j,C){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(w)||null,l(x,b,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _l:return b=b.get(j.key===null?w:j.key)||null,c(x,b,j,C);case Mi:return b=b.get(j.key===null?w:j.key)||null,u(x,b,j,C);case ir:var k=j._init;return f(b,x,w,k(j._payload),C)}if(io(j)||Ds(j))return b=b.get(w)||null,d(x,b,j,C,null);Yl(x,j)}return null}function g(b,x,w,j){for(var C=null,k=null,E=x,O=x=0,M=null;E!==null&&O<w.length;O++){E.index>O?(M=E,E=null):M=E.sibling;var P=h(b,E,w[O],j);if(P===null){E===null&&(E=M);break}e&&E&&P.alternate===null&&t(b,E),x=s(P,x,O),k===null?C=P:k.sibling=P,k=P,E=M}if(O===w.length)return n(b,E),Qe&&Br(b,O),C;if(E===null){for(;O<w.length;O++)E=p(b,w[O],j),E!==null&&(x=s(E,x,O),k===null?C=E:k.sibling=E,k=E);return Qe&&Br(b,O),C}for(E=a(b,E);O<w.length;O++)M=f(E,b,O,w[O],j),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?O:M.key),x=s(M,x,O),k===null?C=M:k.sibling=M,k=M);return e&&E.forEach(function(T){return t(b,T)}),Qe&&Br(b,O),C}function v(b,x,w,j){var C=Ds(w);if(typeof C!="function")throw Error(te(150));if(w=C.call(w),w==null)throw Error(te(151));for(var k=C=null,E=x,O=x=0,M=null,P=w.next();E!==null&&!P.done;O++,P=w.next()){E.index>O?(M=E,E=null):M=E.sibling;var T=h(b,E,P.value,j);if(T===null){E===null&&(E=M);break}e&&E&&T.alternate===null&&t(b,E),x=s(T,x,O),k===null?C=T:k.sibling=T,k=T,E=M}if(P.done)return n(b,E),Qe&&Br(b,O),C;if(E===null){for(;!P.done;O++,P=w.next())P=p(b,P.value,j),P!==null&&(x=s(P,x,O),k===null?C=P:k.sibling=P,k=P);return Qe&&Br(b,O),C}for(E=a(b,E);!P.done;O++,P=w.next())P=f(E,b,O,P.value,j),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?O:P.key),x=s(P,x,O),k===null?C=P:k.sibling=P,k=P);return e&&E.forEach(function(S){return t(b,S)}),Qe&&Br(b,O),C}function y(b,x,w,j){if(typeof w=="object"&&w!==null&&w.type===Li&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case _l:e:{for(var C=w.key,k=x;k!==null;){if(k.key===C){if(C=w.type,C===Li){if(k.tag===7){n(b,k.sibling),x=i(k,w.props.children),x.return=b,b=x;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ir&&Uy(C)===k.type){n(b,k.sibling),x=i(k,w.props),x.ref=Bs(b,k,w),x.return=b,b=x;break e}n(b,k);break}else t(b,k);k=k.sibling}w.type===Li?(x=Jr(w.props.children,b.mode,j,w.key),x.return=b,b=x):(j=Fc(w.type,w.key,w.props,null,b.mode,j),j.ref=Bs(b,x,w),j.return=b,b=j)}return o(b);case Mi:e:{for(k=w.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(b,x.sibling),x=i(x,w.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else t(b,x);x=x.sibling}x=pm(w,b.mode,j),x.return=b,b=x}return o(b);case ir:return k=w._init,y(b,x,k(w._payload),j)}if(io(w))return g(b,x,w,j);if(Ds(w))return v(b,x,w,j);Yl(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(b,x.sibling),x=i(x,w),x.return=b,b=x):(n(b,x),x=dm(w,b.mode,j),x.return=b,b=x),o(b)):n(b,x)}return y}var is=WS(!0),HS=WS(!1),iu=Mr(null),su=null,Ui=null,Pg=null;function Ag(){Pg=Ui=su=null}function Eg(e){var t=iu.current;Ve(iu),e._currentValue=t}function Eh(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){su=e,Pg=Ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function Fn(e){var t=e._currentValue;if(Pg!==e)if(e={context:e,memoizedValue:t,next:null},Ui===null){if(su===null)throw Error(te(308));Ui=e,su.dependencies={lanes:0,firstContext:e}}else Ui=Ui.next=e;return t}var Kr=null;function Tg(e){Kr===null?Kr=[e]:Kr.push(e)}function qS(e,t,n,a){var i=t.interleaved;return i===null?(n.next=n,Tg(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,a)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sr=!1;function Ig(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yr(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Oe&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,Ra(e,n)}return i=a.interleaved,i===null?(t.next=t,Tg(a)):(t.next=i.next,i.next=t),a.interleaved=t,Ra(e,n)}function Tc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,gg(e,n)}}function Wy(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ou(e,t,n,a){var i=e.updateQueue;sr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,f=l.eventTime;if((a&h)===h){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(h=t,f=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){p=g.call(f,p,h);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(f,p,h):g,h==null)break e;p=tt({},p,h);break e;case 2:sr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=p):d=d.next=f,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);oi|=o,e.lanes=o,e.memoizedState=p}}function Hy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],i=a.callback;if(i!==null){if(a.callback=null,a=n,typeof i!="function")throw Error(te(191,i));i.call(a)}}}var dl={},ga=Mr(dl),Do=Mr(dl),Fo=Mr(dl);function Vr(e){if(e===dl)throw Error(te(174));return e}function Og(e,t){switch(We(Fo,t),We(Do,e),We(ga,dl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ch(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ch(t,e)}Ve(ga),We(ga,t)}function ss(){Ve(ga),Ve(Do),Ve(Fo)}function VS(e){Vr(Fo.current);var t=Vr(ga.current),n=ch(t,e.type);t!==n&&(We(Do,e),We(ga,n))}function Mg(e){Do.current===e&&(Ve(ga),Ve(Do))}var Je=Mr(0);function lu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var im=[];function Lg(){for(var e=0;e<im.length;e++)im[e]._workInProgressVersionPrimary=null;im.length=0}var Ic=Ya.ReactCurrentDispatcher,sm=Ya.ReactCurrentBatchConfig,si=0,et=null,ht=null,kt=null,cu=!1,vo=!1,zo=0,TM=0;function _t(){throw Error(te(321))}function Dg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!na(e[n],t[n]))return!1;return!0}function Fg(e,t,n,a,i,s){if(si=s,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ic.current=e===null||e.memoizedState===null?LM:DM,e=n(a,i),vo){s=0;do{if(vo=!1,zo=0,25<=s)throw Error(te(301));s+=1,kt=ht=null,t.updateQueue=null,Ic.current=FM,e=n(a,i)}while(vo)}if(Ic.current=uu,t=ht!==null&&ht.next!==null,si=0,kt=ht=et=null,cu=!1,t)throw Error(te(300));return e}function zg(){var e=zo!==0;return zo=0,e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?et.memoizedState=kt=e:kt=kt.next=e,kt}function zn(){if(ht===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=kt===null?et.memoizedState:kt.next;if(t!==null)kt=t,ht=e;else{if(e===null)throw Error(te(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},kt===null?et.memoizedState=kt=e:kt=kt.next=e}return kt}function _o(e,t){return typeof t=="function"?t(e):t}function om(e){var t=zn(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var a=ht,i=a.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}a.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,a=a.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((si&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,o=a):c=c.next=p,et.lanes|=d,oi|=d}u=u.next}while(u!==null&&u!==s);c===null?o=a:c.next=l,na(a,t.memoizedState)||(on=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,n.lastRenderedState=a}if(e=n.interleaved,e!==null){i=e;do s=i.lane,et.lanes|=s,oi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function lm(e){var t=zn(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);na(s,t.memoizedState)||(on=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function GS(){}function YS(e,t){var n=et,a=zn(),i=t(),s=!na(a.memoizedState,i);if(s&&(a.memoizedState=i,on=!0),a=a.queue,_g(XS.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Ro(9,ZS.bind(null,n,a,i,t),void 0,null),At===null)throw Error(te(349));si&30||QS(n,t,i)}return i}function QS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ZS(e,t,n,a){t.value=n,t.getSnapshot=a,JS(t)&&eN(e)}function XS(e,t,n){return n(function(){JS(t)&&eN(e)})}function JS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!na(e,n)}catch{return!0}}function eN(e){var t=Ra(e,1);t!==null&&ea(t,e,1,-1)}function qy(e){var t=ua();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=MM.bind(null,et,e),[t.memoizedState,e]}function Ro(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=et.updateQueue,t===null?(t={lastEffect:null,stores:null},et.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function tN(){return zn().memoizedState}function Oc(e,t,n,a){var i=ua();et.flags|=e,i.memoizedState=Ro(1|t,n,void 0,a===void 0?null:a)}function jd(e,t,n,a){var i=zn();a=a===void 0?null:a;var s=void 0;if(ht!==null){var o=ht.memoizedState;if(s=o.destroy,a!==null&&Dg(a,o.deps)){i.memoizedState=Ro(t,n,s,a);return}}et.flags|=e,i.memoizedState=Ro(1|t,n,s,a)}function Ky(e,t){return Oc(8390656,8,e,t)}function _g(e,t){return jd(2048,8,e,t)}function nN(e,t){return jd(4,2,e,t)}function aN(e,t){return jd(4,4,e,t)}function rN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iN(e,t,n){return n=n!=null?n.concat([e]):null,jd(4,4,rN.bind(null,t,e),n)}function Rg(){}function sN(e,t){var n=zn();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&Dg(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function oN(e,t){var n=zn();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&Dg(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function lN(e,t,n){return si&21?(na(n,t)||(n=mS(),et.lanes|=n,oi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=n)}function IM(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var a=sm.transition;sm.transition={};try{e(!1),t()}finally{_e=n,sm.transition=a}}function cN(){return zn().memoizedState}function OM(e,t,n){var a=wr(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},uN(e))dN(t,n);else if(n=qS(e,t,n,a),n!==null){var i=Qt();ea(n,e,a,i),pN(n,t,a)}}function MM(e,t,n){var a=wr(e),i={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(uN(e))dN(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,na(l,o)){var c=t.interleaved;c===null?(i.next=i,Tg(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=qS(e,t,i,a),n!==null&&(i=Qt(),ea(n,e,a,i),pN(n,t,a))}}function uN(e){var t=e.alternate;return e===et||t!==null&&t===et}function dN(e,t){vo=cu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pN(e,t,n){if(n&4194240){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,gg(e,n)}}var uu={readContext:Fn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},LM={readContext:Fn,useCallback:function(e,t){return ua().memoizedState=[e,t===void 0?null:t],e},useContext:Fn,useEffect:Ky,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oc(4194308,4,rN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oc(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=ua();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=OM.bind(null,et,e),[a.memoizedState,e]},useRef:function(e){var t=ua();return e={current:e},t.memoizedState=e},useState:qy,useDebugValue:Rg,useDeferredValue:function(e){return ua().memoizedState=e},useTransition:function(){var e=qy(!1),t=e[0];return e=IM.bind(null,e[1]),ua().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=et,i=ua();if(Qe){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),At===null)throw Error(te(349));si&30||QS(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ky(XS.bind(null,a,s,e),[e]),a.flags|=2048,Ro(9,ZS.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=ua(),t=At.identifierPrefix;if(Qe){var n=Ta,a=Ea;n=(a&~(1<<32-Jn(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=zo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=TM++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},DM={readContext:Fn,useCallback:sN,useContext:Fn,useEffect:_g,useImperativeHandle:iN,useInsertionEffect:nN,useLayoutEffect:aN,useMemo:oN,useReducer:om,useRef:tN,useState:function(){return om(_o)},useDebugValue:Rg,useDeferredValue:function(e){var t=zn();return lN(t,ht.memoizedState,e)},useTransition:function(){var e=om(_o)[0],t=zn().memoizedState;return[e,t]},useMutableSource:GS,useSyncExternalStore:YS,useId:cN,unstable_isNewReconciler:!1},FM={readContext:Fn,useCallback:sN,useContext:Fn,useEffect:_g,useImperativeHandle:iN,useInsertionEffect:nN,useLayoutEffect:aN,useMemo:oN,useReducer:lm,useRef:tN,useState:function(){return lm(_o)},useDebugValue:Rg,useDeferredValue:function(e){var t=zn();return ht===null?t.memoizedState=e:lN(t,ht.memoizedState,e)},useTransition:function(){var e=lm(_o)[0],t=zn().memoizedState;return[e,t]},useMutableSource:GS,useSyncExternalStore:YS,useId:cN,unstable_isNewReconciler:!1};function Vn(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Th(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cd={isMounted:function(e){return(e=e._reactInternals)?bi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Qt(),i=wr(e),s=La(a,i);s.payload=t,n!=null&&(s.callback=n),t=yr(e,s,i),t!==null&&(ea(t,e,i,a),Tc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Qt(),i=wr(e),s=La(a,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=yr(e,s,i),t!==null&&(ea(t,e,i,a),Tc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qt(),a=wr(e),i=La(n,a);i.tag=2,t!=null&&(i.callback=t),t=yr(e,i,a),t!==null&&(ea(t,e,a,n),Tc(t,e,a))}};function Vy(e,t,n,a,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,o):t.prototype&&t.prototype.isPureReactComponent?!Io(n,a)||!Io(i,s):!0}function mN(e,t,n){var a=!1,i=Pr,s=t.contextType;return typeof s=="object"&&s!==null?s=Fn(s):(i=dn(t)?ri:Wt.current,a=t.contextTypes,s=(a=a!=null)?as(e,i):Pr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cd,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Gy(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Cd.enqueueReplaceState(t,t.state,null)}function Ih(e,t,n,a){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ig(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Fn(s):(s=dn(t)?ri:Wt.current,i.context=as(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Th(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Cd.enqueueReplaceState(i,i.state,null),ou(e,n,i,a),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function os(e,t){try{var n="",a=t;do n+=uO(a),a=a.return;while(a);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function cm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Oh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zM=typeof WeakMap=="function"?WeakMap:Map;function hN(e,t,n){n=La(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){pu||(pu=!0,Uh=a),Oh(e,t)},n}function fN(e,t,n){n=La(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var i=t.value;n.payload=function(){return a(i)},n.callback=function(){Oh(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Oh(e,t),typeof a!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Yy(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new zM;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(i.add(n),e=ZM.bind(null,e,t,n),t.then(e,e))}function Qy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zy(e,t,n,a,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=La(-1,1),t.tag=2,yr(n,t,1))),n.lanes|=1),e)}var _M=Ya.ReactCurrentOwner,on=!1;function Vt(e,t,n,a){t.child=e===null?HS(t,null,n,a):is(t,e.child,n,a)}function Xy(e,t,n,a,i){n=n.render;var s=t.ref;return Xi(t,i),a=Fg(e,t,n,a,s,i),n=zg(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ba(e,t,i)):(Qe&&n&&Sg(t),t.flags|=1,Vt(e,t,a,i),t.child)}function Jy(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!Vg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,gN(e,t,s,a,i)):(e=Fc(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Io,n(o,a)&&e.ref===t.ref)return Ba(e,t,i)}return t.flags|=1,e=jr(s,a),e.ref=t.ref,e.return=t,t.child=e}function gN(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Io(s,a)&&e.ref===t.ref)if(on=!1,t.pendingProps=a=s,(e.lanes&i)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,Ba(e,t,i)}return Mh(e,t,n,a,i)}function vN(e,t,n){var a=t.pendingProps,i=a.children,s=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Hi,gn),gn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Hi,gn),gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=s!==null?s.baseLanes:n,We(Hi,gn),gn|=a}else s!==null?(a=s.baseLanes|n,t.memoizedState=null):a=n,We(Hi,gn),gn|=a;return Vt(e,t,i,n),t.child}function bN(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mh(e,t,n,a,i){var s=dn(n)?ri:Wt.current;return s=as(t,s),Xi(t,i),n=Fg(e,t,n,a,s,i),a=zg(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ba(e,t,i)):(Qe&&a&&Sg(t),t.flags|=1,Vt(e,t,n,i),t.child)}function ex(e,t,n,a,i){if(dn(n)){var s=!0;nu(t)}else s=!1;if(Xi(t,i),t.stateNode===null)Mc(e,t),mN(t,n,a),Ih(t,n,a,i),a=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fn(u):(u=dn(n)?ri:Wt.current,u=as(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||c!==u)&&Gy(t,o,a,u),sr=!1;var h=t.memoizedState;o.state=h,ou(t,a,o,i),c=t.memoizedState,l!==a||h!==c||un.current||sr?(typeof d=="function"&&(Th(t,n,d,a),c=t.memoizedState),(l=sr||Vy(t,n,l,a,h,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),o.props=a,o.state=c,o.context=u,a=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,KS(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Vn(t.type,l),o.props=u,p=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Fn(c):(c=dn(n)?ri:Wt.current,c=as(t,c));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||h!==c)&&Gy(t,o,a,c),sr=!1,h=t.memoizedState,o.state=h,ou(t,a,o,i);var g=t.memoizedState;l!==p||h!==g||un.current||sr?(typeof f=="function"&&(Th(t,n,f,a),g=t.memoizedState),(u=sr||Vy(t,n,u,a,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),o.props=a,o.state=g,o.context=c,a=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Lh(e,t,n,a,s,i)}function Lh(e,t,n,a,i,s){bN(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return i&&Ry(t,n,!1),Ba(e,t,s);a=t.stateNode,_M.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=is(t,e.child,null,s),t.child=is(t,null,l,s)):Vt(e,t,l,s),t.memoizedState=a.state,i&&Ry(t,n,!0),t.child}function yN(e){var t=e.stateNode;t.pendingContext?_y(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_y(e,t.context,!1),Og(e,t.containerInfo)}function tx(e,t,n,a,i){return rs(),kg(i),t.flags|=256,Vt(e,t,n,a),t.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Fh(e){return{baseLanes:e,cachePool:null,transitions:null}}function xN(e,t,n){var a=t.pendingProps,i=Je.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),We(Je,i&1),e===null)return Ah(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,s?(a=t.mode,s=t.child,o={mode:"hidden",children:o},!(a&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=kd(o,a,0,null),e=Jr(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fh(n),t.memoizedState=Dh,e):Bg(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return RM(e,t,o,a,l,i,n);if(s){s=a.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&t.child!==i?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=jr(i,c),a.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=jr(l,s):(s=Jr(s,o,n,null),s.flags|=2),s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,o=e.child.memoizedState,o=o===null?Fh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Dh,a}return s=e.child,e=s.sibling,a=jr(s,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bg(e,t){return t=kd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ql(e,t,n,a){return a!==null&&kg(a),is(t,e.child,null,n),e=Bg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RM(e,t,n,a,i,s,o){if(n)return t.flags&256?(t.flags&=-257,a=cm(Error(te(422))),Ql(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=a.fallback,i=t.mode,a=kd({mode:"visible",children:a.children},i,0,null),s=Jr(s,i,o,null),s.flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,t.mode&1&&is(t,e.child,null,o),t.child.memoizedState=Fh(o),t.memoizedState=Dh,s);if(!(t.mode&1))return Ql(e,t,o,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var l=a.dgst;return a=l,s=Error(te(419)),a=cm(s,a,void 0),Ql(e,t,o,a)}if(l=(o&e.childLanes)!==0,on||l){if(a=At,a!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(a.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ra(e,i),ea(a,e,i,-1))}return Kg(),a=cm(Error(te(421))),Ql(e,t,o,a)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=XM.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,yn=br(i.nextSibling),wn=t,Qe=!0,Yn=null,e!==null&&(In[On++]=Ea,In[On++]=Ta,In[On++]=ii,Ea=e.id,Ta=e.overflow,ii=t),t=Bg(t,a.children),t.flags|=4096,t)}function nx(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Eh(e.return,t,n)}function um(e,t,n,a,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=i)}function wN(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;if(Vt(e,t,a.children,n),a=Je.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nx(e,n,t);else if(e.tag===19)nx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(We(Je,a),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&lu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),um(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&lu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}um(t,!0,n,null,s);break;case"together":um(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ba(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),oi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=jr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function BM(e,t,n){switch(t.tag){case 3:yN(t),rs();break;case 5:VS(t);break;case 1:dn(t.type)&&nu(t);break;case 4:Og(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,i=t.memoizedProps.value;We(iu,a._currentValue),a._currentValue=i;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(We(Je,Je.current&1),t.flags|=128,null):n&t.child.childLanes?xN(e,t,n):(We(Je,Je.current&1),e=Ba(e,t,n),e!==null?e.sibling:null);We(Je,Je.current&1);break;case 19:if(a=(n&t.childLanes)!==0,e.flags&128){if(a)return wN(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(Je,Je.current),a)break;return null;case 22:case 23:return t.lanes=0,vN(e,t,n)}return Ba(e,t,n)}var jN,zh,CN,SN;jN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zh=function(){};CN=function(e,t,n,a){var i=e.memoizedProps;if(i!==a){e=t.stateNode,Vr(ga.current);var s=null;switch(n){case"input":i=ih(e,i),a=ih(e,a),s=[];break;case"select":i=tt({},i,{value:void 0}),a=tt({},a,{value:void 0}),s=[];break;case"textarea":i=lh(e,i),a=lh(e,a),s=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=eu)}uh(n,a);var o;n=null;for(u in i)if(!a.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(So.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in a){var c=a[u];if(l=i!=null?i[u]:void 0,a.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(So.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&qe("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};SN=function(e,t,n,a){n!==a&&(t.flags|=4)};function $s(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function $M(e,t,n){var a=t.pendingProps;switch(Ng(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return dn(t.type)&&tu(),Rt(t),null;case 3:return a=t.stateNode,ss(),Ve(un),Ve(Wt),Lg(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yn!==null&&(qh(Yn),Yn=null))),zh(e,t),Rt(t),null;case 5:Mg(t);var i=Vr(Fo.current);if(n=t.type,e!==null&&t.stateNode!=null)CN(e,t,n,a,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(te(166));return Rt(t),null}if(e=Vr(ga.current),Gl(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[pa]=t,a[Lo]=s,e=(t.mode&1)!==0,n){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(i=0;i<oo.length;i++)qe(oo[i],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":dy(a,s),qe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},qe("invalid",a);break;case"textarea":my(a,s),qe("invalid",a)}uh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?a.textContent!==l&&(s.suppressHydrationWarning!==!0&&Vl(a.textContent,l,e),i=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Vl(a.textContent,l,e),i=["children",""+l]):So.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qe("scroll",a)}switch(n){case"input":Rl(a),py(a,s,!0);break;case"textarea":Rl(a),hy(a);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(a.onclick=eu)}a=i,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=XC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),n==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[pa]=t,e[Lo]=a,jN(e,t,!1,!1),t.stateNode=e;e:{switch(o=dh(n,a),n){case"dialog":qe("cancel",e),qe("close",e),i=a;break;case"iframe":case"object":case"embed":qe("load",e),i=a;break;case"video":case"audio":for(i=0;i<oo.length;i++)qe(oo[i],e);i=a;break;case"source":qe("error",e),i=a;break;case"img":case"image":case"link":qe("error",e),qe("load",e),i=a;break;case"details":qe("toggle",e),i=a;break;case"input":dy(e,a),i=ih(e,a),qe("invalid",e);break;case"option":i=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},i=tt({},a,{value:void 0}),qe("invalid",e);break;case"textarea":my(e,a),i=lh(e,a),qe("invalid",e);break;default:i=a}uh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?tS(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&JC(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&No(e,c):typeof c=="number"&&No(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(So.hasOwnProperty(s)?c!=null&&s==="onScroll"&&qe("scroll",e):c!=null&&ug(e,s,c,o))}switch(n){case"input":Rl(e),py(e,a,!1);break;case"textarea":Rl(e),hy(e);break;case"option":a.value!=null&&e.setAttribute("value",""+kr(a.value));break;case"select":e.multiple=!!a.multiple,s=a.value,s!=null?Gi(e,!!a.multiple,s,!1):a.defaultValue!=null&&Gi(e,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=eu)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)SN(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(te(166));if(n=Vr(Fo.current),Vr(ga.current),Gl(t)){if(a=t.stateNode,n=t.memoizedProps,a[pa]=t,(s=a.nodeValue!==n)&&(e=wn,e!==null))switch(e.tag){case 3:Vl(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vl(a.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[pa]=t,t.stateNode=a}return Rt(t),null;case 13:if(Ve(Je),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&yn!==null&&t.mode&1&&!(t.flags&128))US(),rs(),t.flags|=98560,s=!1;else if(s=Gl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(te(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[pa]=t}else rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),s=!1}else Yn!==null&&(qh(Yn),Yn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?gt===0&&(gt=3):Kg())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return ss(),zh(e,t),e===null&&Oo(t.stateNode.containerInfo),Rt(t),null;case 10:return Eg(t.type._context),Rt(t),null;case 17:return dn(t.type)&&tu(),Rt(t),null;case 19:if(Ve(Je),s=t.memoizedState,s===null)return Rt(t),null;if(a=(t.flags&128)!==0,o=s.rendering,o===null)if(a)$s(s,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=lu(e),o!==null){for(t.flags|=128,$s(s,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)s=n,e=a,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(Je,Je.current&1|2),t.child}e=e.sibling}s.tail!==null&&lt()>ls&&(t.flags|=128,a=!0,$s(s,!1),t.lanes=4194304)}else{if(!a)if(e=lu(o),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$s(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Rt(t),null}else 2*lt()-s.renderingStartTime>ls&&n!==1073741824&&(t.flags|=128,a=!0,$s(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=lt(),t.sibling=null,n=Je.current,We(Je,a?n&1|2:n&1),t):(Rt(t),null);case 22:case 23:return qg(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?gn&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function UM(e,t){switch(Ng(t),t.tag){case 1:return dn(t.type)&&tu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ss(),Ve(un),Ve(Wt),Lg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mg(t),null;case 13:if(Ve(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(Je),null;case 4:return ss(),null;case 10:return Eg(t.type._context),null;case 22:case 23:return qg(),null;case 24:return null;default:return null}}var Zl=!1,$t=!1,WM=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Wi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){rt(e,t,a)}else n.current=null}function _h(e,t,n){try{n()}catch(a){rt(e,t,a)}}var ax=!1;function HM(e,t){if(wh=Zc,e=ES(),Cg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||a!==0&&p.nodeType!==3||(c=o+a),p.nodeType===3&&(o+=p.nodeValue.length),(f=p.firstChild)!==null;)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++u===i&&(l=o),h===s&&++d===a&&(c=o),(f=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(jh={focusedElem:e,selectionRange:n},Zc=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:Vn(t.type,v),y);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(j){rt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return g=ax,ax=!1,g}function bo(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&_h(t,n,s)}i=i.next}while(i!==a)}}function Sd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Rh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function NN(e){var t=e.alternate;t!==null&&(e.alternate=null,NN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pa],delete t[Lo],delete t[Nh],delete t[kM],delete t[PM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kN(e){return e.tag===5||e.tag===3||e.tag===4}function rx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bh(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=eu));else if(a!==4&&(e=e.child,e!==null))for(Bh(e,t,n),e=e.sibling;e!==null;)Bh(e,t,n),e=e.sibling}function $h(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for($h(e,t,n),e=e.sibling;e!==null;)$h(e,t,n),e=e.sibling}var Ot=null,Gn=!1;function nr(e,t,n){for(n=n.child;n!==null;)PN(e,t,n),n=n.sibling}function PN(e,t,n){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(gd,n)}catch{}switch(n.tag){case 5:$t||Wi(n,t);case 6:var a=Ot,i=Gn;Ot=null,nr(e,t,n),Ot=a,Gn=i,Ot!==null&&(Gn?(e=Ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(Gn?(e=Ot,n=n.stateNode,e.nodeType===8?am(e.parentNode,n):e.nodeType===1&&am(e,n),Eo(e)):am(Ot,n.stateNode));break;case 4:a=Ot,i=Gn,Ot=n.stateNode.containerInfo,Gn=!0,nr(e,t,n),Ot=a,Gn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_h(n,t,o),i=i.next}while(i!==a)}nr(e,t,n);break;case 1:if(!$t&&(Wi(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(l){rt(n,t,l)}nr(e,t,n);break;case 21:nr(e,t,n);break;case 22:n.mode&1?($t=(a=$t)||n.memoizedState!==null,nr(e,t,n),$t=a):nr(e,t,n);break;default:nr(e,t,n)}}function ix(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new WM),t.forEach(function(a){var i=JM.bind(null,e,a);n.has(a)||(n.add(a),a.then(i,i))})}}function qn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ot=l.stateNode,Gn=!1;break e;case 3:Ot=l.stateNode.containerInfo,Gn=!0;break e;case 4:Ot=l.stateNode.containerInfo,Gn=!0;break e}l=l.return}if(Ot===null)throw Error(te(160));PN(s,o,i),Ot=null,Gn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){rt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)AN(t,e),t=t.sibling}function AN(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qn(t,e),ca(e),a&4){try{bo(3,e,e.return),Sd(3,e)}catch(v){rt(e,e.return,v)}try{bo(5,e,e.return)}catch(v){rt(e,e.return,v)}}break;case 1:qn(t,e),ca(e),a&512&&n!==null&&Wi(n,n.return);break;case 5:if(qn(t,e),ca(e),a&512&&n!==null&&Wi(n,n.return),e.flags&32){var i=e.stateNode;try{No(i,"")}catch(v){rt(e,e.return,v)}}if(a&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&QC(i,s),dh(l,o);var u=dh(l,s);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?tS(i,p):d==="dangerouslySetInnerHTML"?JC(i,p):d==="children"?No(i,p):ug(i,d,p,u)}switch(l){case"input":sh(i,s);break;case"textarea":ZC(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Gi(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Gi(i,!!s.multiple,s.defaultValue,!0):Gi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lo]=s}catch(v){rt(e,e.return,v)}}break;case 6:if(qn(t,e),ca(e),a&4){if(e.stateNode===null)throw Error(te(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){rt(e,e.return,v)}}break;case 3:if(qn(t,e),ca(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Eo(t.containerInfo)}catch(v){rt(e,e.return,v)}break;case 4:qn(t,e),ca(e);break;case 13:qn(t,e),ca(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Wg=lt())),a&4&&ix(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?($t=(u=$t)||d,qn(t,e),$t=u):qn(t,e),ca(e),a&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(pe=e,d=e.child;d!==null;){for(p=pe=d;pe!==null;){switch(h=pe,f=h.child,h.tag){case 0:case 11:case 14:case 15:bo(4,h,h.return);break;case 1:Wi(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){a=h,n=h.return;try{t=a,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){rt(a,n,v)}}break;case 5:Wi(h,h.return);break;case 22:if(h.memoizedState!==null){ox(p);continue}}f!==null?(f.return=h,pe=f):ox(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=eS("display",o))}catch(v){rt(e,e.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(v){rt(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:qn(t,e),ca(e),a&4&&ix(e);break;case 21:break;default:qn(t,e),ca(e)}}function ca(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(kN(n)){var a=n;break e}n=n.return}throw Error(te(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(No(i,""),a.flags&=-33);var s=rx(e);$h(e,s,i);break;case 3:case 4:var o=a.stateNode.containerInfo,l=rx(e);Bh(e,l,o);break;default:throw Error(te(161))}}catch(c){rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qM(e,t,n){pe=e,EN(e)}function EN(e,t,n){for(var a=(e.mode&1)!==0;pe!==null;){var i=pe,s=i.child;if(i.tag===22&&a){var o=i.memoizedState!==null||Zl;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||$t;l=Zl;var u=$t;if(Zl=o,($t=c)&&!u)for(pe=i;pe!==null;)o=pe,c=o.child,o.tag===22&&o.memoizedState!==null?lx(i):c!==null?(c.return=o,pe=c):lx(i);for(;s!==null;)pe=s,EN(s),s=s.sibling;pe=i,Zl=l,$t=u}sx(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,pe=s):sx(e)}}function sx(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||Sd(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!$t)if(n===null)a.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Vn(t.type,n.memoizedProps);a.componentDidUpdate(i,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Hy(t,s,a);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hy(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Eo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}$t||t.flags&512&&Rh(t)}catch(h){rt(t,t.return,h)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function ox(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function lx(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sd(4,t)}catch(c){rt(t,n,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var i=t.return;try{a.componentDidMount()}catch(c){rt(t,i,c)}}var s=t.return;try{Rh(t)}catch(c){rt(t,s,c)}break;case 5:var o=t.return;try{Rh(t)}catch(c){rt(t,o,c)}}}catch(c){rt(t,t.return,c)}if(t===e){pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,pe=l;break}pe=t.return}}var KM=Math.ceil,du=Ya.ReactCurrentDispatcher,$g=Ya.ReactCurrentOwner,Dn=Ya.ReactCurrentBatchConfig,Oe=0,At=null,pt=null,Lt=0,gn=0,Hi=Mr(0),gt=0,Bo=null,oi=0,Nd=0,Ug=0,yo=null,sn=null,Wg=0,ls=1/0,Ca=null,pu=!1,Uh=null,xr=null,Xl=!1,mr=null,mu=0,xo=0,Wh=null,Lc=-1,Dc=0;function Qt(){return Oe&6?lt():Lc!==-1?Lc:Lc=lt()}function wr(e){return e.mode&1?Oe&2&&Lt!==0?Lt&-Lt:EM.transition!==null?(Dc===0&&(Dc=mS()),Dc):(e=_e,e!==0||(e=window.event,e=e===void 0?16:xS(e.type)),e):1}function ea(e,t,n,a){if(50<xo)throw xo=0,Wh=null,Error(te(185));ll(e,n,a),(!(Oe&2)||e!==At)&&(e===At&&(!(Oe&2)&&(Nd|=n),gt===4&&ur(e,Lt)),pn(e,a),n===1&&Oe===0&&!(t.mode&1)&&(ls=lt()+500,wd&&Lr()))}function pn(e,t){var n=e.callbackNode;EO(e,t);var a=Qc(e,e===At?Lt:0);if(a===0)n!==null&&vy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&vy(n),t===1)e.tag===0?AM(cx.bind(null,e)):RS(cx.bind(null,e)),SM(function(){!(Oe&6)&&Lr()}),n=null;else{switch(hS(a)){case 1:n=fg;break;case 4:n=dS;break;case 16:n=Yc;break;case 536870912:n=pS;break;default:n=Yc}n=zN(n,TN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function TN(e,t){if(Lc=-1,Dc=0,Oe&6)throw Error(te(327));var n=e.callbackNode;if(Ji()&&e.callbackNode!==n)return null;var a=Qc(e,e===At?Lt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=hu(e,a);else{t=a;var i=Oe;Oe|=2;var s=ON();(At!==e||Lt!==t)&&(Ca=null,ls=lt()+500,Xr(e,t));do try{YM();break}catch(l){IN(e,l)}while(!0);Ag(),du.current=s,Oe=i,pt!==null?t=0:(At=null,Lt=0,t=gt)}if(t!==0){if(t===2&&(i=gh(e),i!==0&&(a=i,t=Hh(e,i))),t===1)throw n=Bo,Xr(e,0),ur(e,a),pn(e,lt()),n;if(t===6)ur(e,a);else{if(i=e.current.alternate,!(a&30)&&!VM(i)&&(t=hu(e,a),t===2&&(s=gh(e),s!==0&&(a=s,t=Hh(e,s))),t===1))throw n=Bo,Xr(e,0),ur(e,a),pn(e,lt()),n;switch(e.finishedWork=i,e.finishedLanes=a,t){case 0:case 1:throw Error(te(345));case 2:$r(e,sn,Ca);break;case 3:if(ur(e,a),(a&130023424)===a&&(t=Wg+500-lt(),10<t)){if(Qc(e,0)!==0)break;if(i=e.suspendedLanes,(i&a)!==a){Qt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Sh($r.bind(null,e,sn,Ca),t);break}$r(e,sn,Ca);break;case 4:if(ur(e,a),(a&4194240)===a)break;for(t=e.eventTimes,i=-1;0<a;){var o=31-Jn(a);s=1<<o,o=t[o],o>i&&(i=o),a&=~s}if(a=i,a=lt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*KM(a/1960))-a,10<a){e.timeoutHandle=Sh($r.bind(null,e,sn,Ca),a);break}$r(e,sn,Ca);break;case 5:$r(e,sn,Ca);break;default:throw Error(te(329))}}}return pn(e,lt()),e.callbackNode===n?TN.bind(null,e):null}function Hh(e,t){var n=yo;return e.current.memoizedState.isDehydrated&&(Xr(e,t).flags|=256),e=hu(e,t),e!==2&&(t=sn,sn=n,t!==null&&qh(t)),e}function qh(e){sn===null?sn=e:sn.push.apply(sn,e)}function VM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!na(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~Ug,t&=~Nd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jn(t),a=1<<n;e[n]=-1,t&=~a}}function cx(e){if(Oe&6)throw Error(te(327));Ji();var t=Qc(e,0);if(!(t&1))return pn(e,lt()),null;var n=hu(e,t);if(e.tag!==0&&n===2){var a=gh(e);a!==0&&(t=a,n=Hh(e,a))}if(n===1)throw n=Bo,Xr(e,0),ur(e,t),pn(e,lt()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,sn,Ca),pn(e,lt()),null}function Hg(e,t){var n=Oe;Oe|=1;try{return e(t)}finally{Oe=n,Oe===0&&(ls=lt()+500,wd&&Lr())}}function li(e){mr!==null&&mr.tag===0&&!(Oe&6)&&Ji();var t=Oe;Oe|=1;var n=Dn.transition,a=_e;try{if(Dn.transition=null,_e=1,e)return e()}finally{_e=a,Dn.transition=n,Oe=t,!(Oe&6)&&Lr()}}function qg(){gn=Hi.current,Ve(Hi)}function Xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,CM(n)),pt!==null)for(n=pt.return;n!==null;){var a=n;switch(Ng(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&tu();break;case 3:ss(),Ve(un),Ve(Wt),Lg();break;case 5:Mg(a);break;case 4:ss();break;case 13:Ve(Je);break;case 19:Ve(Je);break;case 10:Eg(a.type._context);break;case 22:case 23:qg()}n=n.return}if(At=e,pt=e=jr(e.current,null),Lt=gn=t,gt=0,Bo=null,Ug=Nd=oi=0,sn=yo=null,Kr!==null){for(t=0;t<Kr.length;t++)if(n=Kr[t],a=n.interleaved,a!==null){n.interleaved=null;var i=a.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,a.next=o}n.pending=a}Kr=null}return e}function IN(e,t){do{var n=pt;try{if(Ag(),Ic.current=uu,cu){for(var a=et.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}cu=!1}if(si=0,kt=ht=et=null,vo=!1,zo=0,$g.current=null,n===null||n.return===null){gt=1,Bo=t,pt=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Qy(o);if(f!==null){f.flags&=-257,Zy(f,o,l,s,t),f.mode&1&&Yy(s,u,t),t=f,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Yy(s,u,t),Kg();break e}c=Error(te(426))}}else if(Qe&&l.mode&1){var y=Qy(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Zy(y,o,l,s,t),kg(os(c,l));break e}}s=c=os(c,l),gt!==4&&(gt=2),yo===null?yo=[s]:yo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=hN(s,c,t);Wy(s,b);break e;case 1:l=c;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xr===null||!xr.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=fN(s,l,t);Wy(s,j);break e}}s=s.return}while(s!==null)}LN(n)}catch(C){t=C,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function ON(){var e=du.current;return du.current=uu,e===null?uu:e}function Kg(){(gt===0||gt===3||gt===2)&&(gt=4),At===null||!(oi&268435455)&&!(Nd&268435455)||ur(At,Lt)}function hu(e,t){var n=Oe;Oe|=2;var a=ON();(At!==e||Lt!==t)&&(Ca=null,Xr(e,t));do try{GM();break}catch(i){IN(e,i)}while(!0);if(Ag(),Oe=n,du.current=a,pt!==null)throw Error(te(261));return At=null,Lt=0,gt}function GM(){for(;pt!==null;)MN(pt)}function YM(){for(;pt!==null&&!xO();)MN(pt)}function MN(e){var t=FN(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?LN(e):pt=t,$g.current=null}function LN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=UM(n,t),n!==null){n.flags&=32767,pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,pt=null;return}}else if(n=$M(n,t,gn),n!==null){pt=n;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);gt===0&&(gt=5)}function $r(e,t,n){var a=_e,i=Dn.transition;try{Dn.transition=null,_e=1,QM(e,t,n,a)}finally{Dn.transition=i,_e=a}return null}function QM(e,t,n,a){do Ji();while(mr!==null);if(Oe&6)throw Error(te(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(TO(e,s),e===At&&(pt=At=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xl||(Xl=!0,zN(Yc,function(){return Ji(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dn.transition,Dn.transition=null;var o=_e;_e=1;var l=Oe;Oe|=4,$g.current=null,HM(e,n),AN(n,e),gM(jh),Zc=!!wh,jh=wh=null,e.current=n,qM(n),wO(),Oe=l,_e=o,Dn.transition=s}else e.current=n;if(Xl&&(Xl=!1,mr=e,mu=i),s=e.pendingLanes,s===0&&(xr=null),SO(n.stateNode),pn(e,lt()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],a(i.value,{componentStack:i.stack,digest:i.digest});if(pu)throw pu=!1,e=Uh,Uh=null,e;return mu&1&&e.tag!==0&&Ji(),s=e.pendingLanes,s&1?e===Wh?xo++:(xo=0,Wh=e):xo=0,Lr(),null}function Ji(){if(mr!==null){var e=hS(mu),t=Dn.transition,n=_e;try{if(Dn.transition=null,_e=16>e?16:e,mr===null)var a=!1;else{if(e=mr,mr=null,mu=0,Oe&6)throw Error(te(331));var i=Oe;for(Oe|=4,pe=e.current;pe!==null;){var s=pe,o=s.child;if(pe.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(pe=u;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:bo(8,d,s)}var p=d.child;if(p!==null)p.return=d,pe=p;else for(;pe!==null;){d=pe;var h=d.sibling,f=d.return;if(NN(d),d===u){pe=null;break}if(h!==null){h.return=f,pe=h;break}pe=f}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,pe=o;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bo(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,pe=b;break e}pe=s.return}}var x=e.current;for(pe=x;pe!==null;){o=pe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,pe=w;else e:for(o=x;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sd(9,l)}}catch(C){rt(l,l.return,C)}if(l===o){pe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,pe=j;break e}pe=l.return}}if(Oe=i,Lr(),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(gd,e)}catch{}a=!0}return a}finally{_e=n,Dn.transition=t}}return!1}function ux(e,t,n){t=os(n,t),t=hN(e,t,1),e=yr(e,t,1),t=Qt(),e!==null&&(ll(e,1,t),pn(e,t))}function rt(e,t,n){if(e.tag===3)ux(e,e,n);else for(;t!==null;){if(t.tag===3){ux(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(xr===null||!xr.has(a))){e=os(n,e),e=fN(t,e,1),t=yr(t,e,1),e=Qt(),t!==null&&(ll(t,1,e),pn(t,e));break}}t=t.return}}function ZM(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=Qt(),e.pingedLanes|=e.suspendedLanes&n,At===e&&(Lt&n)===n&&(gt===4||gt===3&&(Lt&130023424)===Lt&&500>lt()-Wg?Xr(e,0):Ug|=n),pn(e,t)}function DN(e,t){t===0&&(e.mode&1?(t=Ul,Ul<<=1,!(Ul&130023424)&&(Ul=4194304)):t=1);var n=Qt();e=Ra(e,t),e!==null&&(ll(e,t,n),pn(e,n))}function XM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),DN(e,n)}function JM(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(te(314))}a!==null&&a.delete(t),DN(e,n)}var FN;FN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)on=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return on=!1,BM(e,t,n);on=!!(e.flags&131072)}else on=!1,Qe&&t.flags&1048576&&BS(t,ru,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Mc(e,t),e=t.pendingProps;var i=as(t,Wt.current);Xi(t,n),i=Fg(null,t,a,e,i,n);var s=zg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(a)?(s=!0,nu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ig(t),i.updater=Cd,t.stateNode=i,i._reactInternals=t,Ih(t,a,e,n),t=Lh(null,t,a,!0,s,n)):(t.tag=0,Qe&&s&&Sg(t),Vt(null,t,i,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Mc(e,t),e=t.pendingProps,i=a._init,a=i(a._payload),t.type=a,i=t.tag=tL(a),e=Vn(a,e),i){case 0:t=Mh(null,t,a,e,n);break e;case 1:t=ex(null,t,a,e,n);break e;case 11:t=Xy(null,t,a,e,n);break e;case 14:t=Jy(null,t,a,Vn(a.type,e),n);break e}throw Error(te(306,a,""))}return t;case 0:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Vn(a,i),Mh(e,t,a,i,n);case 1:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Vn(a,i),ex(e,t,a,i,n);case 3:e:{if(yN(t),e===null)throw Error(te(387));a=t.pendingProps,s=t.memoizedState,i=s.element,KS(e,t),ou(t,a,null,n);var o=t.memoizedState;if(a=o.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=os(Error(te(423)),t),t=tx(e,t,a,n,i);break e}else if(a!==i){i=os(Error(te(424)),t),t=tx(e,t,a,n,i);break e}else for(yn=br(t.stateNode.containerInfo.firstChild),wn=t,Qe=!0,Yn=null,n=HS(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rs(),a===i){t=Ba(e,t,n);break e}Vt(e,t,a,n)}t=t.child}return t;case 5:return VS(t),e===null&&Ah(t),a=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ch(a,i)?o=null:s!==null&&Ch(a,s)&&(t.flags|=32),bN(e,t),Vt(e,t,o,n),t.child;case 6:return e===null&&Ah(t),null;case 13:return xN(e,t,n);case 4:return Og(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=is(t,null,a,n):Vt(e,t,a,n),t.child;case 11:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Vn(a,i),Xy(e,t,a,i,n);case 7:return Vt(e,t,t.pendingProps,n),t.child;case 8:return Vt(e,t,t.pendingProps.children,n),t.child;case 12:return Vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,We(iu,a._currentValue),a._currentValue=o,s!==null)if(na(s.value,o)){if(s.children===i.children&&!un.current){t=Ba(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(s.tag===1){c=La(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Eh(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(te(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Eh(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps.children,Xi(t,n),i=Fn(i),a=a(i),t.flags|=1,Vt(e,t,a,n),t.child;case 14:return a=t.type,i=Vn(a,t.pendingProps),i=Vn(a.type,i),Jy(e,t,a,i,n);case 15:return gN(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Vn(a,i),Mc(e,t),t.tag=1,dn(a)?(e=!0,nu(t)):e=!1,Xi(t,n),mN(t,a,i),Ih(t,a,i,n),Lh(null,t,a,!0,e,n);case 19:return wN(e,t,n);case 22:return vN(e,t,n)}throw Error(te(156,t.tag))};function zN(e,t){return uS(e,t)}function eL(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,n,a){return new eL(e,t,n,a)}function Vg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tL(e){if(typeof e=="function")return Vg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pg)return 11;if(e===mg)return 14}return 2}function jr(e,t){var n=e.alternate;return n===null?(n=Mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,a,i,s){var o=2;if(a=e,typeof e=="function")Vg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Li:return Jr(n.children,i,s,t);case dg:o=8,i|=8;break;case th:return e=Mn(12,n,t,i|2),e.elementType=th,e.lanes=s,e;case nh:return e=Mn(13,n,t,i),e.elementType=nh,e.lanes=s,e;case ah:return e=Mn(19,n,t,i),e.elementType=ah,e.lanes=s,e;case VC:return kd(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qC:o=10;break e;case KC:o=9;break e;case pg:o=11;break e;case mg:o=14;break e;case ir:o=16,a=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=Mn(o,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function Jr(e,t,n,a){return e=Mn(7,e,a,t),e.lanes=n,e}function kd(e,t,n,a){return e=Mn(22,e,a,t),e.elementType=VC,e.lanes=n,e.stateNode={isHidden:!1},e}function dm(e,t,n){return e=Mn(6,e,null,t),e.lanes=n,e}function pm(e,t,n){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nL(e,t,n,a,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kp(0),this.expirationTimes=Kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kp(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gg(e,t,n,a,i,s,o,l,c){return e=new nL(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Mn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ig(s),e}function aL(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mi,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function _N(e){if(!e)return Pr;e=e._reactInternals;e:{if(bi(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if(dn(n))return _S(e,n,t)}return t}function RN(e,t,n,a,i,s,o,l,c){return e=Gg(n,a,!0,e,i,s,o,l,c),e.context=_N(null),n=e.current,a=Qt(),i=wr(n),s=La(a,i),s.callback=t??null,yr(n,s,i),e.current.lanes=i,ll(e,i,a),pn(e,a),e}function Pd(e,t,n,a){var i=t.current,s=Qt(),o=wr(i);return n=_N(n),t.context===null?t.context=n:t.pendingContext=n,t=La(s,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=yr(i,t,o),e!==null&&(ea(e,i,o,s),Tc(e,i,o)),o}function fu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yg(e,t){dx(e,t),(e=e.alternate)&&dx(e,t)}function rL(){return null}var BN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qg(e){this._internalRoot=e}Ad.prototype.render=Qg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));Pd(e,t,null,null)};Ad.prototype.unmount=Qg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;li(function(){Pd(null,e,null,null)}),t[_a]=null}};function Ad(e){this._internalRoot=e}Ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=vS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cr.length&&t!==0&&t<cr[n].priority;n++);cr.splice(n,0,e),n===0&&yS(e)}};function Zg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ed(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function px(){}function iL(e,t,n,a,i){if(i){if(typeof a=="function"){var s=a;a=function(){var u=fu(o);s.call(u)}}var o=RN(t,a,e,0,null,!1,!1,"",px);return e._reactRootContainer=o,e[_a]=o.current,Oo(e.nodeType===8?e.parentNode:e),li(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof a=="function"){var l=a;a=function(){var u=fu(c);l.call(u)}}var c=Gg(e,0,!1,null,null,!1,!1,"",px);return e._reactRootContainer=c,e[_a]=c.current,Oo(e.nodeType===8?e.parentNode:e),li(function(){Pd(t,c,n,a)}),c}function Td(e,t,n,a,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=fu(o);l.call(c)}}Pd(t,o,e,i)}else o=iL(n,t,e,i,a);return fu(o)}fS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=so(t.pendingLanes);n!==0&&(gg(t,n|1),pn(t,lt()),!(Oe&6)&&(ls=lt()+500,Lr()))}break;case 13:li(function(){var a=Ra(e,1);if(a!==null){var i=Qt();ea(a,e,1,i)}}),Yg(e,1)}};vg=function(e){if(e.tag===13){var t=Ra(e,134217728);if(t!==null){var n=Qt();ea(t,e,134217728,n)}Yg(e,134217728)}};gS=function(e){if(e.tag===13){var t=wr(e),n=Ra(e,t);if(n!==null){var a=Qt();ea(n,e,t,a)}Yg(e,t)}};vS=function(){return _e};bS=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};mh=function(e,t,n){switch(t){case"input":if(sh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=xd(a);if(!i)throw Error(te(90));YC(a),sh(a,i)}}}break;case"textarea":ZC(e,n);break;case"select":t=n.value,t!=null&&Gi(e,!!n.multiple,t,!1)}};rS=Hg;iS=li;var sL={usingClientEntryPoint:!1,Events:[ul,_i,xd,nS,aS,Hg]},Us={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oL={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ya.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lS(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||rL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{gd=Jl.inject(oL),fa=Jl}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sL;Nn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zg(t))throw Error(te(200));return aL(e,t,null,n)};Nn.createRoot=function(e,t){if(!Zg(e))throw Error(te(299));var n=!1,a="",i=BN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Gg(e,1,!1,null,null,n,!1,a,i),e[_a]=t.current,Oo(e.nodeType===8?e.parentNode:e),new Qg(t)};Nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=lS(t),e=e===null?null:e.stateNode,e};Nn.flushSync=function(e){return li(e)};Nn.hydrate=function(e,t,n){if(!Ed(t))throw Error(te(200));return Td(null,e,t,!0,n)};Nn.hydrateRoot=function(e,t,n){if(!Zg(e))throw Error(te(405));var a=n!=null&&n.hydratedSources||null,i=!1,s="",o=BN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=RN(t,null,e,1,n??null,i,!1,s,o),e[_a]=t.current,Oo(e),a)for(e=0;e<a.length;e++)n=a[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ad(t)};Nn.render=function(e,t,n){if(!Ed(t))throw Error(te(200));return Td(null,e,t,!1,n)};Nn.unmountComponentAtNode=function(e){if(!Ed(e))throw Error(te(40));return e._reactRootContainer?(li(function(){Td(null,null,e,!1,function(){e._reactRootContainer=null,e[_a]=null})}),!0):!1};Nn.unstable_batchedUpdates=Hg;Nn.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Ed(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return Td(e,t,n,!1,a)};Nn.version="18.3.1-next-f1338f8080-20240426";function $N(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($N)}catch(e){console.error(e)}}$N(),$C.exports=Nn;var Id=$C.exports,mx=Id;Jm.createRoot=mx.createRoot,Jm.hydrateRoot=mx.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$o.apply(this,arguments)}var hr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hr||(hr={}));const hx="popstate";function lL(e){e===void 0&&(e={});function t(a,i){let{pathname:s,search:o,hash:l}=a.location;return Kh("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:gu(i)}return uL(t,n,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cL(){return Math.random().toString(36).substr(2,8)}function fx(e,t){return{usr:e.state,key:e.key,idx:t}}function Kh(e,t,n,a){return n===void 0&&(n=null),$o({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cs(t):t,{state:n,key:t&&t.key||a||cL()})}function gu(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Cs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function uL(e,t,n,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:s=!1}=a,o=i.history,l=hr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState($o({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=hr.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:b})}function h(y,b){l=hr.Push;let x=Kh(v.location,y,b);u=d()+1;let w=fx(x,u),j=v.createHref(x);try{o.pushState(w,"",j)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(j)}s&&c&&c({action:l,location:v.location,delta:1})}function f(y,b){l=hr.Replace;let x=Kh(v.location,y,b);u=d();let w=fx(x,u),j=v.createHref(x);o.replaceState(w,"",j),s&&c&&c({action:l,location:v.location,delta:0})}function g(y){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:gu(y);return x=x.replace(/ $/,"%20"),ct(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let v={get action(){return l},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(hx,p),c=y,()=>{i.removeEventListener(hx,p),c=null}},createHref(y){return t(i,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:f,go(y){return o.go(y)}};return v}var gx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gx||(gx={}));function dL(e,t,n){return n===void 0&&(n="/"),pL(e,t,n)}function pL(e,t,n,a){let i=typeof t=="string"?Cs(t):t,s=Jg(i.pathname||"/",n);if(s==null)return null;let o=UN(e);mL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=NL(s);l=jL(o[c],u)}return l}function UN(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ct(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let u=Cr([a,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),UN(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:xL(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of WN(s.path))i(s,o,c)}),t}function WN(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return i?[s,""]:[s];let o=WN(a.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function mL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:wL(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const hL=/^:[\w-]+$/,fL=3,gL=2,vL=1,bL=10,yL=-2,vx=e=>e==="*";function xL(e,t){let n=e.split("/"),a=n.length;return n.some(vx)&&(a+=yL),t&&(a+=gL),n.filter(i=>!vx(i)).reduce((i,s)=>i+(hL.test(s)?fL:s===""?vL:bL),a)}function wL(e,t){return e.length===t.length&&e.slice(0,-1).every((a,i)=>a===t[i])?e[e.length-1]-t[t.length-1]:0}function jL(e,t,n){let{routesMeta:a}=e,i={},s="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],u=l===a.length-1,d=s==="/"?t:t.slice(s.length)||"/",p=CL({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Cr([s,p.pathname]),pathnameBase:TL(Cr([s,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(s=Cr([s,p.pathnameBase]))}return o}function CL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=SL(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:a.reduce((u,d,p)=>{let{paramName:h,isOptional:f}=d;if(h==="*"){let v=l[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[p];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function SL(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Xg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function NL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}const kL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PL=e=>kL.test(e);function AL(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:i=""}=typeof e=="string"?Cs(e):e,s;if(n)if(PL(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Xg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=bx(n.substring(1),"/"):s=bx(n,t)}else s=t;return{pathname:s,search:IL(a),hash:OL(i)}}function bx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mm(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ev(e,t){let n=EL(e);return t?n.map((a,i)=>i===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function tv(e,t,n,a){a===void 0&&(a=!1);let i;typeof e=="string"?i=Cs(e):(i=$o({},e),ct(!i.pathname||!i.pathname.includes("?"),mm("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),mm("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),mm("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!a&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;i.pathname=h.join("/")}l=p>=0?t[p]:"/"}let c=AL(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Cr=e=>e.join("/").replace(/\/\/+/g,"/"),TL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),IL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ML(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const HN=["post","put","patch","delete"];new Set(HN);const LL=["get",...HN];new Set(LL);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Uo.apply(this,arguments)}const nv=m.createContext(null),DL=m.createContext(null),Dr=m.createContext(null),Od=m.createContext(null),ja=m.createContext({outlet:null,matches:[],isDataRoute:!1}),qN=m.createContext(null);function FL(e,t){let{relative:n}=t===void 0?{}:t;Ss()||ct(!1);let{basename:a,navigator:i}=m.useContext(Dr),{hash:s,pathname:o,search:l}=VN(e,{relative:n}),c=o;return a!=="/"&&(c=o==="/"?a:Cr([a,o])),i.createHref({pathname:c,search:l,hash:s})}function Ss(){return m.useContext(Od)!=null}function Ht(){return Ss()||ct(!1),m.useContext(Od).location}function KN(e){m.useContext(Dr).static||m.useLayoutEffect(e)}function tn(){let{isDataRoute:e}=m.useContext(ja);return e?ZL():zL()}function zL(){Ss()||ct(!1);let e=m.useContext(nv),{basename:t,future:n,navigator:a}=m.useContext(Dr),{matches:i}=m.useContext(ja),{pathname:s}=Ht(),o=JSON.stringify(ev(i,n.v7_relativeSplatPath)),l=m.useRef(!1);return KN(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){a.go(u);return}let p=tv(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Cr([t,p.pathname])),(d.replace?a.replace:a.push)(p,d.state,d)},[t,a,o,s,e])}const _L=m.createContext(null);function RL(e){let t=m.useContext(ja).outlet;return t&&m.createElement(_L.Provider,{value:e},t)}function Ft(){let{matches:e}=m.useContext(ja),t=e[e.length-1];return t?t.params:{}}function VN(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=m.useContext(Dr),{matches:i}=m.useContext(ja),{pathname:s}=Ht(),o=JSON.stringify(ev(i,a.v7_relativeSplatPath));return m.useMemo(()=>tv(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function BL(e,t){return $L(e,t)}function $L(e,t,n,a){Ss()||ct(!1);let{navigator:i}=m.useContext(Dr),{matches:s}=m.useContext(ja),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ht(),d;if(t){var p;let y=typeof t=="string"?Cs(t):t;c==="/"||(p=y.pathname)!=null&&p.startsWith(c)||ct(!1),d=y}else d=u;let h=d.pathname||"/",f=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=dL(e,{pathname:f}),v=KL(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Cr([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Cr([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,a);return t&&v?m.createElement(Od.Provider,{value:{location:Uo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hr.Pop}},v):v}function UL(){let e=QL(),t=ML(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,null)}const WL=m.createElement(UL,null);class HL extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(ja.Provider,{value:this.props.routeContext},m.createElement(qN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qL(e){let{routeContext:t,match:n,children:a}=e,i=m.useContext(nv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ja.Provider,{value:t},a)}function KL(e,t,n,a){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=a)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||ct(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:h,errors:f}=n,g=p.route.loader&&h[p.route.id]===void 0&&(!f||f[p.route.id]===void 0);if(p.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let f,g=!1,v=null,y=null;n&&(f=l&&p.route.id?l[p.route.id]:void 0,v=p.route.errorElement||WL,c&&(u<0&&h===0?(XL("route-fallback"),g=!0,y=null):u===h&&(g=!0,y=p.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),x=()=>{let w;return f?w=v:g?w=y:p.route.Component?w=m.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=d,m.createElement(qL,{match:p,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:w})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?m.createElement(HL,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var GN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(GN||{}),YN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(YN||{});function VL(e){let t=m.useContext(nv);return t||ct(!1),t}function GL(e){let t=m.useContext(DL);return t||ct(!1),t}function YL(e){let t=m.useContext(ja);return t||ct(!1),t}function QN(e){let t=YL(),n=t.matches[t.matches.length-1];return n.route.id||ct(!1),n.route.id}function QL(){var e;let t=m.useContext(qN),n=GL(),a=QN();return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function ZL(){let{router:e}=VL(GN.UseNavigateStable),t=QN(YN.UseNavigateStable),n=m.useRef(!1);return KN(()=>{n.current=!0}),m.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Uo({fromRouteId:t},s)))},[e,t])}const yx={};function XL(e,t,n){yx[e]||(yx[e]=!0)}function JL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function av(e){let{to:t,replace:n,state:a,relative:i}=e;Ss()||ct(!1);let{future:s,static:o}=m.useContext(Dr),{matches:l}=m.useContext(ja),{pathname:c}=Ht(),u=tn(),d=tv(t,ev(l,s.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(p),{replace:n,state:a,relative:i}),[u,p,i,n,a]),null}function ZN(e){return RL(e.context)}function xe(e){ct(!1)}function eD(e){let{basename:t="/",children:n=null,location:a,navigationType:i=hr.Pop,navigator:s,static:o=!1,future:l}=e;Ss()&&ct(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:s,static:o,future:Uo({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof a=="string"&&(a=Cs(a));let{pathname:d="/",search:p="",hash:h="",state:f=null,key:g="default"}=a,v=m.useMemo(()=>{let y=Jg(d,c);return y==null?null:{location:{pathname:y,search:p,hash:h,state:f,key:g},navigationType:i}},[c,d,p,h,f,g,i]);return v==null?null:m.createElement(Dr.Provider,{value:u},m.createElement(Od.Provider,{children:n,value:v}))}function tD(e){let{children:t,location:n}=e;return BL(Vh(t),n)}new Promise(()=>{});function Vh(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(a,i)=>{if(!m.isValidElement(a))return;let s=[...t,i];if(a.type===m.Fragment){n.push.apply(n,Vh(a.props.children,s));return}a.type!==xe&&ct(!1),!a.props.index||!a.props.children||ct(!1);let o={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=Vh(a.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gh.apply(this,arguments)}function nD(e,t){if(e==null)return{};var n={},a=Object.keys(e),i,s;for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function aD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rD(e,t){return e.button===0&&(!t||t==="_self")&&!aD(e)}function Yh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(i=>[n,i]):[[n,a]])},[]))}function iD(e,t){let n=Yh(e);return t&&t.forEach((a,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const sD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oD="6";try{window.__reactRouterVersion=oD}catch{}const lD="startTransition",xx=RC[lD];function cD(e){let{basename:t,children:n,future:a,window:i}=e,s=m.useRef();s.current==null&&(s.current=lL({window:i,v5Compat:!0}));let o=s.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=a||{},d=m.useCallback(p=>{u&&xx?xx(()=>c(p)):c(p)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>JL(a),[a]),m.createElement(eD,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:a})}const uD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ue=m.forwardRef(function(t,n){let{onClick:a,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:p}=t,h=nD(t,sD),{basename:f}=m.useContext(Dr),g,v=!1;if(typeof u=="string"&&dD.test(u)&&(g=u,uD))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),C=Jg(j.pathname,f);j.origin===w.origin&&C!=null?u=C+j.search+j.hash:v=!0}catch{}let y=FL(u,{relative:i}),b=pD(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:p});function x(w){a&&a(w),w.defaultPrevented||b(w)}return m.createElement("a",Gh({},h,{href:g||y,onClick:v||s?a:x,ref:n,target:c}))});var wx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wx||(wx={}));var jx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jx||(jx={}));function pD(e,t){let{target:n,replace:a,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=tn(),u=Ht(),d=VN(e,{relative:o});return m.useCallback(p=>{if(rD(p,n)){p.preventDefault();let h=a!==void 0?a:gu(u)===gu(d);c(e,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,a,i,n,e,s,o,l])}function rv(e){let t=m.useRef(Yh(e)),n=m.useRef(!1),a=Ht(),i=m.useMemo(()=>iD(a.search,n.current?null:t.current),[a.search]),s=tn(),o=m.useCallback((l,c)=>{const u=Yh(typeof l=="function"?l(i):l);n.current=!0,s("?"+u,c)},[s,i]);return[i,o]}const iv="/api";async function aa(e){const t=await e.text();let n;try{n=t?JSON.parse(t):{}}catch{throw new Error("Invalid JSON response from server")}if(!e.ok){let a=`Request failed with status ${e.status}`;if(n&&typeof n=="object"&&"error"in n){const i=n.error;if(typeof i=="string")a=i;else if(i&&typeof i=="object"){const s=Array.isArray(i.formErrors)?i.formErrors:[],o=i.fieldErrors||{},l=Object.values(o).flat().filter(Boolean),c=[...s,...l];c.length>0&&(a=c.join(`
`))}}throw new Error(a)}return n}async function XN(e){const t=await fetch(`${iv}/bots/live/${encodeURIComponent(e)}`);return aa(t)}async function mD(e,t){const n=await fetch(`${iv}/chat/${encodeURIComponent(e)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return aa(n)}const JN=({slug:e,botName:t})=>{const[n,a]=m.useState([]),[i,s]=m.useState(""),[o,l]=m.useState(null),[c,u]=m.useState(!1),[d,p]=m.useState(null),h=async()=>{const g=i.trim();if(!g||c)return;p(null);const v={id:`user-${Date.now()}`,role:"user",content:g};a(y=>[...y,v]),s(""),u(!0);try{const y=await mD(e,{message:g,conversationId:o});y.conversationId&&y.conversationId!==o&&l(y.conversationId);const b={id:`assistant-${Date.now()}`,role:"assistant",content:y.reply};a(x=>[...x,b])}catch(y){console.error(y),p(y.message||"Failed to send message");const b={id:`system-${Date.now()}`,role:"system",content:"Sorry, there was an error sending your message. Please try again."};a(x=>[...x,b])}finally{u(!1)}},f=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),h())};return r.jsxs("div",{className:"chat-container",children:[r.jsxs("div",{className:"chat-messages",children:[n.length===0&&r.jsx("div",{className:"chat-empty",children:r.jsxs("p",{children:["Youre chatting with ",r.jsx("strong",{children:t}),". Ask anything about their website."]})}),n.map(g=>r.jsx("div",{className:`chat-message chat-message-${g.role}`,children:r.jsxs("div",{className:"chat-message-bubble",children:[g.role!=="system"&&r.jsx("div",{className:"chat-message-role",children:g.role==="user"?"You":t}),r.jsx("div",{className:"chat-message-content",children:g.content})]})},g.id))]}),r.jsxs("div",{className:"chat-input-container",children:[d&&r.jsx("div",{className:"chat-error",children:d}),r.jsx("textarea",{className:"chat-input",placeholder:`Ask ${t} a question...`,value:i,onChange:g=>s(g.target.value),onKeyDown:f,rows:3,maxLength:2e3}),r.jsx("button",{className:"chat-send-button",onClick:h,disabled:c||!i.trim(),children:c?"Sending...":"Send"})]})]})},we=e=>typeof e=="string",Ws=()=>{let e,t;const n=new Promise((a,i)=>{e=a,t=i});return n.resolve=e,n.reject=t,n},Cx=e=>e==null?"":""+e,hD=(e,t,n)=>{e.forEach(a=>{t[a]&&(n[a]=t[a])})},fD=/###/g,Sx=e=>e&&e.indexOf("###")>-1?e.replace(fD,"."):e,Nx=e=>!e||we(e),wo=(e,t,n)=>{const a=we(t)?t.split("."):t;let i=0;for(;i<a.length-1;){if(Nx(e))return{};const s=Sx(a[i]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++i}return Nx(e)?{}:{obj:e,k:Sx(a[i])}},kx=(e,t,n)=>{const{obj:a,k:i}=wo(e,t,Object);if(a!==void 0||t.length===1){a[i]=n;return}let s=t[t.length-1],o=t.slice(0,t.length-1),l=wo(e,o,Object);for(;l.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),l=wo(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=n},gD=(e,t,n,a)=>{const{obj:i,k:s}=wo(e,t,Object);i[s]=i[s]||[],i[s].push(n)},vu=(e,t)=>{const{obj:n,k:a}=wo(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,a))return n[a]},vD=(e,t,n)=>{const a=vu(e,n);return a!==void 0?a:vu(t,n)},ek=(e,t,n)=>{for(const a in t)a!=="__proto__"&&a!=="constructor"&&(a in e?we(e[a])||e[a]instanceof String||we(t[a])||t[a]instanceof String?n&&(e[a]=t[a]):ek(e[a],t[a],n):e[a]=t[a]);return e},ji=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var bD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const yD=e=>we(e)?e.replace(/[&<>"'\/]/g,t=>bD[t]):e;class xD{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const a=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,a),this.regExpQueue.push(t),a}}const wD=[" ",",","?","!",";"],jD=new xD(20),CD=(e,t,n)=>{t=t||"",n=n||"";const a=wD.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(a.length===0)return!0;const i=jD.getRegExp(`(${a.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(e);if(!s){const o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(s=!0)}return s},Qh=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const a=t.split(n);let i=e;for(let s=0;s<a.length;){if(!i||typeof i!="object")return;let o,l="";for(let c=s;c<a.length;++c)if(c!==s&&(l+=n),l+=a[c],o=i[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<a.length-1)continue;s+=c-s+1;break}i=o}return i},Wo=e=>e==null?void 0:e.replace("_","-"),SD={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,a;(a=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||a.call(n,console,t)}};class bu{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||SD,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,a,i){return i&&!this.debug?null:(we(t[0])&&(t[0]=`${a}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new bu(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new bu(this.logger,t)}}var ma=new bu;let Md=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const i=this.observers[a].get(n)||0;this.observers[a].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[t,...n])})}};class Px extends Md{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,a,i={}){var u,d;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],a&&(Array.isArray(a)?l.push(...a):we(a)&&s?l.push(...a.split(s)):l.push(a)));const c=vu(this.data,l);return!c&&!n&&!a&&t.indexOf(".")>-1&&(t=l[0],n=l[1],a=l.slice(2).join(".")),c||!o||!we(a)?c:Qh((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[n],a,s)}addResource(t,n,a,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,n];a&&(l=l.concat(o?a.split(o):a)),t.indexOf(".")>-1&&(l=t.split("."),i=n,n=l[1]),this.addNamespaces(n),kx(this.data,l,i),s.silent||this.emit("added",t,n,a,i)}addResources(t,n,a,i={silent:!1}){for(const s in a)(we(a[s])||Array.isArray(a[s]))&&this.addResource(t,n,s,a[s],{silent:!0});i.silent||this.emit("added",t,n,a)}addResourceBundle(t,n,a,i,s,o={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),i=a,a=n,n=l[1]),this.addNamespaces(n);let c=vu(this.data,l)||{};o.skipCopy||(a=JSON.parse(JSON.stringify(a))),i?ek(c,a,s):c={...c,...a},kx(this.data,l,c),o.silent||this.emit("added",t,n,a)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var tk={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,a,i){return e.forEach(s=>{var o;t=((o=this.processors[s])==null?void 0:o.process(t,n,a,i))??t}),t}};const nk=Symbol("i18next/PATH_KEY");function ND(){const e=[],t=Object.create(null);let n;return t.get=(a,i)=>{var s;return(s=n==null?void 0:n.revoke)==null||s.call(n),i===nk?e:(e.push(i),n=Proxy.revocable(a,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}function yu(e,t){const{[nk]:n}=e(ND());return n.join((t==null?void 0:t.keySeparator)??".")}const Ax={},hm=e=>!we(e)&&typeof e!="boolean"&&typeof e!="number";class xu extends Md{constructor(t,n={}){super(),hD(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ma.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const a={...n};if(t==null)return!1;const i=this.resolve(t,a);if((i==null?void 0:i.res)===void 0)return!1;const s=hm(i.res);return!(a.returnObjects===!1&&s)}extractFromKey(t,n){let a=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=a&&t.indexOf(a)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!CD(t,a,i);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:we(s)?[s]:s};const u=t.split(a);(a!==i||a===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(i)}return{key:t,namespaces:we(s)?[s]:s}}translate(t,n,a){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),t==null)return"";typeof t=="function"&&(t=yu(t,{...this.options,...i})),Array.isArray(t)||(t=[String(t)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],i),u=c[c.length-1];let d=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const p=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((p==null?void 0:p.toLowerCase())==="cimode")return h?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:p,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:p,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:l;const f=this.resolve(t,i);let g=f==null?void 0:f.res;const v=(f==null?void 0:f.usedKey)||l,y=(f==null?void 0:f.exactUsedKey)||l,b=["[object Number]","[object Function]","[object RegExp]"],x=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,j=i.count!==void 0&&!we(i.count),C=xu.hasDefaultValue(i),k=j?this.pluralResolver.getSuffix(p,i.count,i):"",E=i.ordinal&&j?this.pluralResolver.getSuffix(p,i.count,{ordinal:!1}):"",O=j&&!i.ordinal&&i.count===0,M=O&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${k}`]||i[`defaultValue${E}`]||i.defaultValue;let P=g;w&&!g&&C&&(P=M);const T=hm(P),S=Object.prototype.toString.apply(P);if(w&&P&&T&&b.indexOf(S)<0&&!(we(x)&&Array.isArray(P))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,P,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(f.res=N,f.usedParams=this.getUsedParamsDetails(i),f):N}if(o){const N=Array.isArray(P),A=N?[]:{},L=N?y:v;for(const _ in P)if(Object.prototype.hasOwnProperty.call(P,_)){const I=`${L}${o}${_}`;C&&!g?A[_]=this.translate(I,{...i,defaultValue:hm(M)?M[_]:void 0,joinArrays:!1,ns:c}):A[_]=this.translate(I,{...i,joinArrays:!1,ns:c}),A[_]===I&&(A[_]=P[_])}g=A}}else if(w&&we(x)&&Array.isArray(g))g=g.join(x),g&&(g=this.extendTranslation(g,t,i,a));else{let N=!1,A=!1;!this.isValidLookup(g)&&C&&(N=!0,g=M),this.isValidLookup(g)||(A=!0,g=l);const _=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:g,I=C&&M!==g&&this.options.updateMissing;if(A||N||I){if(this.logger.log(I?"updateKey":"missingKey",p,u,l,I?M:g),o){const z=this.resolve(l,{...i,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let D=[];const F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&F&&F[0])for(let z=0;z<F.length;z++)D.push(F[z]);else this.options.saveMissingTo==="all"?D=this.languageUtils.toResolveHierarchy(i.lng||this.language):D.push(i.lng||this.language);const R=(z,U,K)=>{var oe;const Z=C&&K!==g?K:_;this.options.missingKeyHandler?this.options.missingKeyHandler(z,u,U,Z,I,i):(oe=this.backendConnector)!=null&&oe.saveMissing&&this.backendConnector.saveMissing(z,u,U,Z,I,i),this.emit("missingKey",z,u,U,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?D.forEach(z=>{const U=this.pluralResolver.getSuffixes(z,i);O&&i[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(K=>{R([z],l+K,i[`defaultValue${K}`]||M)})}):R(D,l,M))}g=this.extendTranslation(g,t,i,f,a),A&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${l}`),(A||N)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,N?g:void 0,i))}return s?(f.res=g,f.usedParams=this.getUsedParamsDetails(i),f):g}extendTranslation(t,n,a,i,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const d=we(t)&&(((u=a==null?void 0:a.interpolation)==null?void 0:u.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(d){const f=t.match(this.interpolator.nestingRegexp);p=f&&f.length}let h=a.replace&&!we(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,a.lng||this.language||i.usedLng,a),d){const f=t.match(this.interpolator.nestingRegexp),g=f&&f.length;p<g&&(a.nest=!1)}!a.lng&&i&&i.res&&(a.lng=this.language||i.usedLng),a.nest!==!1&&(t=this.interpolator.nest(t,(...f)=>(s==null?void 0:s[0])===f[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${n[0]}`),null):this.translate(...f,n),a)),a.interpolation&&this.interpolator.reset()}const o=a.postProcess||this.options.postProcess,l=we(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&a.applyPostProcessor!==!1&&(t=tk.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),t}resolve(t,n={}){let a,i,s,o,l;return we(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(a))return;const u=this.extractFromKey(c,n),d=u.key;i=d;let p=u.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const h=n.count!==void 0&&!we(n.count),f=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(we(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(y=>{var b,x;this.isValidLookup(a)||(l=y,!Ax[`${v[0]}-${y}`]&&((b=this.utils)!=null&&b.hasLoadedNamespace)&&!((x=this.utils)!=null&&x.hasLoadedNamespace(l))&&(Ax[`${v[0]}-${y}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(w=>{var k;if(this.isValidLookup(a))return;o=w;const j=[d];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(j,d,w,y,n);else{let E;h&&(E=this.pluralResolver.getSuffix(w,n.count,n));const O=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&E.indexOf(M)===0&&j.push(d+E.replace(M,this.options.pluralSeparator)),j.push(d+E),f&&j.push(d+O)),g){const P=`${d}${this.options.contextSeparator||"_"}${n.context}`;j.push(P),h&&(n.ordinal&&E.indexOf(M)===0&&j.push(P+E.replace(M,this.options.pluralSeparator)),j.push(P+E),f&&j.push(P+O))}}let C;for(;C=j.pop();)this.isValidLookup(a)||(s=C,a=this.getResource(w,y,C,n))}))})}),{res:a,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,a,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,n,a,i):this.resourceStore.getResource(t,n,a,i)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=t.replace&&!we(t.replace);let i=a?t.replace:t;if(a&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!a){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(t){const n="defaultValue";for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&n===a.substring(0,n.length)&&t[a]!==void 0)return!0;return!1}}class Ex{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ma.create("languageUtils")}getScriptPartFromCode(t){if(t=Wo(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Wo(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(we(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(a=>{if(n)return;const i=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(a=>{if(n)return;const i=this.getScriptPartFromCode(a);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(a);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),we(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let a=t[n];return a||(a=t[this.getScriptPartFromCode(n)]),a||(a=t[this.formatLanguageCode(n)]),a||(a=t[this.getLanguagePartFromCode(n)]),a||(a=t.default),a||[]}toResolveHierarchy(t,n){const a=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return we(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):we(t)&&s(this.formatLanguageCode(t)),a.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const Tx={zero:0,one:1,two:2,few:3,many:4,other:5},Ix={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class kD{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=ma.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const a=Wo(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:a,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(a,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ix;if(!t.match(/-|_/))return Ix;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,n)}return this.pluralRulesCache[s]=o,o}needsPlural(t,n={}){let a=this.getRule(t,n);return a||(a=this.getRule("dev",n)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,a={}){return this.getSuffixes(t,a).map(i=>`${n}${i}`)}getSuffixes(t,n={}){let a=this.getRule(t,n);return a||(a=this.getRule("dev",n)),a?a.resolvedOptions().pluralCategories.sort((i,s)=>Tx[i]-Tx[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,n,a={}){const i=this.getRule(t,a);return i?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,a))}}const Ox=(e,t,n,a=".",i=!0)=>{let s=vD(e,t,n);return!s&&i&&we(n)&&(s=Qh(e,n,a),s===void 0&&(s=Qh(t,n,a))),s},fm=e=>e.replace(/\$/g,"$$$$");class Mx{constructor(t={}){var n;this.logger=ma.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(a=>a),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:a,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:p,nestingPrefix:h,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:v,nestingOptionsSeparator:y,maxReplaces:b,alwaysFormat:x}=t.interpolation;this.escape=n!==void 0?n:yD,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?ji(s):o||"{{",this.suffix=l?ji(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?ji(h):f||ji("$t("),this.nestingSuffix=g?ji(g):v||ji(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=b||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,a)=>(n==null?void 0:n.source)===a?(n.lastIndex=0,n):new RegExp(a,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,a,i){var f;let s,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const x=Ox(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,a,{...i,...n,interpolationkey:g}):x}const v=g.split(this.formatSeparator),y=v.shift().trim(),b=v.join(this.formatSeparator).trim();return this.format(Ox(n,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),b,a,{...i,...n,interpolationkey:y})};this.resetRegExp();const d=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((f=i==null?void 0:i.interpolation)==null?void 0:f.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>fm(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?fm(this.escape(g)):fm(g)}].forEach(g=>{for(l=0;s=g.regex.exec(t);){const v=s[1].trim();if(o=u(v),o===void 0)if(typeof d=="function"){const b=d(t,s,i);o=we(b)?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))o="";else if(p){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),o="";else!we(o)&&!this.useRawValueToEscape&&(o=Cx(o));const y=g.safeValue(o);if(t=t.replace(s[0],y),p?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,a={}){let i,s,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const p=c.split(new RegExp(`${d}[ ]*{`));let h=`{${p[1]}`;c=p[0],h=this.interpolate(h,o);const f=h.match(/'/g),g=h.match(/"/g);(((f==null?void 0:f.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o={...u,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${d}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;i=this.nestingRegexp.exec(t);){let c=[];o={...a},o=o.replace&&!we(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(c=i[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=n(l.call(this,i[1].trim(),o),o),s&&i[0]===t&&!we(s))return s;we(s)||(s=Cx(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,p)=>this.format(d,p,a.lng,{...a,interpolationkey:i[1].trim()}),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}const PD=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const i=a[1].substring(0,a[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},Lx=e=>{const t={};return(n,a,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=a+JSON.stringify(s);let l=t[o];return l||(l=e(Wo(a),i),t[o]=l),l(n)}},AD=e=>(t,n,a)=>e(Wo(n),a)(t);class ED{constructor(t={}){this.logger=ma.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const a=n.cacheInBuiltFormats?Lx:AD;this.formats={number:a((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return l=>o.format(l)}),currency:a((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return l=>o.format(l)}),datetime:a((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return l=>o.format(l)}),relativetime:a((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return l=>o.format(l,s.range||"day")}),list:a((i,s)=>{const o=new Intl.ListFormat(i,{...s});return l=>o.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Lx(n)}format(t,n,a,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var p;const{formatName:u,formatOptions:d}=PD(c);if(this.formats[u]){let h=l;try{const f=((p=i==null?void 0:i.formatParams)==null?void 0:p[i.interpolationkey])||{},g=f.locale||f.lng||i.locale||i.lng||a;h=this.formats[u](l,g,{...d,...i,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const TD=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class ID extends Md{constructor(t,n,a,i={}){var s,o;super(),this.backend=t,this.store=n,this.services=a,this.languageUtils=a.languageUtils,this.options=i,this.logger=ma.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,a,i.backend,i)}queueLoad(t,n,a,i){const s={},o={},l={},c={};return t.forEach(u=>{let d=!0;n.forEach(p=>{const h=`${u}|${p}`;!a.reload&&this.store.hasResourceBundle(u,p)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,d=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[p]===void 0&&(c[p]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,a){const i=t.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&a&&this.store.addResourceBundle(s,o,a,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&a&&(this.state[t]=0);const l={};this.queue.forEach(c=>{gD(c.loaded,[s],o),TD(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(p=>{l[u][p]===void 0&&(l[u][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,a,i=0,s=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:a,tried:i,wait:s,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,a,i+1,s*2,o)},s);return}o(u,d)},c=this.backend[a].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n,a={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();we(t)&&(t=this.languageUtils.toResolveHierarchy(t)),we(n)&&(n=[n]);const s=this.queueLoad(t,n,a,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,a){this.prepareLoading(t,n,{},a)}reload(t,n,a){this.prepareLoading(t,n,{reload:!0},a)}loadOne(t,n=""){const a=t.split("|"),i=a[0],s=a[1];this.read(i,s,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,l),this.loaded(t,o,l)})}saveMissing(t,n,a,i,s,o={},l=()=>{}){var c,u,d,p,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((p=(d=this.services)==null?void 0:d.utils)!=null&&p.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${a}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((h=this.backend)!=null&&h.create){const f={...o,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let v;g.length===5?v=g(t,n,a,i,f):v=g(t,n,a,i),v&&typeof v.then=="function"?v.then(y=>l(null,y)).catch(l):l(null,v)}catch(v){l(v)}else g(t,n,a,i,l,f)}!t||!t[0]||this.store.addResource(t[0],n,a,i)}}}const Dx=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),we(e[1])&&(t.defaultValue=e[1]),we(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(a=>{t[a]=n[a]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Fx=e=>{var t,n;return we(e.ns)&&(e.ns=[e.ns]),we(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),we(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},ec=()=>{},OD=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class jo extends Md{constructor(t={},n){if(super(),this.options=Fx(t),this.services={},this.logger=ma,this.modules={external:[]},OD(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(we(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=Dx();this.options={...a,...this.options,...Fx(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=a.overloadTranslationOptionHandler);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?ma.init(i(this.modules.logger),this.options):ma.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=ED;const d=new Ex(this.options);this.store=new Px(this.options.resources,this.options);const p=this.services;p.logger=ma,p.resourceStore=this.store,p.languageUtils=d,p.pluralResolver=new kD(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(p.formatter=i(u),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new Mx(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new ID(i(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(f,...g)=>{this.emit(f,...g)}),this.modules.languageDetector&&(p.languageDetector=i(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=i(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new xu(this.services,this.options),this.translator.on("*",(f,...g)=>{this.emit(f,...g)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ec),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=Ws(),c=()=>{const u=(d,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),n(d,p)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,n=ec){var s,o;let a=n;const i=we(t)?t:this.language;if(typeof t=="function"&&(a=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(p=>{p!=="cimode"&&l.indexOf(p)<0&&l.push(p)})};i?c(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(u)})}else a(null)}reloadResources(t,n,a){const i=Ws();return typeof t=="function"&&(a=t,t=void 0),typeof n=="function"&&(a=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),a||(a=ec),this.services.backendConnector.reload(t,n,s=>{i.resolve(),a(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&tk.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const a=this.languages[n];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const a=Ws();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,a.resolve((...u)=>this.t(...u)),n&&n(l,(...u)=>this.t(...u))},o=l=>{var d,p;!t&&!l&&this.services.languageDetector&&(l=[]);const c=we(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(we(l)?[l]:l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(p=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||p.call(d,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),a}getFixedT(t,n,a){const i=(s,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([s,o].concat(l)):c={...o},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||a||i.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(p=>(typeof p=="function"&&(p=yu(p,{...this.options,...o})),`${c.keyPrefix}${u}${p}`)):(typeof s=="function"&&(s=yu(s,{...this.options,...o})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return we(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=a,i}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(a,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(a,t)&&(!i||o(s,t)))}loadNamespaces(t,n){const a=Ws();return this.options.ns?(we(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{a.resolve(),n&&n(i)}),a):(n&&n(),Promise.resolve())}loadLanguages(t,n){const a=Ws();we(t)&&(t=[t]);const i=this.options.preload||[],s=t.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{a.resolve(),n&&n(o)}),a):(n&&n(),Promise.resolve())}dir(t){var i,s;if(t||(t=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((s=this.services)==null?void 0:s.languageUtils)||new Ex(Dx());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(a.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const a=new jo(t,n);return a.createInstance=jo.createInstance,a}cloneInstance(t={},n=ec){const a=t.forkResourceStore;a&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},s=new jo(i);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},a){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,p)=>(d[p]={...c[u][p]},d),c[u]),c),{});s.store=new Px(l,i),s.services.resourceStore=s.store}return t.interpolation&&(s.services.interpolator=new Mx(i)),s.translator=new xu(s.services,i),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const nn=jo.createInstance();nn.createInstance;nn.dir;nn.init;nn.loadResources;nn.reloadResources;nn.use;nn.changeLanguage;nn.getFixedT;nn.t;nn.exists;nn.setDefaultNamespace;nn.hasLoadedNamespace;nn.loadNamespaces;nn.loadLanguages;var MD={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const LD=wa(MD);var DD=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function zx(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(LD[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var a=e.indexOf("-->");return{type:"comment",comment:a!==-1?e.slice(4,a):""}}for(var i=new RegExp(DD),s=null;(s=i.exec(e))!==null;)if(s[0].trim())if(s[1]){var o=s[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),t.attrs[l[0]]=l[1],i.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var FD=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,zD=/^\s*$/,_D=Object.create(null);function ak(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var a=[];for(var i in n)a.push(i+'="'+n[i]+'"');return a.length?" "+a.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(ak,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var RD={parse:function(e,t){t||(t={}),t.components||(t.components=_D);var n,a=[],i=[],s=-1,o=!1;if(e.indexOf("<")!==0){var l=e.indexOf("<");a.push({type:"text",content:l===-1?e:e.substring(0,l)})}return e.replace(FD,function(c,u){if(o){if(c!=="</"+n.name+">")return;o=!1}var d,p=c.charAt(1)!=="/",h=c.startsWith("<!--"),f=u+c.length,g=e.charAt(f);if(h){var v=zx(c);return s<0?(a.push(v),a):((d=i[s]).children.push(v),a)}if(p&&(s++,(n=zx(c)).type==="tag"&&t.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!g||g==="<"||n.children.push({type:"text",content:e.slice(f,e.indexOf("<",f))}),s===0&&a.push(n),(d=i[s-1])&&d.children.push(n),i[s]=n),(!p||n.voidElement)&&(s>-1&&(n.voidElement||n.name===c.slice(2,-1))&&(s--,n=s===-1?a:i[s]),!o&&g!=="<"&&g)){d=s===-1?a:i[s].children;var y=e.indexOf("<",f),b=e.slice(f,y===-1?void 0:y);zD.test(b)&&(b=" "),(y>-1&&s+d.length>=0||b!==" ")&&d.push({type:"text",content:b})}}),a},stringify:function(e){return e.reduce(function(t,n){return t+ak("",n)},"")}};const zc=(e,t,n,a)=>{var s,o,l,c;const i=[n,{code:t,...a||{}}];if((o=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&o.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);mn(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},_x={},Ld=(e,t,n,a)=>{mn(n)&&_x[n]||(mn(n)&&(_x[n]=new Date),zc(e,t,n,a))},rk=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Zh=(e,t,n)=>{e.loadNamespaces(t,rk(e,n))},Rx=(e,t,n,a)=>{if(mn(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Zh(e,n,a);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,rk(e,a))},BD=(e,t,n={})=>!t.languages||!t.languages.length?(Ld(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(a,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!i(a.isLanguageChangingTo,e))return!1}}),mn=e=>typeof e=="string",Ia=e=>typeof e=="object"&&e!==null,$D=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,UD={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},WD=e=>UD[e],ik=e=>e.replace($D,WD);let Xh={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ik};const HD=(e={})=>{Xh={...Xh,...e}},sv=()=>Xh;let sk;const qD=e=>{sk=e},ov=()=>sk,_c=(e,t)=>{var a;if(!e)return!1;const n=((a=e.props)==null?void 0:a.children)??e.children;return t?n.length>0:!!n},Rc=e=>{var n,a;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(a=e.props)!=null&&a.i18nIsDynamicList?Gr(t):t},KD=e=>Array.isArray(e)&&e.every(m.isValidElement),Gr=e=>Array.isArray(e)?e:[e],VD=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},GD=e=>{const t={};if(!e)return t;const n=a=>{Gr(a).forEach(s=>{mn(s)||(_c(s)?n(Rc(s)):Ia(s)&&!m.isValidElement(s)&&Object.assign(t,s))})};return n(e),t},ok=(e,t,n,a)=>{if(!e)return"";let i="";const s=Gr(e),o=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return s.forEach((l,c)=>{if(mn(l)){i+=`${l}`;return}if(m.isValidElement(l)){const{props:u,type:d}=l,p=Object.keys(u).length,h=o.indexOf(d)>-1,f=u.children;if(!f&&h&&!p){i+=`<${d}/>`;return}if(!f&&(!h||p)||u.i18nIsDynamicList){i+=`<${c}></${c}>`;return}if(h&&p===1&&mn(f)){i+=`<${d}>${f}</${d}>`;return}const g=ok(f,t,n,a);i+=`<${c}>${g}</${c}>`;return}if(l===null){zc(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:a});return}if(Ia(l)){const{format:u,...d}=l,p=Object.keys(d);if(p.length===1){const h=u?`${p[0]}, ${u}`:p[0];i+=`{{${h}}}`;return}zc(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:a,child:l});return}zc(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:a,child:l})}),i},YD=(e,t=[],n={})=>{if(!e)return e;const a=Object.keys(n),i=[...t,...a];let s="",o=0;for(;o<e.length;)if(e[o]==="<"){let l=!1;const c=e.slice(o).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9-]*)>/);if(c){const u=c[1];(/^\d+$/.test(u)||i.includes(u))&&(l=!0,s+=c[0],o+=c[0].length)}if(!l){const u=e.slice(o).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(u){const d=u[1];(/^\d+$/.test(d)||i.includes(d))&&(l=!0,s+=u[0],o+=u[0].length)}}l||(s+="&lt;",o+=1)}else s+=e[o],o+=1;return s},QD=(e,t,n,a,i,s,o)=>{if(n==="")return[];const l=i.transKeepBasicHtmlNodesFor||[],c=n&&new RegExp(l.map(x=>`<${x}`).join("|")).test(n);if(!e&&!t&&!c&&!o)return[n];const u=t??{},d=x=>{Gr(x).forEach(j=>{mn(j)||(_c(j)?d(Rc(j)):Ia(j)&&!m.isValidElement(j)&&Object.assign(u,j))})};d(e);const p=YD(n,l,u),h=RD.parse(`<0>${p}</0>`),f={...u,...s},g=(x,w,j)=>{var E;const C=Rc(x),k=y(C,w.children,j);return KD(C)&&k.length===0||(E=x.props)!=null&&E.i18nIsDynamicList?C:k},v=(x,w,j,C,k)=>{x.dummy?(x.children=w,j.push(m.cloneElement(x,{key:C},k?void 0:w))):j.push(...m.Children.map([x],E=>{const O="data-i18n-is-dynamic-list",M={key:C,[O]:void 0};return E&&E.props&&Object.keys(E.props).forEach(P=>{P==="ref"||P==="children"||P==="i18nIsDynamicList"||P===O||(M[P]=E.props[P])}),m.cloneElement(E,M,k?null:w)}))},y=(x,w,j)=>{const C=Gr(x);return Gr(w).reduce((E,O,M)=>{var T,S;const P=((S=(T=O.children)==null?void 0:T[0])==null?void 0:S.content)&&a.services.interpolator.interpolate(O.children[0].content,f,a.language);if(O.type==="tag"){let N=C[parseInt(O.name,10)];!N&&t&&(N=t[O.name]),j.length===1&&!N&&(N=j[0][O.name]),N||(N={});const A={...O.attrs};o&&Object.keys(A).forEach(R=>{const z=A[R];mn(z)&&(A[R]=ik(z))});const L=Object.keys(A).length!==0?VD({props:A},N):N,_=m.isValidElement(L),I=_&&_c(O,!0)&&!O.voidElement,D=c&&Ia(L)&&L.dummy&&!_,F=Ia(t)&&Object.hasOwnProperty.call(t,O.name);if(mn(L)){const R=a.services.interpolator.interpolate(L,f,a.language);E.push(R)}else if(_c(L)||I){const R=g(L,O,j);v(L,R,E,M)}else if(D){const R=y(C,O.children,j);v(L,R,E,M)}else if(Number.isNaN(parseFloat(O.name)))if(F){const R=g(L,O,j);v(L,R,E,M,O.voidElement)}else if(i.transSupportBasicHtmlNodes&&l.indexOf(O.name)>-1)if(O.voidElement)E.push(m.createElement(O.name,{key:`${O.name}-${M}`}));else{const R=y(C,O.children,j);E.push(m.createElement(O.name,{key:`${O.name}-${M}`},R))}else if(O.voidElement)E.push(`<${O.name} />`);else{const R=y(C,O.children,j);E.push(`<${O.name}>${R}</${O.name}>`)}else if(Ia(L)&&!_){const R=O.children[0]?P:null;R&&E.push(R)}else v(L,P,E,M,O.children.length!==1||!P)}else if(O.type==="text"){const N=i.transWrapTextNodes,A=typeof i.unescape=="function"?i.unescape:sv().unescape,L=o?A(a.services.interpolator.interpolate(O.content,f,a.language)):a.services.interpolator.interpolate(O.content,f,a.language);N?E.push(m.createElement(N,{key:`${O.name}-${M}`},L)):E.push(L)}return E},[])},b=y([{dummy:!0,children:e||[]}],h,Gr(e||[]));return Rc(b[0])},lk=(e,t,n)=>{const a=e.key||t,i=m.cloneElement(e,{key:a});if(!i.props||!i.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return i;function s(){return m.createElement(m.Fragment,null,i)}return m.createElement(s,{key:a})},ZD=(e,t)=>e.map((n,a)=>lk(n,a,t)),XD=(e,t)=>{const n={};return Object.keys(e).forEach(a=>{Object.assign(n,{[a]:lk(e[a],a,t)})}),n},JD=(e,t,n,a)=>e?Array.isArray(e)?ZD(e,t):Ia(e)?XD(e,t):(Ld(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:a}),null):null,eF=e=>!Ia(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,n)=>t&&Number.isNaN(Number.parseFloat(n)),!0);function tF({children:e,count:t,parent:n,i18nKey:a,context:i,tOptions:s={},values:o,defaults:l,components:c,ns:u,i18n:d,t:p,shouldUnescape:h,...f}){var L,_,I,D,F,R;const g=d||ov();if(!g)return Ld(g,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:a}),e;const v=p||g.t.bind(g)||(z=>z),y={...sv(),...(L=g.options)==null?void 0:L.react};let b=u||v.ns||((_=g.options)==null?void 0:_.defaultNS);b=mn(b)?[b]:b||["translation"];const x=ok(e,y,g,a),w=l||(s==null?void 0:s.defaultValue)||x||y.transEmptyNodeValue||(typeof a=="function"?yu(a):a),{hashTransKey:j}=y,C=a||(j?j(x||w):x||w);(D=(I=g.options)==null?void 0:I.interpolation)!=null&&D.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...g.options.interpolation.defaultVariables}:{...g.options.interpolation.defaultVariables});const k=GD(e);k&&typeof k.count=="number"&&t===void 0&&(t=k.count);const E=o||t!==void 0&&!((R=(F=g.options)==null?void 0:F.interpolation)!=null&&R.alwaysFormat)||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},O={...s,context:i||s.context,count:t,...o,...E,defaultValue:w,ns:b};let M=C?v(C,O):w;M===C&&w&&(M=w);const P=JD(c,M,g,a);let T=P||e,S=null;eF(P)&&(S=P,T=e);const N=QD(T,S,M,g,y,O,h),A=n??y.defaultTransParent;return A?m.createElement(A,f,N):N}const nF={type:"3rdParty",init(e){HD(e.options.react),qD(e)}},ck=m.createContext();class aF{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function uk({children:e,count:t,parent:n,i18nKey:a,context:i,tOptions:s={},values:o,defaults:l,components:c,ns:u,i18n:d,t:p,shouldUnescape:h,...f}){var x;const{i18n:g,defaultNS:v}=m.useContext(ck)||{},y=d||g||ov(),b=p||(y==null?void 0:y.t.bind(y));return tF({children:e,count:t,parent:n,i18nKey:a,context:i,tOptions:s,values:o,defaults:l,components:c,ns:u||(b==null?void 0:b.ns)||v||((x=y==null?void 0:y.options)==null?void 0:x.defaultNS),i18n:y,t:p,shouldUnescape:h,...f})}var dk={exports:{}},pk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=m;function rF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iF=typeof Object.is=="function"?Object.is:rF,sF=cs.useState,oF=cs.useEffect,lF=cs.useLayoutEffect,cF=cs.useDebugValue;function uF(e,t){var n=t(),a=sF({inst:{value:n,getSnapshot:t}}),i=a[0].inst,s=a[1];return lF(function(){i.value=n,i.getSnapshot=t,gm(i)&&s({inst:i})},[e,n,t]),oF(function(){return gm(i)&&s({inst:i}),e(function(){gm(i)&&s({inst:i})})},[e]),cF(n),n}function gm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!iF(e,n)}catch{return!0}}function dF(e,t){return t()}var pF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dF:uF;pk.useSyncExternalStore=cs.useSyncExternalStore!==void 0?cs.useSyncExternalStore:pF;dk.exports=pk;var mk=dk.exports;const mF=(e,t)=>mn(t)?t:Ia(t)&&mn(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,hF={t:mF,ready:!1},fF=()=>()=>{},Le=(e,t={})=>{var M,P,T;const{i18n:n}=t,{i18n:a,defaultNS:i}=m.useContext(ck)||{},s=n||a||ov();s&&!s.reportNamespaces&&(s.reportNamespaces=new aF),s||Ld(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=m.useMemo(()=>{var S;return{...sv(),...(S=s==null?void 0:s.options)==null?void 0:S.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=o,u=i||((M=s==null?void 0:s.options)==null?void 0:M.defaultNS),d=mn(u)?[u]:u||["translation"],p=m.useMemo(()=>d,d);(T=(P=s==null?void 0:s.reportNamespaces)==null?void 0:P.addUsedNamespaces)==null||T.call(P,p);const h=m.useRef(0),f=m.useCallback(S=>{if(!s)return fF;const{bindI18n:N,bindI18nStore:A}=o,L=()=>{h.current+=1,S()};return N&&s.on(N,L),A&&s.store.on(A,L),()=>{N&&N.split(" ").forEach(_=>s.off(_,L)),A&&A.split(" ").forEach(_=>s.store.off(_,L))}},[s,o]),g=m.useRef(),v=m.useCallback(()=>{if(!s)return hF;const S=!!(s.isInitialized||s.initializedStoreOnce)&&p.every(D=>BD(D,s,o)),N=t.lng||s.language,A=h.current,L=g.current;if(L&&L.ready===S&&L.lng===N&&L.keyPrefix===c&&L.revision===A)return L;const I={t:s.getFixedT(N,o.nsMode==="fallback"?p:p[0],c),ready:S,lng:N,keyPrefix:c,revision:A};return g.current=I,I},[s,p,c,o,t.lng]),[y,b]=m.useState(0),{t:x,ready:w}=mk.useSyncExternalStore(f,v,v);m.useEffect(()=>{if(s&&!w&&!l){const S=()=>b(N=>N+1);t.lng?Rx(s,t.lng,p,S):Zh(s,p,S)}},[s,t.lng,p,w,l,y]);const j=s||{},C=m.useRef(null),k=m.useRef(),E=S=>{const N=Object.getOwnPropertyDescriptors(S);N.__original&&delete N.__original;const A=Object.create(Object.getPrototypeOf(S),N);if(!Object.prototype.hasOwnProperty.call(A,"__original"))try{Object.defineProperty(A,"__original",{value:S,writable:!1,enumerable:!1,configurable:!1})}catch{}return A},O=m.useMemo(()=>{const S=j,N=S==null?void 0:S.language;let A=S;S&&(C.current&&C.current.__original===S?k.current!==N?(A=E(S),C.current=A,k.current=N):A=C.current:(A=E(S),C.current=A,k.current=N));const L=[x,A,w];return L.t=x,L.i18n=A,L.ready=w,L},[x,j,w,j.resolvedLanguage,j.language,j.languages]);if(s&&l&&!w)throw new Promise(S=>{const N=()=>S();t.lng?Rx(s,t.lng,p,N):Zh(s,p,N)});return O},gF=()=>{const{slug:e}=Ft(),[t,n]=m.useState(null),[a,i]=m.useState(!0),[s,o]=m.useState(null),{t:l}=Le();return m.useEffect(()=>{e&&(i(!0),o(null),XN(e).then(c=>{n(c)}).catch(c=>{console.error(c),o(c.message||l("demoBot.defaultError"))}).finally(()=>{i(!1)}))},[e,l]),e?a?r.jsx("div",{className:"page-container",children:r.jsx("p",{children:l("demoBot.loading")})}):s?r.jsxs("div",{className:"page-container",children:[r.jsx("h2",{children:l("demoBot.errorTitle")}),r.jsx("p",{children:s})]}):t?r.jsxs("div",{className:"page-container",children:[r.jsxs("header",{className:"bot-header",children:[r.jsx("div",{className:"bot-avatar",children:t.name.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("h1",{className:"bot-title",children:t.name}),t.description&&r.jsx("p",{className:"bot-description",children:t.description})]})]}),r.jsx(JN,{slug:t.slug,botName:t.name})]}):r.jsxs("div",{className:"page-container",children:[r.jsx("h2",{children:l("demoBot.notFoundTitle")}),r.jsx("p",{children:l("demoBot.notFoundBody")})]}):r.jsx("div",{className:"page-container",children:r.jsx("p",{children:l("demoBot.noSlug")})})},vm="/assets/coslo-hero-CZqlO02Z.png",Sa="/assets/coslo-assist-247-8YH0sxOy.png",vF="/assets/coslo-growth-Bkje4LAW.png",lv=()=>{const e=new Date().getFullYear();return r.jsx("footer",{className:"site-footer",children:r.jsxs("div",{className:"lp-container site-footer-inner",children:[r.jsxs("div",{className:"site-footer-left",children:[r.jsx("span",{className:"site-footer-brand",children:"Coslo - Assistente AI"}),r.jsxs("p",{className:"site-footer-copy",children:[" ",e," Coslo. Tutti i diritti riservati."]})]}),r.jsxs("nav",{className:"site-footer-links","aria-label":"Link legali",children:[r.jsx(ue,{to:"/policy",children:"Privacy & Policy"}),r.jsx(ue,{to:"/terms",children:"Termini & Condizioni"})]}),r.jsxs("div",{className:"site-footer-social","aria-label":"Social network",children:[r.jsx("a",{href:"https://www.linkedin.com",target:"_blank",rel:"noreferrer","aria-label":"LinkedIn",children:r.jsx("span",{children:"in"})}),r.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noreferrer","aria-label":"X / Twitter",children:r.jsx("span",{children:""})}),r.jsx("a",{href:"https://www.instagram.com",target:"_blank",rel:"noreferrer","aria-label":"Instagram",children:r.jsx("span",{children:"IG"})})]})]})})},bm=[{code:"en",labelKey:"common.language.en",flag:""},{code:"it",labelKey:"common.language.it",flag:""},{code:"es",labelKey:"common.language.es",flag:""}],bF=()=>{const{t:e,i18n:t}=Le(),[n,a]=m.useState(!1),i=m.useRef(null),s=(t.language||"en").split("-")[0],o=bm.find(c=>c.code===s)??bm[0],l=c=>{t.changeLanguage(c),a(!1)};return m.useEffect(()=>{const c=d=>{i.current&&(i.current.contains(d.target)||a(!1))},u=d=>{d.key==="Escape"&&a(!1)};return document.addEventListener("mousedown",c),document.addEventListener("keydown",u),()=>{document.removeEventListener("mousedown",c),document.removeEventListener("keydown",u)}},[]),r.jsxs("div",{className:"lang-dropdown",ref:i,children:[r.jsxs("button",{type:"button",className:"lang-dropdown-button",onClick:()=>a(c=>!c),"aria-haspopup":"listbox","aria-expanded":n,children:[r.jsx("span",{className:"lang-dropdown-label",children:e(o.labelKey)}),r.jsx("span",{className:"lang-dropdown-chevron",children:""})]}),n&&r.jsx("div",{className:"lang-dropdown-menu",role:"listbox",children:bm.map(c=>r.jsxs("button",{type:"button",className:c.code===o.code?"lang-dropdown-item lang-dropdown-item-active":"lang-dropdown-item",onClick:()=>l(c.code),role:"option","aria-selected":c.code===o.code,children:[r.jsx("span",{className:"lang-dropdown-flag",children:c.flag}),r.jsx("span",{className:"lang-dropdown-item-label",children:e(c.labelKey)})]},c.code))})]})},yF=()=>{const[e]=rv(),t=e.get("bot"),{t:n}=Le();return t?r.jsx(av,{to:`/demo/${t}`,replace:!0}):r.jsxs("div",{className:"landing-page",children:[r.jsx("div",{className:"landing-lang-bar",children:r.jsx(bF,{})}),r.jsx("section",{className:"lp-hero",children:r.jsx("div",{className:"lp-container",children:r.jsxs("div",{className:"lp-hero-grid",children:[r.jsxs("div",{className:"lp-hero-content",children:[r.jsx("h1",{className:"lp-hero-title",children:n("landing.hero.title")}),r.jsx("p",{className:"lp-hero-subtitle",children:n("landing.hero.subtitle")}),r.jsxs("div",{className:"lp-hero-cta",children:[r.jsx(ue,{to:"/register",className:"lp-btn lp-btn-primary",children:n("landing.hero.ctaPrimary")}),r.jsx(ue,{to:"/login",className:"lp-btn lp-btn-secondary",children:n("landing.hero.ctaSecondary")})]}),r.jsx("p",{className:"lp-hero-note",children:n("landing.hero.note")})]}),r.jsx("div",{className:"lp-hero-image",children:r.jsxs("div",{className:"lp-hero-mascotte-frame",children:[r.jsx("div",{className:"lp-hero-mascotte-glow"}),r.jsx("img",{src:vm,alt:n("landing.hero.altHero"),className:"lp-hero-mascotte-img"}),r.jsxs("div",{className:"lp-hero-mascotte-badge",children:[r.jsx("span",{className:"lp-hero-mascotte-dot"}),n("landing.hero.badge")]})]})})]})})}),r.jsx("section",{className:"lp-section",children:r.jsxs("div",{className:"lp-container lp-intro-with-image",children:[r.jsx("div",{className:"lp-intro-heading",children:r.jsx("h2",{className:"lp-section-title",children:n("landing.intro.title")})}),r.jsx("div",{className:"lp-intro-image",children:r.jsx("div",{className:"lp-intro-illustration-frame",children:r.jsx("img",{src:Sa,alt:n("landing.intro.imageAlt")})})}),r.jsxs("div",{className:"lp-intro-body",children:[r.jsx("p",{className:"lp-text",children:n("landing.intro.p1")}),r.jsx("p",{className:"lp-text",children:n("landing.intro.p2")}),r.jsx("p",{className:"lp-text",children:n("landing.intro.p3")})]})]})}),r.jsx("section",{className:"lp-section lp-section-alt",children:r.jsxs("div",{className:"lp-container",children:[r.jsxs("div",{className:"lp-grid-2 lp-section-intro",children:[r.jsx("div",{children:r.jsx("h2",{className:"lp-section-title",children:n("landing.multichannel.title")})}),r.jsxs("div",{children:[r.jsx("p",{className:"lp-text",children:n("landing.multichannel.p1")}),r.jsx("p",{className:"lp-text",children:n("landing.multichannel.p2")})]})]}),r.jsxs("div",{className:"lp-grid-cards",children:[r.jsxs("div",{className:"lp-card",children:[r.jsx("h3",{className:"lp-card-title",children:n("landing.multichannel.cards.webWidget.title")}),r.jsx("p",{className:"lp-card-text",children:n("landing.multichannel.cards.webWidget.text")})]}),r.jsxs("div",{className:"lp-card",children:[r.jsx("h3",{className:"lp-card-title",children:n("landing.multichannel.cards.whatsapp.title")}),r.jsx("p",{className:"lp-card-text",children:n("landing.multichannel.cards.whatsapp.text")})]}),r.jsxs("div",{className:"lp-card",children:[r.jsx("h3",{className:"lp-card-title",children:n("landing.multichannel.cards.messenger.title")}),r.jsx("p",{className:"lp-card-text",children:n("landing.multichannel.cards.messenger.text")})]}),r.jsxs("div",{className:"lp-card",children:[r.jsx("h3",{className:"lp-card-title",children:n("landing.multichannel.cards.instagram.title")}),r.jsx("p",{className:"lp-card-text",children:n("landing.multichannel.cards.instagram.text")})]})]})]})}),r.jsx("section",{className:"lp-section",children:r.jsxs("div",{className:"lp-container lp-grid-2",children:[r.jsxs("div",{className:"lp-knowledge-left",children:[r.jsx("h2",{className:"lp-section-title",children:n("landing.knowledge.title")}),r.jsxs("div",{className:"lp-knowledge-card",children:[r.jsx("div",{className:"lp-knowledge-avatar",children:r.jsx("img",{src:vm,alt:n("landing.knowledge.imageAlt")})}),r.jsx("div",{className:"lp-knowledge-doc lp-knowledge-doc-1",children:r.jsx("span",{className:"lp-knowledge-doc-label",children:n("landing.knowledge.labels.pdf")})}),r.jsx("div",{className:"lp-knowledge-doc lp-knowledge-doc-2",children:r.jsx("span",{className:"lp-knowledge-doc-label",children:n("landing.knowledge.labels.site")})}),r.jsx("div",{className:"lp-knowledge-doc lp-knowledge-doc-3",children:r.jsx("span",{className:"lp-knowledge-doc-label",children:n("landing.knowledge.labels.faq")})})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"lp-text",children:n("landing.knowledge.p1")}),r.jsx("p",{className:"lp-text",children:n("landing.knowledge.p2")}),r.jsxs("ul",{className:"lp-list",children:[r.jsx("li",{children:n("landing.knowledge.list.l1")}),r.jsx("li",{children:n("landing.knowledge.list.l2")}),r.jsx("li",{children:n("landing.knowledge.list.l3")}),r.jsx("li",{children:n("landing.knowledge.list.l4")})]}),r.jsx("p",{className:"lp-text",children:n("landing.knowledge.p3")}),r.jsx("p",{className:"lp-text",children:n("landing.knowledge.p4")})]})]})}),r.jsx("section",{className:"lp-section lp-section-alt",children:r.jsxs("div",{className:"lp-container lp-grid-2 lp-section-calendar",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"lp-section-title",children:n("landing.booking.title")}),r.jsx("p",{className:"lp-text",children:n("landing.booking.p1")}),r.jsx("p",{className:"lp-text",children:n("landing.booking.p2")}),r.jsxs("ul",{className:"lp-list",children:[r.jsx("li",{children:n("landing.booking.list.l1")}),r.jsx("li",{children:n("landing.booking.list.l2")}),r.jsx("li",{children:n("landing.booking.list.l3")}),r.jsx("li",{children:n("landing.booking.list.l4")})]}),r.jsx("p",{className:"lp-text",children:n("landing.booking.p3")})]}),r.jsxs("div",{className:"lp-calendar-mock",children:[r.jsx("div",{className:"lp-calendar-header",children:n("landing.booking.calendar.header")}),r.jsxs("div",{className:"lp-calendar-body",children:[r.jsxs("div",{className:"lp-calendar-event",children:[r.jsx("div",{className:"lp-event-time",children:n("landing.booking.calendar.event1.time")}),r.jsxs("div",{className:"lp-event-details",children:[r.jsx("strong",{children:n("landing.booking.calendar.event1.title")}),r.jsx("span",{children:n("landing.booking.calendar.event1.subtitle")})]})]}),r.jsxs("div",{className:"lp-calendar-event",children:[r.jsx("div",{className:"lp-event-time",children:n("landing.booking.calendar.event2.time")}),r.jsxs("div",{className:"lp-event-details",children:[r.jsx("strong",{children:n("landing.booking.calendar.event2.title")}),r.jsx("span",{children:n("landing.booking.calendar.event2.subtitle")})]})]})]})]})]})}),r.jsx("section",{className:"lp-section",children:r.jsxs("div",{className:"lp-container lp-growth-grid",children:[r.jsx("div",{className:"lp-growth-visual",children:r.jsx("div",{className:"lp-growth-card",children:r.jsx("img",{src:vF,alt:n("landing.growth.imageAlt"),className:"lp-growth-img"})})}),r.jsxs("div",{children:[r.jsx("h2",{className:"lp-section-title",children:n("landing.growth.title")}),r.jsx("p",{className:"lp-text",children:n("landing.growth.p1")}),r.jsx("p",{className:"lp-text",children:n("landing.growth.p2")}),r.jsxs("div",{className:"lp-pills",children:[r.jsx("span",{className:"lp-pill",children:n("landing.growth.pills.p1")}),r.jsx("span",{className:"lp-pill",children:n("landing.growth.pills.p2")}),r.jsx("span",{className:"lp-pill",children:n("landing.growth.pills.p3")}),r.jsx("span",{className:"lp-pill",children:n("landing.growth.pills.p4")}),r.jsx("span",{className:"lp-pill",children:n("landing.growth.pills.p5")}),r.jsx("span",{className:"lp-pill",children:n("landing.growth.pills.p6")})]}),r.jsx("p",{className:"lp-text",children:n("landing.growth.p3")})]})]})}),r.jsx("section",{className:"lp-section lp-section-alt lp-section-benefits",children:r.jsxs("div",{className:"lp-container",children:[r.jsx("h2",{className:"lp-section-title lp-centered",children:n("landing.benefits.title")}),r.jsxs("div",{className:"lp-grid-cards lp-grid-3",children:[r.jsxs("div",{className:"lp-card",children:[r.jsx("h3",{className:"lp-card-title",children:n("landing.benefits.cards.c1.title")}),r.jsx("p",{className:"lp-card-text",children:n("landing.benefits.cards.c1.text")})]}),r.jsxs("div",{className:"lp-card",children:[r.jsx("h3",{className:"lp-card-title",children:n("landing.benefits.cards.c2.title")}),r.jsx("p",{className:"lp-card-text",children:n("landing.benefits.cards.c2.text")})]}),r.jsxs("div",{className:"lp-card",children:[r.jsx("h3",{className:"lp-card-title",children:n("landing.benefits.cards.c3.title")}),r.jsx("p",{className:"lp-card-text",children:n("landing.benefits.cards.c3.text")})]}),r.jsxs("div",{className:"lp-card",children:[r.jsx("h3",{className:"lp-card-title",children:n("landing.benefits.cards.c4.title")}),r.jsx("p",{className:"lp-card-text",children:n("landing.benefits.cards.c4.text")})]})]})]})}),r.jsx("section",{className:"lp-section",children:r.jsxs("div",{className:"lp-container lp-mini-coslo-grid",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"lp-section-title",children:n("landing.miniCoslo.title")}),r.jsx("p",{className:"lp-text",children:n("landing.miniCoslo.p1")}),r.jsx("p",{className:"lp-text",children:n("landing.miniCoslo.p2")})]}),r.jsxs("div",{className:"lp-mini-coslo-widget",children:[r.jsx("div",{className:"lp-mini-coslo-avatar",children:r.jsx("img",{src:vm,alt:n("landing.miniCoslo.imageAlt")})}),r.jsxs("div",{className:"lp-mini-coslo-bubbles",children:[r.jsx("div",{className:"lp-mini-coslo-bubble lp-mini-coslo-bubble-user",children:n("landing.miniCoslo.bubbleUser")}),r.jsx("div",{className:"lp-mini-coslo-bubble lp-mini-coslo-bubble-bot",children:n("landing.miniCoslo.bubbleBot")})]})]})]})}),r.jsx("section",{className:"lp-section lp-cta-final",children:r.jsxs("div",{className:"lp-container",children:[r.jsx("h2",{className:"lp-section-title lp-centered",children:n("landing.cta.title")}),r.jsx("p",{className:"lp-text lp-centered lp-cta-text",children:n("landing.cta.text")}),r.jsxs("div",{className:"lp-hero-cta",children:[r.jsx(ue,{to:"/register",className:"lp-btn lp-btn-primary",children:n("landing.cta.primaryCta")}),r.jsx(ue,{to:"/login",className:"lp-btn lp-btn-secondary",children:n("landing.cta.secondaryCta")})]})]})}),r.jsx(lv,{})]})},xF="2025-12-18",wF="Andrei Cosmin Marica",jF="Via Petrazzo 18, Messina (ME), 98142, Italia",tc="assistenza@coslo.it",CF="IT03858840832",SF=()=>{const{t:e}=Le(),t=["whoWeAre","appliesTo","dataWeProcess","howWeUse","aiProcessing","tenantSeparation","messagingChannels","automationEscalation","googleCalendar","thirdParties","retention","deletion","security","transfers","children","rights","changes","questions"],n=a=>{const i=e(a,{returnObjects:!0});return Array.isArray(i)?r.jsx("ul",{className:"policy-list",children:i.map((s,o)=>r.jsx("li",{children:String(s)},o))}):null};return r.jsxs("div",{className:"policy-page",children:[r.jsx("section",{className:"lp-section",children:r.jsxs("div",{className:"lp-container policy-container",children:[r.jsxs("header",{className:"policy-header",children:[r.jsx("p",{className:"policy-kicker",children:e("policy.hero.kicker")}),r.jsx("h1",{className:"lp-section-title",children:e("policy.hero.title")}),r.jsx("p",{className:"lp-text policy-intro",children:e("policy.hero.intro")}),r.jsxs("p",{className:"lp-text",children:[r.jsxs("strong",{children:[e("policy.hero.lastUpdatedLabel"),":"]})," ",xF]})]}),r.jsxs("div",{className:"policy-grid",children:[r.jsxs("section",{className:"policy-section","aria-labelledby":"policy-who",children:[r.jsx("h2",{id:"policy-who",className:"policy-subtitle",children:e("policy.sections.whoWeAre.title")}),r.jsxs("p",{className:"lp-text",children:[r.jsxs("strong",{children:[e("policy.sections.whoWeAre.serviceLabel"),":"]})," ",e("policy.sections.whoWeAre.serviceValue"),r.jsx("br",{}),r.jsxs("strong",{children:[e("policy.sections.whoWeAre.providerLabel"),":"]})," ",wF+("(P.IVA: "+CF+")"),r.jsx("br",{}),r.jsxs("strong",{children:[e("policy.sections.whoWeAre.addressLabel"),":"]})," ",jF,r.jsx("br",{}),r.jsxs("strong",{children:[e("policy.sections.whoWeAre.emailLabel"),":"]})," ",r.jsx("a",{href:`mailto:${tc}`,children:tc})]})]}),t.filter(a=>a!=="whoWeAre").map(a=>r.jsxs("section",{className:"policy-section",children:[r.jsx("h2",{className:"policy-subtitle",children:e(`policy.sections.${a}.title`)}),(()=>{const i=e(`policy.sections.${a}.paragraphs`,{returnObjects:!0});return Array.isArray(i)?i.map((s,o)=>{const l=`policy.sections.${a}.paragraphs.${o}`;return e(`policy.sections.${a}.useTrans`,{defaultValue:"false"})==="true"?r.jsx("p",{className:"lp-text",children:r.jsx(uk,{i18nKey:l,values:{email:tc},components:{a:r.jsx("a",{href:`mailto:${tc}`}),strong:r.jsx("strong",{})}})},o):r.jsx("p",{className:"lp-text",children:e(l)},o)}):null})(),n(`policy.sections.${a}.list`)]},a))]})]})}),r.jsx(lv,{})]})},cv="accessToken",uv="refreshToken",dv="authUser";function hk(){return localStorage.getItem(cv)}function Bc(){return localStorage.getItem(uv)}function NF(){const e=localStorage.getItem(dv);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function fk(e){localStorage.setItem(cv,e.accessToken),localStorage.setItem(uv,e.refreshToken),localStorage.setItem(dv,JSON.stringify(e.user))}function Sr(){localStorage.removeItem(cv),localStorage.removeItem(uv),localStorage.removeItem(dv)}async function kF(e,t){const n=await fetch("/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});await aa(n)}async function PF(e,t){const n=await fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});return aa(n)}async function AF(e){const t=await fetch("/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});return aa(t)}async function gk(e){const t=await fetch("/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});return aa(t)}async function EF(e){const t=await fetch("/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});await aa(t)}async function TF(e){const t=await fetch("/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:e})});return aa(t)}async function IF(e,t){const n=await fetch("/auth/mfa/totp/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mfaToken:e,code:t})});return aa(n)}const vk=m.createContext(void 0),OF=({children:e})=>{const[t,n]=m.useState(()=>NF()),[a,i]=m.useState(()=>hk()),[s,o]=m.useState(!1);function l(v){fk(v),n(v.user),i(v.accessToken)}const c=async(v,y)=>{o(!0);try{const b=await PF(v,y);if("accessToken"in b&&"user"in b)return l(b),{kind:"success"};const x=b;if(x.mfaRequired&&x.mfaToken)return{kind:"mfa-required",mfaToken:x.mfaToken};throw new Error("Unexpected login response.")}finally{o(!1)}},u=async v=>{o(!0);try{const y=await TF(v);if("accessToken"in y&&"user"in y)return l(y),{kind:"success"};const b=y;if(b.mfaRequired&&b.mfaToken)return{kind:"mfa-required",mfaToken:b.mfaToken};throw new Error("Unexpected Google login response.")}finally{o(!1)}},d=async(v,y)=>{o(!0);try{const b=await IF(v,y);l(b)}finally{o(!1)}},p=async(v,y)=>{o(!0);try{await kF(v,y)}finally{o(!1)}},h=async()=>{o(!0);try{const v=Bc();await EF(v)}catch{}finally{Sr(),n(null),i(null),o(!1)}},f=async()=>{const v=Bc();if(!v)throw Sr(),n(null),i(null),new Error("No refresh token");o(!0);try{const y=await gk(v);l(y)}catch(y){throw Sr(),n(null),i(null),y}finally{o(!1)}};m.useEffect(()=>{const v=Bc();!a&&v&&f().catch(()=>{})},[]);const g={user:t,accessToken:a,isLoading:s,login:c,loginWithGoogle:u,loginWithMfaTotp:d,register:p,logout:h,refreshSession:f};return r.jsx(vk.Provider,{value:g,children:e})};function Ns(){const e=m.useContext(vk);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}let nc=null;async function MF(){const e=Bc();if(!e)throw Sr(),new Error("Session expired. Please log in again.");return nc||(nc=(async()=>{try{const t=await gk(e);fk(t)}catch(t){throw Sr(),t}finally{nc=null}})()),nc}function LF(e){return e.startsWith("http")?e:`${iv}${e}`}async function Bx(e,t={}){const n=LF(e),a=new Headers(t.headers||{}),i=t.body,s=hk();return s&&a.set("Authorization",`Bearer ${s}`),!a.has("Content-Type")&&typeof i=="string"&&a.set("Content-Type","application/json"),fetch(n,{...t,headers:a})}async function se(e,t={}){let n=await Bx(e,t);if(n.status!==401)return aa(n);try{await MF()}catch{throw new Error("Session expired. Please log in again.")}if(n=await Bx(e,t),n.status===401)throw Sr(),new Error("Session expired. Please log in again.");return aa(n)}async function bk(){return se("/bots")}async function yk(e){return se("/bots",{method:"POST",body:JSON.stringify(e)})}async function _n(e,t){return se(`/bots/${encodeURIComponent(e)}`,{method:"PATCH",body:JSON.stringify(t)})}async function DF(e,t){await se(`/bots/${encodeURIComponent(e)}`,{method:"DELETE",body:JSON.stringify({slug:t})})}async function hn(e){return se(`/bots/${encodeURIComponent(e)}`)}async function xk(e,t){return se(`/bots/${encodeURIComponent(e)}/checkout`,{method:"POST",body:JSON.stringify(t)})}async function wk(e,t){return se(`/bots/${encodeURIComponent(e)}/pricing-preview`,{method:"POST",body:JSON.stringify(t||{})})}async function FF(e){return se(`/bots/${encodeURIComponent(e)}/cancel-subscription`,{method:"POST"})}async function jk(e,t){return se(`/bots/${encodeURIComponent(e)}/change-plan`,{method:"POST",body:JSON.stringify(t)})}async function Ck(){return se("/usage-plans")}async function Sk(e,t){const n=t?{domain:t}:{};return se(`/bots/${encodeURIComponent(e)}/knowledge/crawl-domain`,{method:"POST",body:JSON.stringify(n)})}async function zF(e,t){const n=new FormData;return Array.from(t).forEach(a=>{n.append("files",a)}),se(`/bots/${encodeURIComponent(e)}/knowledge/upload-docs`,{method:"POST",body:n})}async function Jh(e,t){return se(`/bots/${encodeURIComponent(e)}/knowledge/crawl-status?jobId=${encodeURIComponent(t)}`)}async function _F(e,t){return se(`/bots/${encodeURIComponent(e)}/knowledge/crawl-history?page=${encodeURIComponent(String(t))}`)}async function RF(e,t){const n=new FormData;return Array.from(t).forEach(a=>{n.append("files",a)}),se(`/bots/${encodeURIComponent(e)}/knowledge/estimate-docs`,{method:"POST",body:n})}async function ci(e){return se(`/bots/${encodeURIComponent(e)}/channels`)}async function BF(e,t,n){return se(`/bots/${encodeURIComponent(e)}/channels/${encodeURIComponent(t)}`,{method:"PATCH",body:JSON.stringify(n)})}async function Nk(e,t){await se(`/bots/${encodeURIComponent(e)}/channels/${encodeURIComponent(t)}`,{method:"DELETE"})}async function $F(e,t=1){const n=`?page=${encodeURIComponent(String(t))}`;return se(`/conversations/bots/${encodeURIComponent(e)}${n}`)}async function $x(e){return se(`/conversations/${encodeURIComponent(e)}/messages`)}async function UF(e,t){return se(`/conversations/${encodeURIComponent(e)}/mode`,{method:"POST",body:JSON.stringify({mode:t})})}async function WF(e){return se(`/conversations/${encodeURIComponent(e)}/details`)}async function HF(e,t){return se(`/conversations/${encodeURIComponent(e)}/send`,{method:"POST",body:JSON.stringify({text:t})})}async function qF(e){return se(`/conversations/${encodeURIComponent(e)}/eval`,{method:"POST"})}async function KF(e){return(await se("/conversations/eval-bulk",{method:"POST",body:JSON.stringify({conversationIds:e})})).items||[]}async function kk(e,t,n){const a=new URLSearchParams;return a.set("type",t),n&&a.set("returnPath",n),se(`/bots/meta/${encodeURIComponent(e)}/connect?${a.toString()}`)}async function VF(e,t){const n=new URLSearchParams;t&&n.set("returnPath",t);const a=n.toString(),i=`/bots/${encodeURIComponent(e)}/google-calendar/connect`+(a?`?${a}`:"");return se(i)}async function GF(e){return se(`/google-calendar/sessions/${encodeURIComponent(e)}`)}async function YF(e,t){return se(`/google-calendar/sessions/${encodeURIComponent(e)}/attach`,{method:"POST",body:JSON.stringify({calendarId:t})})}async function QF(e){return se(`/bots/${encodeURIComponent(e)}/google-calendar/connection`)}async function ZF(e){return se(`/bots/${encodeURIComponent(e)}/google-calendar/connection`,{method:"DELETE"})}async function Pk(e){return se(`/meta/sessions/${encodeURIComponent(e)}`)}async function Ak(e,t){return se(`/meta/sessions/${encodeURIComponent(e)}/attach`,{method:"POST",body:JSON.stringify({pageId:t})})}async function Ek(e,t){return se(`/bots/${encodeURIComponent(e)}/whatsapp/embedded/complete`,{method:"POST",body:JSON.stringify(t)})}async function Tk(e,t){return se(`/whatsapp/sessions/${encodeURIComponent(e)}/attach`,{method:"POST",body:JSON.stringify({phoneId:t})})}async function Ik(e,t){const n=new URLSearchParams;t!=null&&t.search&&n.set("search",t.search),t!=null&&t.status&&t.status!=="ALL"&&n.set("status",t.status),t!=null&&t.category&&t.category!=="ALL"&&n.set("category",t.category),t!=null&&t.language&&n.set("language",t.language),t!=null&&t.cursor&&n.set("cursor",t.cursor),t!=null&&t.limit&&n.set("limit",String(t.limit));const a=n.toString(),i=`/bots/${encodeURIComponent(e)}/whatsapp/templates`+(a?`?${a}`:"");return se(i)}async function Ok(e,t){return se(`/bots/${encodeURIComponent(e)}/whatsapp/templates`,{method:"POST",body:JSON.stringify(t)})}async function Mk(e,t,n){return se(`/bots/${encodeURIComponent(e)}/whatsapp/templates/${encodeURIComponent(t)}`,{method:"PUT",body:JSON.stringify(n)})}async function pv(e){return se(`/bots/${encodeURIComponent(e)}/meta-leads/automation`)}async function Lk(e,t){return se(`/bots/${encodeURIComponent(e)}/meta-leads/automation`,{method:"PUT",body:JSON.stringify(t)})}async function Ux(e,t){const n=new URLSearchParams;(t==null?void 0:t.limit)!=null&&n.set("limit",String(t.limit));const a=n.toString(),i=`/bots/${encodeURIComponent(e)}/meta-leads`+(a?`?${a}`:"");return se(i)}const XF=()=>{var T;const{login:e,loginWithGoogle:t,loginWithMfaTotp:n,isLoading:a}=Ns(),i=tn(),s=Ht(),[o,l]=m.useState(""),[c,u]=m.useState(""),[d,p]=m.useState("credentials"),[h,f]=m.useState(null),[g,v]=m.useState(""),[y,b]=m.useState(null),[x,w]=m.useState(null),j=m.useRef(null),{t:C}=Le(),k=((T=s.state)==null?void 0:T.from)||"/app/bots",E=async()=>{try{const S=await bk();!S||S.length===0?i("/onboarding/bots/new",{replace:!0}):i("/app/bots",{replace:!0})}catch(S){console.error("Failed to fetch bots after login, falling back to /app/bots",S),i("/app/bots",{replace:!0})}},O=async S=>{S.preventDefault(),b(null),w(null);try{const N=await e(o,c);N.kind==="success"?await E():(f(N.mfaToken),p("mfa"),v(""))}catch(N){console.error(N),b(N.message||C("login.loginError"))}},M=async S=>{if(S.preventDefault(),!!h){w(null);try{await n(h,g.trim()),await E()}catch(N){console.error(N),w(N.message||C("login.mfaError")),v("")}}},P=()=>{p("credentials"),f(null),v(""),w(null)};return m.useEffect(()=>{const S="568984409972-ql252sre4kumaja8kc4d8j4m7fmrdb6a.apps.googleusercontent.com";!window.google||!j.current||(window.google.accounts.id.initialize({client_id:S,callback:async N=>{const A=N.credential;if(A)try{b(null),w(null);const L=await t(A);L.kind==="success"?await E():(f(L.mfaToken),p("mfa"),v(""))}catch(L){console.error(L),b(L.message||C("login.googleError"))}}}),window.google.accounts.id.renderButton(j.current,{theme:"outline",size:"large"}))},[k,t,i,C]),r.jsx("section",{className:"auth-landing",children:r.jsx("div",{className:"lp-container",children:r.jsxs("div",{className:"auth-layout",children:[r.jsxs("div",{className:"auth-copy",children:[r.jsx("h1",{className:"auth-title",children:C("login.pageTitle")}),r.jsx("p",{className:"auth-subtitle",children:C("login.subtitle")}),r.jsxs("ul",{className:"auth-bullets",children:[r.jsx("li",{children:C("login.bullets.b1")}),r.jsx("li",{children:C("login.bullets.b2")}),r.jsx("li",{children:C("login.bullets.b3")})]})]}),r.jsx("div",{className:"auth-card",children:d==="credentials"?r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"auth-card-title",children:C("login.cardTitle")}),r.jsxs("form",{className:"form auth-form",onSubmit:O,children:[y&&r.jsx("div",{className:"form-error auth-form-error",children:y}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:C("login.email")}),r.jsx("input",{type:"email",value:o,onChange:S=>l(S.target.value),required:!0})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:C("login.password")}),r.jsx("input",{type:"password",value:c,onChange:S=>u(S.target.value),required:!0})]}),r.jsx("button",{className:"lp-btn lp-btn-primary auth-submit",type:"submit",disabled:a,children:C(a?"login.submitting":"login.submit")})]}),r.jsx("div",{className:"auth-divider",children:r.jsx("span",{children:C("login.divider")})}),r.jsx("div",{className:"auth-google",children:r.jsx("div",{ref:j})}),r.jsxs("p",{className:"auth-legal",style:{color:"black"},children:[C("auth.legalNotice.p1")," ",r.jsx(ue,{to:"/terms",children:C("auth.legalNotice.terms")})," ",C("auth.legalNotice.and")," ",r.jsx(ue,{to:"/policy",children:C("auth.legalNotice.privacy")}),"."]}),r.jsxs("p",{className:"auth-switch",children:[C("login.noAccount")," ",r.jsx(ue,{to:"/register",children:C("login.register")})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"auth-card-title",children:C("login.mfaTitle")}),r.jsx("p",{className:"auth-subtitle",children:C("login.mfaSubtitle")}),r.jsxs("form",{className:"form auth-form",onSubmit:M,children:[x&&r.jsx("div",{className:"form-error auth-form-error",children:x}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:C("login.mfaCodeLabel")}),r.jsx("input",{type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:6,value:g,onChange:S=>v(S.target.value),required:!0})]}),r.jsx("button",{className:"lp-btn lp-btn-primary auth-submit",type:"submit",disabled:a,children:C(a?"login.mfaSubmitting":"login.mfaSubmit")}),r.jsx("button",{type:"button",className:"lp-btn lp-btn-ghost",style:{marginTop:"0.75rem"},onClick:P,disabled:a,children:C("login.backToCredentials")})]}),r.jsx("p",{className:"auth-switch",children:C("login.mfaHelp")})]})})]})})})};function JF(e){const t=[];return e.length<8&&t.push("minLength"),/[A-Z]/.test(e)||t.push("uppercase"),/[a-z]/.test(e)||t.push("lowercase"),/[0-9]/.test(e)||t.push("digit"),/[^A-Za-z0-9]/.test(e)||t.push("special"),t}const ez=()=>{const{register:e,isLoading:t}=Ns(),[n,a]=m.useState(""),[i,s]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(null),[d,p]=m.useState(!1),{t:h}=Le(),f=JF(i),g=i===o||o==="",v=async b=>{if(b.preventDefault(),u(null),p(!1),i!==o){u(h("register.errorPasswordMismatch"));return}if(f.length>0){u(h("register.errorPasswordRequirements"));return}try{await e(n,i),p(!0),s(""),l("")}catch(x){console.error(x),u(x.message||h("register.errorGeneric"))}},y=b=>f.includes(b);return r.jsx("section",{className:"auth-landing",children:r.jsx("div",{className:"lp-container",children:r.jsxs("div",{className:"auth-layout",children:[r.jsxs("div",{className:"auth-copy",children:[r.jsx("h1",{className:"auth-title",children:h("register.pageTitle")}),r.jsx("p",{className:"auth-subtitle",children:h("register.subtitle")}),r.jsxs("ul",{className:"auth-bullets",children:[r.jsx("li",{children:h("register.bullets.b1")}),r.jsx("li",{children:h("register.bullets.b2")}),r.jsx("li",{children:h("register.bullets.b3")})]})]}),r.jsxs("div",{className:"auth-card",children:[r.jsx("h2",{className:"auth-card-title",children:h("register.cardTitle")}),r.jsxs("form",{className:"form auth-form",onSubmit:v,children:[c&&r.jsx("div",{className:"form-error auth-form-error",children:c}),d&&r.jsx("div",{className:"form-success auth-form-success",children:h("register.success")}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:h("register.email")}),r.jsx("input",{type:"email",value:n,onChange:b=>a(b.target.value),required:!0})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:h("register.password")}),r.jsx("input",{type:"password",value:i,onChange:b=>s(b.target.value),required:!0})]}),r.jsxs("div",{className:"password-requirements",children:[r.jsx("p",{className:"pw-title",children:h("register.pwTitle")}),r.jsxs("ul",{children:[r.jsx("li",{className:y("minLength")?"pw-rule pw-rule-bad":"pw-rule pw-rule-ok",children:h("register.pwRules.minLength")}),r.jsx("li",{className:y("uppercase")?"pw-rule pw-rule-bad":"pw-rule pw-rule-ok",children:h("register.pwRules.uppercase")}),r.jsx("li",{className:y("lowercase")?"pw-rule pw-rule-bad":"pw-rule pw-rule-ok",children:h("register.pwRules.lowercase")}),r.jsx("li",{className:y("digit")?"pw-rule pw-rule-bad":"pw-rule pw-rule-ok",children:h("register.pwRules.digit")}),r.jsx("li",{className:y("special")?"pw-rule pw-rule-bad":"pw-rule pw-rule-ok",children:h("register.pwRules.special")})]})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:h("register.passwordConfirm")}),r.jsx("input",{type:"password",value:o,onChange:b=>l(b.target.value),required:!0})]}),!g&&r.jsx("div",{className:"field-error",children:h("register.errorPasswordMismatch")}),r.jsx("button",{className:"lp-btn lp-btn-primary auth-submit",type:"submit",disabled:t,children:h(t?"register.submitting":"register.submit")})]}),r.jsxs("p",{className:"auth-switch",children:[h("register.alreadyAccount")," ",r.jsx(ue,{to:"/login",children:h("register.login")})]})]})]})})})},tz=()=>{const[e]=rv(),[t,n]=m.useState("idle"),[a,i]=m.useState(null),{t:s}=Le();return m.useEffect(()=>{const o=e.get("token");if(!o){n("error"),i(s("verifyEmail.missingToken"));return}n("loading"),AF(o).then(l=>{n(l.success?"success":"error"),i(l.message||(l.success?s("verifyEmail.successDefault"):s("verifyEmail.invalidOrExpired")))}).catch(l=>{console.error(l),n("error"),i(l.message||s("verifyEmail.genericError"))})},[e,s]),r.jsx("section",{className:"auth-landing",children:r.jsx("div",{className:"lp-container",children:r.jsx("div",{className:"auth-center",children:r.jsxs("div",{className:"auth-card auth-card-verify",children:[r.jsx("h1",{className:"auth-card-title",children:s("verifyEmail.title")}),t==="loading"&&r.jsx("p",{className:"auth-subtitle",children:s("verifyEmail.loading")}),t!=="loading"&&a&&r.jsx("p",{className:"auth-subtitle",children:a}),(t==="success"||t==="error")&&r.jsxs("p",{className:"auth-switch",style:{marginTop:"1.25rem"},children:[s("verifyEmail.backToLogin")," ",r.jsx(ue,{to:"/login",children:s("verifyEmail.loginLink")}),"."]})]})})})})},Wx="cookieConsent",nz=()=>{const[e,t]=m.useState(!1);m.useEffect(()=>{try{localStorage.getItem(Wx)||t(!0)}catch{t(!0)}},[]);const n=a=>{try{localStorage.setItem(Wx,a)}catch{}t(!1)};return e?r.jsx("div",{className:"cookie-banner",children:r.jsxs("div",{className:"lp-container cookie-banner-inner",children:[r.jsxs("div",{className:"cookie-banner-text",children:[r.jsx("h2",{className:"cookie-banner-title",children:"Usiamo cookie e tecnologie simili"}),r.jsxs("p",{className:"cookie-banner-body",children:["Utilizziamo cookie tecnici e, previo tuo consenso, cookie analitici e di profilazione per migliorare l'esperienza e misurare l'utilizzo della piattaforma. Puoi modificare la tua scelta in qualsiasi momento. Consulta la nostra"," ",r.jsx(ue,{to:"/policy",className:"cookie-banner-link",children:"Privacy & Policy"})," ","per maggiori dettagli."]})]}),r.jsxs("div",{className:"cookie-banner-actions",children:[r.jsx("button",{type:"button",className:"cookie-btn cookie-btn-secondary",onClick:()=>n("rejected"),children:"Rifiuta"}),r.jsx("button",{type:"button",className:"cookie-btn cookie-btn-primary",onClick:()=>n("accepted"),children:"Accetta"})]})]})}):null},Hx=()=>{const{user:e}=Ns(),t=Ht(),n=t.pathname,a=t.pathname==="/"||t.pathname==="/policy"||t.pathname==="/terms"||t.pathname==="/login"||t.pathname==="/register"||t.pathname==="/verify-email"||n.startsWith("/onboarding");return r.jsxs("div",{className:a?"layout-root layout-root-landing":"layout-root",children:[r.jsxs("header",{className:a?"layout-header layout-header-landing":"layout-header",children:[r.jsx("div",{className:"layout-header-left",children:r.jsx(ue,{to:"/",className:a?"brand brand-landing":"brand",children:"Coslo - Assistente AI"})}),r.jsx("nav",{className:a?"layout-nav layout-nav-landing":"layout-nav",children:e?r.jsx(ue,{to:"/app/bots",children:"Dashboard"}):r.jsxs(r.Fragment,{children:[r.jsx(ue,{to:"/login",children:"Login"}),r.jsx(ue,{to:"/register",children:"Sign up"})]})})]}),r.jsx("main",{className:a?"layout-main layout-main-landing":"layout-main",children:r.jsx(ZN,{})}),r.jsx(nz,{})]})},qx=()=>{const{user:e,logout:t}=Ns(),n=Ht(),{t:a}=Le(),[i,s]=m.useState(!1),o=d=>n.pathname.startsWith(d),l=async()=>{await t(),s(!1)},c=()=>{s(!1)},u=({onNavigate:d})=>r.jsxs("nav",{className:"app-sidebar-nav",children:[r.jsx(ue,{to:"/app/dashboard",className:o("/app/dashboard")||n.pathname==="/app"?"active":void 0,onClick:d,children:a("appLayout.nav.dashboard")}),r.jsx(ue,{to:"/app/bots",className:o("/app/bots")?"active":void 0,onClick:d,children:a("appLayout.nav.bots")}),r.jsx(ue,{to:"/app/billing",className:o("/app/billing")?"active":void 0,onClick:d,children:a("appLayout.nav.billing")}),r.jsx(ue,{to:"/app/account",className:o("/app/account")?"active":void 0,onClick:d,children:a("appLayout.nav.profile")}),(e==null?void 0:e.role)==="REFERRER"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"app-nav-separator"}),r.jsx("div",{className:"app-nav-section-title",children:"Referrals"}),r.jsx(ue,{to:"/app/referrals",className:o("/app/referrals")?"active":void 0,onClick:d,children:"Referrer panel"})]}),(e==null?void 0:e.role)==="ADMIN"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"app-nav-separator"}),r.jsx("div",{className:"app-nav-section-title",children:"Admin"}),r.jsx(ue,{to:"/app/admin/users",className:o("/app/admin/users")?"active":void 0,onClick:d,children:"Users"}),r.jsx(ue,{to:"/app/admin/referrals",className:o("/app/admin/referrals")?"active":void 0,onClick:d,children:"Referrals"}),r.jsx(ue,{to:"/app/admin/bots",className:o("/app/admin/bots")?"active":void 0,onClick:d,children:"Bots & subscriptions"}),r.jsx(ue,{to:"/app/admin/bookings",className:o("/app/admin/bookings")?"active":void 0,onClick:d,children:"Bookings"}),r.jsx(ue,{to:"/app/admin/emails",className:o("/app/admin/emails")?"active":void 0,onClick:d,children:"Email usage"}),r.jsx(ue,{to:"/app/admin/openai-usage",className:o("/app/admin/openai-usage")?"active":void 0,onClick:d,children:"OpenAI usage"}),r.jsx(ue,{to:"/app/admin/payments",className:o("/app/admin/payments")?"active":void 0,onClick:d,children:"Payments"}),r.jsx(ue,{to:"/app/admin/integrations",className:o("/app/admin/integrations")?"active":void 0,onClick:d,children:"Channels"}),r.jsx(ue,{to:"/app/admin/plans",className:o("/app/admin/plans")?"active":void 0,onClick:d,children:"Plans & pricing"}),r.jsx(ue,{to:"/app/referrals",className:o("/app/referrals")?"active":void 0,onClick:d,children:"Referrer panel"})]})]});return r.jsxs("div",{className:"app-layout-root",children:[r.jsxs("aside",{className:"app-sidebar",children:[r.jsx("div",{className:"app-sidebar-header",children:r.jsx("h2",{children:a("appLayout.sidebarTitle")})}),r.jsx(u,{})]}),r.jsxs("div",{className:"app-main",children:[r.jsxs("header",{className:"app-main-header",children:[r.jsxs("div",{className:"app-main-header-left",children:[r.jsx("button",{type:"button",className:"app-burger",onClick:()=>s(!0),"aria-label":a("appLayout.aria.openNav"),children:r.jsx("span",{className:"app-burger-icon"})}),r.jsx("span",{className:"brand-small",children:a("appLayout.brandSmall")})]}),r.jsx("div",{className:"app-main-header-right",children:e&&r.jsx("button",{className:"btn-link",onClick:l,children:a("appLayout.logout")})})]}),i&&r.jsx("div",{className:"app-mobile-nav-overlay",onClick:()=>s(!1),children:r.jsxs("aside",{className:"app-mobile-nav",onClick:d=>d.stopPropagation(),children:[r.jsxs("div",{className:"app-mobile-nav-header",children:[r.jsx("span",{className:"brand-small",children:a("appLayout.sidebarTitle")}),r.jsx("button",{type:"button",className:"app-mobile-nav-close",onClick:()=>s(!1),"aria-label":a("appLayout.aria.closeNav"),children:""})]}),r.jsx(u,{onNavigate:c}),e&&r.jsxs("div",{className:"app-mobile-nav-user",children:[r.jsx("div",{className:"app-mobile-nav-email",children:e.email}),r.jsx("button",{type:"button",className:"btn-link danger",onClick:l,children:a("appLayout.logout")})]})]})}),r.jsx("main",{className:"app-main-content",children:r.jsx(ZN,{})})]})]})},ym=({children:e})=>{const{user:t,isLoading:n}=Ns(),a=Ht();return n?r.jsx("div",{className:"page-container",children:r.jsx("p",{children:"Checking session..."})}):t?e:r.jsx(av,{to:"/login",replace:!0,state:{from:a.pathname+a.search}})},Kn=({allowed:e,children:t})=>{const{user:n,isLoading:a}=Ns(),i=Ht();return a?r.jsx("div",{className:"page-container",children:r.jsx("p",{children:"Checking permissions..."})}):n?e.includes(n.role)?t:r.jsxs("div",{className:"page-container",children:[r.jsx("h2",{children:"Not authorized"}),r.jsx("p",{children:"You dont have access to this page."})]}):r.jsx(av,{to:"/login",replace:!0,state:{from:i.pathname+i.search}})},Dk="referralCode";function Fk(){const e=localStorage.getItem(Dk),t=e==null?void 0:e.trim();return t||null}function az(e){const t=e.trim();t&&localStorage.setItem(Dk,t)}const rz=()=>{const e=Ht();return m.useEffect(()=>{const t=new URLSearchParams(e.search),n=t.get("ref")||t.get("referral")||t.get("referralCode"),a=n==null?void 0:n.trim();a&&az(a)},[e.search]),null},xm={name:"",language:"en_US",category:"UTILITY",headerEnabled:!1,headerText:"",bodyText:"",footerEnabled:!1,footerText:"",buttons:[]};function iz(e){switch(e){case"APPROVED":return"status-badge status-badge-ok";case"PENDING":return"status-badge status-badge-warn";case"REJECTED":return"status-badge status-badge-error";default:return"status-badge"}}function sz(e){const t=[];if(e.headerEnabled&&e.headerText.trim()&&t.push({type:"HEADER",format:"TEXT",text:e.headerText.trim(),example:e.headerText.includes("{{")?{header_text:["Example header"]}:void 0}),e.bodyText.trim()){const a=e.bodyText.trim(),i=a.match(/\{\{\d+\}\}/g)||[];t.push({type:"BODY",text:a,example:i.length>0?{body_text:i.map((s,o)=>`Example ${o+1}`)}:void 0})}e.footerEnabled&&e.footerText.trim()&&t.push({type:"FOOTER",text:e.footerText.trim()});const n=e.buttons.filter(a=>a.text.trim()).map(a=>({type:a.type,text:a.text.trim(),url:a.type==="URL"?a.url:void 0,phone_number:a.type==="PHONE_NUMBER"?a.phone_number:void 0}));return n.length>0&&t.push({type:"BUTTONS",buttons:n}),t}function oz(e){var s;const t=e.components.find(o=>o.type==="HEADER"),n=e.components.find(o=>o.type==="BODY"),a=e.components.find(o=>o.type==="FOOTER"),i=e.components.find(o=>o.type==="BUTTONS");return{name:e.name,language:e.language,category:e.category,headerEnabled:!!t,headerText:(t==null?void 0:t.text)??"",bodyText:(n==null?void 0:n.text)??"",footerEnabled:!!a,footerText:(a==null?void 0:a.text)??"",buttons:((s=i==null?void 0:i.buttons)==null?void 0:s.map((o,l)=>({id:`${e.id}-btn-${l}`,type:o.type,text:o.text,url:o.url,phone_number:o.phone_number})))??[]}}const lz=()=>{const{t:e}=Le(),{id:t}=Ft(),[n,a]=m.useState(null),[i,s]=m.useState([]),[o,l]=m.useState([]),[c,u]=m.useState(!0),[d,p]=m.useState(!1),[h,f]=m.useState(null),[g,v]=m.useState(null),[y,b]=m.useState({search:"",status:"ALL",category:"ALL"}),[x,w]=m.useState(null),[j,C]=m.useState("create"),[k,E]=m.useState(null),[O,M]=m.useState(xm),[P,T]=m.useState(!1),[S,N]=m.useState(!1),[A,L]=m.useState(null),[_,I]=m.useState({phoneFieldName:"phone_number",consentFieldName:"whatsapp_opt_in",requiresWhatsappOptIn:!0,templateName:"",templateLanguage:""}),[D,F]=m.useState(!1),[R,z]=m.useState(!1),[U,K]=m.useState([]),[Z,oe]=m.useState(!1),fe=m.useMemo(()=>i.find(H=>H.type==="WHATSAPP")||null,[i]),V=m.useMemo(()=>i.find(H=>H.type==="FACEBOOK")||null,[i]),G=m.useMemo(()=>fe?(fe.meta||{}).needsReconnect!==!0:!1,[fe]),$=m.useMemo(()=>V?(V.meta||{}).needsReconnect!==!0:!1,[V]),ae=m.useMemo(()=>n?n.leadWhatsappMessages200||n.leadWhatsappMessages500||n.leadWhatsappMessages1000:!1,[n]);m.useEffect(()=>{if(!t)return;const H=t;async function J(){try{u(!0),f(null);const[ce,Ie]=await Promise.all([hn(H),ci(H)]);a(ce),s(Ie)}catch(ce){console.error(ce),f((ce==null?void 0:ce.message)||"Failed to load bot or channels.")}finally{u(!1)}}J()},[t]);async function de(){if(!(!t||!G))try{p(!0),f(null);const H=await Ik(t,{limit:50});l(H.items)}catch(H){console.error(H),f((H==null?void 0:H.message)||"Failed to load WhatsApp templates.")}finally{p(!1)}}async function Q(){if(t)try{F(!0),oe(!0),f(null);const[H,J]=await Promise.all([pv(t),Ux(t,{limit:50})]);H?(L(H),I({phoneFieldName:H.phoneFieldName||"phone_number",consentFieldName:H.consentFieldName||"",requiresWhatsappOptIn:H.requiresWhatsappOptIn,templateName:H.templateName||"",templateLanguage:H.templateLanguage||""})):(L(null),I({phoneFieldName:"phone_number",consentFieldName:"whatsapp_opt_in",requiresWhatsappOptIn:!0,templateName:"",templateLanguage:""})),K(J.items)}catch(H){console.error(H),f((H==null?void 0:H.message)||"Failed to load lead automation settings or leads.")}finally{F(!1),oe(!1)}}m.useEffect(()=>{!t||!ae||(async()=>(await Q(),await de()))()},[t,ae,G]);const ie=m.useMemo(()=>o.filter(H=>H.status==="APPROVED"),[o]),ye=m.useMemo(()=>o.filter(H=>{if(y.status!=="ALL"&&H.status!==y.status||y.category!=="ALL"&&H.category!==y.category)return!1;if(y.search){const J=y.search.toLowerCase();if(!H.name.toLowerCase().includes(J)&&!H.language.toLowerCase().includes(J))return!1}return!0}),[o,y]);function Se(H,J){M(ce=>({...ce,[H]:J}))}function X(H){const J=H.toLowerCase().replace(/[^a-z0-9_]/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"");Se("name",J)}function he(){M(H=>({...H,buttons:[...H.buttons,{id:`btn-${Date.now()}-${H.buttons.length}`,type:"QUICK_REPLY",text:""}]}))}function B(H,J){M(ce=>({...ce,buttons:ce.buttons.map(Ie=>Ie.id===H?{...Ie,...J}:Ie)}))}function re(H){M(J=>({...J,buttons:J.buttons.filter(ce=>ce.id!==H)}))}function ne(){C("create"),E(null),M(xm),w(null),v(null),N(!0)}function ve(H){C("edit"),E(H.id),M(oz(H)),w(H.id),v(null),N(!0)}function He(){N(!1)}async function W(H){if(H.preventDefault(),!t)return;T(!0),f(null),v(null);const J=sz(O),ce={name:O.name,category:O.category,language:O.language,components:J};try{j==="create"?(await Ok(t,ce),v(e("whatsappTemplates.messages.created","Template created.")),M(xm)):j==="edit"&&k&&(await Mk(t,k,ce),v(e("whatsappTemplates.messages.updated","Template updated."))),await de(),N(!1)}catch(Ie){console.error(Ie),f((Ie==null?void 0:Ie.message)||e("whatsappTemplates.messages.saveFailed",{defaultValue:"Failed to save template."}))}finally{T(!1)}}async function le(H){if(H.preventDefault(),!!t){z(!0),f(null),v(null);try{const J={phoneFieldName:_.phoneFieldName||"phone_number",consentFieldName:_.consentFieldName||"",requiresWhatsappOptIn:_.requiresWhatsappOptIn,templateName:_.templateName||"",templateLanguage:_.templateLanguage||""},ce=await Lk(t,J);L(ce),v(e("whatsappTemplates.leadAutomation.saveSuccess","Lead automation settings saved."))}catch(J){console.error(J),f((J==null?void 0:J.message)||e("whatsappTemplates.leadAutomation.saveError","Failed to save lead automation settings."))}finally{z(!1)}}}async function Te(){if(t)try{oe(!0),f(null);const H=await Ux(t,{limit:50});K(H.items)}catch(H){console.error(H),f((H==null?void 0:H.message)||e("whatsappTemplates.leads.refreshError","Failed to refresh leads."))}finally{oe(!1)}}if(!t)return null;if(c)return r.jsxs("div",{className:"page",children:[r.jsx("div",{className:"page-header",children:r.jsx("h1",{children:e("whatsappTemplates.titleFallback","WhatsApp templates")})}),r.jsx("div",{className:"card",children:r.jsx("p",{className:"muted",children:e("common.loading","Loading")})})]});const je=ae;return r.jsxs("div",{className:"page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:e("whatsappTemplates.title","WhatsApp message templates")}),n&&r.jsx("p",{className:"muted",children:e("whatsappTemplates.subtitle",{defaultValue:"Lead Ads  WhatsApp automation for {{name}}",name:n.name})})]}),r.jsxs("div",{className:"page-header-actions",children:[r.jsx(ue,{to:`/app/bots/${t}`,className:"btn-secondary",children:e("botChannels.backToBot")}),je&&G&&r.jsx("button",{type:"button",className:"btn-primary",onClick:ne,children:e("whatsappTemplates.addTemplate","New template")})]})]}),h&&r.jsx("div",{className:"alert alert-error",children:r.jsx("div",{children:h})}),g&&r.jsx("div",{className:"alert alert-success",children:r.jsx("div",{children:g})}),je&&!$&&r.jsxs("div",{className:"alert-warning",style:{marginBottom:"1rem"},children:[r.jsxs("strong",{children:[e("whatsappTemplates.status.facebookStatus","Facebook status"),":"," ",e("whatsappTemplates.status.facebookNotConnected","Not connected")]})," ",e("whatsappTemplates.facebookNotConnectedBody","Lead Ads from Facebook will not be received until you connect a Facebook page on the Channels page.")]}),je&&!G&&r.jsxs("div",{className:"alert-warning",style:{marginBottom:"0.5rem"},children:[r.jsxs("strong",{children:[e("whatsappTemplates.status.whatsappStatus","WhatsApp status"),":"," ",e("whatsappTemplates.status.notConnected","Not connected")]})," ",e("whatsappTemplates.notConnectedBody","You can configure Lead Ads and see incoming leads, but to send WhatsApp templates you must connect a WhatsApp business number on the Channels page.")]}),!je&&r.jsxs("div",{className:"card",children:[r.jsx("h2",{children:e("whatsappTemplates.leadFeatureNotEnabledTitle","Lead Ads feature not enabled")}),r.jsx("p",{className:"muted",children:e("whatsappTemplates.leadFeatureNotEnabledBody","To configure Lead Ads  WhatsApp automation, first enable the Lead Ads add-on on the Features page for this bot.")}),r.jsx(ue,{to:`/app/bots/${encodeURIComponent(t)}/features`,className:"btn-primary",children:e("whatsappTemplates.leadFeatureGoToFeatures","Go to Features")})]}),je&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"wa-templates-stack",children:[r.jsx("section",{className:"card wa-lead-automation-card",children:r.jsxs("form",{onSubmit:le,className:"form",children:[r.jsx("div",{className:"form-header-row",children:r.jsx("h2",{children:e("whatsappTemplates.leadAutomation.title","Lead Ads  WhatsApp automation")})}),D?r.jsx("p",{className:"muted",children:e("whatsappTemplates.leadAutomation.loading","Loading automation settings")}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"form-grid-2",children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("whatsappTemplates.leadAutomation.phoneField","Phone field name")}),r.jsx("input",{type:"text",value:_.phoneFieldName||"",onChange:H=>I(J=>({...J,phoneFieldName:H.target.value})),placeholder:"phone_number",required:!0}),r.jsx("div",{className:"muted small",children:e("whatsappTemplates.leadAutomation.phoneFieldHelp","Name of the form field that contains the phone number in the lead payload.")})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("whatsappTemplates.leadAutomation.consentField","Consent field name (optional)")}),r.jsx("input",{type:"text",value:_.consentFieldName||"",onChange:H=>I(J=>({...J,consentFieldName:H.target.value})),placeholder:"whatsapp_opt_in"}),r.jsx("div",{className:"muted small",children:e("whatsappTemplates.leadAutomation.consentFieldHelp","Name of the yes/no field used for WhatsApp consent.")})]})]}),r.jsx("div",{className:"form-field form-field-inline",children:r.jsxs("label",{children:[r.jsx("input",{type:"checkbox",checked:_.requiresWhatsappOptIn,onChange:H=>I(J=>({...J,requiresWhatsappOptIn:H.target.checked}))})," ",e("whatsappTemplates.leadAutomation.requireOptIn","Require explicit WhatsApp opt-in")]})}),r.jsx("hr",{}),r.jsx("div",{className:"form-grid-2",children:r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("whatsappTemplates.leadAutomation.template","Template to send")}),r.jsxs("select",{value:_.templateName&&_.templateLanguage?`${_.templateName}:${_.templateLanguage}`:"",onChange:H=>{const J=H.target.value;I(ce=>{if(!J)return{...ce,templateName:"",templateLanguage:""};const[Ie,ee]=J.split(":");return{...ce,templateName:Ie,templateLanguage:ee}})},required:!0,disabled:ie.length===0,children:[r.jsx("option",{value:"",children:e("whatsappTemplates.leadAutomation.templatePlaceholder","Select an approved template")}),ie.map(H=>r.jsxs("option",{value:`${H.name}:${H.language}`,children:[H.name," (",H.language,")"]},H.id))]}),r.jsx("div",{className:"muted small",children:e("whatsappTemplates.leadAutomation.templateHelp","Template used for new leads from Meta. Only approved templates are available.")})]})}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"submit",className:"btn-primary",disabled:R,children:R?e("common.saving","Saving"):e("whatsappTemplates.leadAutomation.save","Save automation")})})]})]})}),r.jsxs("section",{className:"card wa-template-list-card",children:[r.jsxs("div",{className:"card-header-row",children:[r.jsx("h2",{children:e("whatsappTemplates.history.title","Template history")}),G&&r.jsx("button",{type:"button",className:"btn-secondary btn-sm",onClick:ne,children:e("whatsappTemplates.addTemplate","New template")})]}),r.jsxs("div",{className:"wa-template-filters",children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("whatsappTemplates.filters.search","Search")}),r.jsx("input",{type:"text",placeholder:e("whatsappTemplates.filters.searchPlaceholder","Search by name or language"),value:y.search,onChange:H=>b(J=>({...J,search:H.target.value}))})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("whatsappTemplates.filters.status","Status")}),r.jsxs("select",{value:y.status,onChange:H=>b(J=>({...J,status:H.target.value})),children:[r.jsx("option",{value:"ALL",children:e("whatsappTemplates.filters.statusAll","All")}),r.jsx("option",{value:"APPROVED",children:e("whatsappTemplates.filters.statusApproved","Approved")}),r.jsx("option",{value:"PENDING",children:e("whatsappTemplates.filters.statusPending","Pending")}),r.jsx("option",{value:"REJECTED",children:e("whatsappTemplates.filters.statusRejected","Rejected")})]})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("whatsappTemplates.filters.category","Category")}),r.jsxs("select",{value:y.category,onChange:H=>b(J=>({...J,category:H.target.value})),children:[r.jsx("option",{value:"ALL",children:e("whatsappTemplates.filters.categoryAll","All")}),r.jsx("option",{value:"UTILITY",children:e("whatsappTemplates.category.utility","Utility")}),r.jsx("option",{value:"MARKETING",children:e("whatsappTemplates.category.marketing","Marketing")}),r.jsx("option",{value:"AUTHENTICATION",children:e("whatsappTemplates.category.authentication","Authentication")})]})]})]}),d?r.jsx("p",{className:"muted",children:e("whatsappTemplates.loadingTemplates","Loading templates")}):G?ye.length===0?r.jsxs("div",{className:"wa-template-empty",children:[r.jsx("p",{className:"muted",children:e("whatsappTemplates.empty","No WhatsApp templates found for this bot yet.")}),r.jsx("button",{type:"button",className:"btn-primary",onClick:ne,children:e("whatsappTemplates.emptyCta","Create your first template")})]}):r.jsx("div",{className:"table-wrapper",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:e("whatsappTemplates.columns.name","Template")}),r.jsx("th",{children:e("whatsappTemplates.columns.status","Status")}),r.jsx("th",{children:e("whatsappTemplates.columns.updated","Last update")}),r.jsx("th",{})]})}),r.jsx("tbody",{children:ye.map(H=>r.jsxs("tr",{className:"wa-template-row"+(H.id===x?" wa-template-row--active":""),onClick:()=>w(H.id),children:[r.jsxs("td",{children:[r.jsx("div",{className:"wa-template-name",children:H.name}),r.jsxs("div",{className:"wa-template-meta",children:[r.jsx("span",{children:H.language}),r.jsxs("span",{children:["  ",H.category]})]})]}),r.jsx("td",{children:r.jsx("span",{className:iz(H.status),children:H.status})}),r.jsx("td",{children:H.lastUpdatedAt?r.jsx("span",{className:"muted",children:new Date(H.lastUpdatedAt).toLocaleDateString()}):r.jsx("span",{className:"muted",children:""})}),r.jsx("td",{className:"wa-template-actions",children:r.jsx("button",{type:"button",className:"btn-secondary btn-sm",onClick:J=>{J.stopPropagation(),ve(H)},disabled:!G,children:e("whatsappTemplates.actions.edit","Edit")})})]},H.id))})]})}):r.jsx("p",{className:"muted",children:e("whatsappTemplates.templates.requireWhatsapp","Connect a WhatsApp number on the Channels page to sync and manage templates.")})]}),r.jsxs("section",{className:"card wa-leads-card",children:[r.jsxs("div",{className:"card-header-row",children:[r.jsx("h2",{children:e("whatsappTemplates.leads.title","Recent leads")}),r.jsx("button",{type:"button",className:"btn-secondary btn-xs",onClick:Te,disabled:Z,children:Z?e("common.loading","Loading"):e("whatsappTemplates.leads.refresh","Refresh")})]}),Z?r.jsx("p",{className:"muted",children:e("whatsappTemplates.leads.loading","Loading leads")}):$?U.length===0?r.jsx("p",{className:"muted",children:e("whatsappTemplates.leads.empty","No leads received yet.")}):r.jsx("div",{className:"table-wrapper",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:e("whatsappTemplates.leads.createdAt","Received at")}),r.jsx("th",{children:e("whatsappTemplates.leads.phone","Phone")}),r.jsx("th",{children:e("whatsappTemplates.leads.messageSent","Message sent")}),r.jsx("th",{children:e("whatsappTemplates.leads.status","Status")})]})}),r.jsx("tbody",{children:U.map(H=>{const J=H.whatsappStatus==="SENT";return r.jsxs("tr",{children:[r.jsx("td",{children:r.jsx("span",{className:"muted",children:new Date(H.createdAt).toLocaleString()})}),r.jsx("td",{children:H.phone||""}),r.jsx("td",{children:J?"true":"false"}),r.jsx("td",{children:r.jsxs("span",{className:"muted",children:[H.whatsappStatus,H.whatsappError?`  ${H.whatsappError}`:""]})})]},H.id)})})]})}):r.jsx("p",{className:"muted",children:e("whatsappTemplates.leads.requireFacebook","Connect a Facebook page on the Channels page to start receiving leads.")})]})]}),S&&r.jsx("div",{className:"wa-template-modal-backdrop",children:r.jsxs("div",{className:"wa-template-modal",children:[r.jsxs("div",{className:"wa-template-modal-header",children:[r.jsx("h2",{children:j==="create"?e("whatsappTemplates.modal.createTitle","New WhatsApp template"):e("whatsappTemplates.modal.editTitle","Edit WhatsApp template")}),r.jsx("button",{type:"button",className:"btn-ghost btn-xs",onClick:He,children:""})]}),r.jsxs("form",{onSubmit:W,className:"form",children:[r.jsxs("div",{className:"form-grid-2",children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("whatsappTemplates.form.name","Template name")}),r.jsx("input",{type:"text",value:O.name,onChange:H=>X(H.target.value),disabled:j==="edit",placeholder:e("whatsappTemplates.form.namePlaceholder","e.g. order_update"),required:!0}),r.jsx("div",{className:"muted small",children:e("whatsappTemplates.form.nameHelp","Lowercase, numbers and underscores only. This is not visible to end users.")})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("whatsappTemplates.form.language","Language")}),r.jsx("input",{type:"text",value:O.language,onChange:H=>Se("language",H.target.value),placeholder:"en_US",required:!0}),r.jsx("div",{className:"muted small",children:e("whatsappTemplates.form.languageHelp","Use WhatsApp language codes like en_US, it_IT, es_ES")})]})]}),r.jsx("div",{className:"form-grid-2",children:r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("whatsappTemplates.form.category","Category")}),r.jsxs("select",{value:O.category,onChange:H=>Se("category",H.target.value),children:[r.jsx("option",{value:"UTILITY",children:e("whatsappTemplates.category.utility","Utility")}),r.jsx("option",{value:"MARKETING",children:e("whatsappTemplates.category.marketing","Marketing")}),r.jsx("option",{value:"AUTHENTICATION",children:e("whatsappTemplates.category.authentication","Authentication")})]})]})}),r.jsx("hr",{}),r.jsxs("div",{className:"form-section",children:[r.jsx("div",{className:"form-field form-field-inline",children:r.jsxs("label",{children:[r.jsx("input",{type:"checkbox",checked:O.headerEnabled,onChange:H=>Se("headerEnabled",H.target.checked)})," ",e("whatsappTemplates.form.header","Header (optional)")]})}),O.headerEnabled&&r.jsxs("div",{className:"form-field",children:[r.jsx("textarea",{value:O.headerText,onChange:H=>Se("headerText",H.target.value),maxLength:60,placeholder:e("whatsappTemplates.form.headerPlaceholder","Short title shown above the body")}),r.jsx("div",{className:"muted small",children:e("whatsappTemplates.form.headerHelp","Up to 60 characters. You can use variables like {{1}}.")})]})]}),r.jsx("div",{className:"form-section",children:r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("whatsappTemplates.form.body","Body")}),r.jsx("textarea",{value:O.bodyText,onChange:H=>Se("bodyText",H.target.value),rows:5,placeholder:e("whatsappTemplates.form.bodyPlaceholder","Main message text. Use {{1}}, {{2}},  for variables."),required:!0}),r.jsx("div",{className:"muted small",children:e("whatsappTemplates.form.bodyHelp","Keep it clear and concise. Variables will be filled at send time.")})]})}),r.jsxs("div",{className:"form-section",children:[r.jsx("div",{className:"form-field form-field-inline",children:r.jsxs("label",{children:[r.jsx("input",{type:"checkbox",checked:O.footerEnabled,onChange:H=>Se("footerEnabled",H.target.checked)})," ",e("whatsappTemplates.form.footer","Footer (optional)")]})}),O.footerEnabled&&r.jsx("div",{className:"form-field",children:r.jsx("textarea",{value:O.footerText,onChange:H=>Se("footerText",H.target.value),maxLength:60,placeholder:e("whatsappTemplates.form.footerPlaceholder","Small line below the message (e.g. legal or brand).")})})]}),r.jsxs("div",{className:"form-section",children:[r.jsxs("div",{className:"form-field",children:[r.jsxs("div",{className:"form-label-row",children:[r.jsx("label",{children:e("whatsappTemplates.form.buttons","Buttons")}),r.jsx("button",{type:"button",className:"btn-secondary btn-xs",onClick:he,children:e("whatsappTemplates.form.addButton","Add button")})]}),r.jsx("div",{className:"muted small",children:e("whatsappTemplates.form.buttonsHelp","Optional quick reply, URL or phone buttons.")})]}),O.buttons.map(H=>r.jsxs("div",{className:"wa-template-button-row form-grid-3",children:[r.jsx("div",{className:"form-field",children:r.jsxs("select",{value:H.type,onChange:J=>B(H.id,{type:J.target.value,url:J.target.value==="URL"?H.url:void 0,phone_number:J.target.value==="PHONE_NUMBER"?H.phone_number:void 0}),children:[r.jsx("option",{value:"QUICK_REPLY",children:e("whatsappTemplates.buttons.quickReply","Quick reply")}),r.jsx("option",{value:"URL",children:e("whatsappTemplates.buttons.url","URL")}),r.jsx("option",{value:"PHONE_NUMBER",children:e("whatsappTemplates.buttons.phone","Phone number")})]})}),r.jsx("div",{className:"form-field",children:r.jsx("input",{type:"text",value:H.text,onChange:J=>B(H.id,{text:J.target.value}),placeholder:e("whatsappTemplates.buttons.textPlaceholder","Button label"),required:!0})}),r.jsxs("div",{className:"form-field form-field-inline",children:[H.type==="URL"&&r.jsx("input",{type:"url",value:H.url||"",onChange:J=>B(H.id,{url:J.target.value}),placeholder:"https://example.com",required:!0}),H.type==="PHONE_NUMBER"&&r.jsx("input",{type:"tel",value:H.phone_number||"",onChange:J=>B(H.id,{phone_number:J.target.value}),placeholder:"+1 555 123456",required:!0}),r.jsx("button",{type:"button",className:"btn-ghost btn-xs",onClick:()=>re(H.id),children:e("whatsappTemplates.buttons.remove","Remove")})]})]},H.id))]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"submit",className:"btn-primary",disabled:P,children:P?e("common.saving","Saving"):j==="create"?e("whatsappTemplates.actions.create","Create template"):e("whatsappTemplates.actions.update","Update template")})})]})]})})]})]})},cz=()=>{const{t:e}=Le(),[t,n]=m.useState([]),[a,i]=m.useState(!0),[s,o]=m.useState(null);m.useEffect(()=>{i(!0),o(null),bk().then(c=>n(c)).catch(c=>{console.error(c),o((c==null?void 0:c.message)||e("botsList.errors.loadFailed"))}).finally(()=>i(!1))},[e]);const l=async c=>{const u=window.prompt(e("botsList.confirm.typeSlug",{slug:c.slug}));if(!u)return;if(u!==c.slug){window.alert(e("botsList.confirm.slugMismatch"));return}if(window.confirm(e("botsList.confirm.deleteBot",{name:c.name})))try{await DF(c.id,c.slug),n(p=>p.filter(h=>h.id!==c.id))}catch(p){console.error(p),o((p==null?void 0:p.message)||e("botsList.errors.deleteFailed"))}};return r.jsxs("div",{children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:e("botsList.title")}),r.jsx(ue,{className:"btn-primary",to:"/onboarding/bots/new",children:e("botsList.actions.create")})]}),a&&r.jsx("p",{children:e("botsList.loading")}),s&&r.jsx("div",{className:"form-error",children:s}),!a&&!s&&t.length===0&&r.jsx("p",{children:e("botsList.empty")}),!a&&!s&&t.length>0&&r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table bots-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:e("botsList.table.name")}),r.jsx("th",{children:e("botsList.table.slug")}),r.jsx("th",{children:e("botsList.table.status")}),r.jsx("th",{children:e("botsList.table.domain")}),r.jsx("th",{children:e("botsList.table.channels")}),r.jsx("th",{children:e("botsList.table.actions")})]})}),r.jsx("tbody",{children:t.map(c=>r.jsxs("tr",{children:[r.jsx("td",{"data-label":e("botsList.table.name"),children:c.name}),r.jsx("td",{"data-label":e("botsList.table.slug"),children:c.slug}),r.jsx("td",{"data-label":e("botsList.table.status"),children:c.status}),r.jsx("td",{"data-label":e("botsList.table.domain"),className:"bots-table-extra",children:c.domain||"-"}),r.jsx("td",{"data-label":e("botsList.table.channels"),className:"bots-table-extra",children:[c.channelWeb&&e("botsList.channels.web"),c.channelWhatsapp&&e("botsList.channels.whatsapp"),c.channelMessenger&&e("botsList.channels.messenger"),c.channelInstagram&&e("botsList.channels.instagram")].filter(Boolean).join(", ")||"-"}),r.jsxs("td",{className:"bots-actions-cell","data-label":e("botsList.table.actions"),children:[r.jsxs(ue,{to:`/app/bots/${c.id}`,className:"icon-button icon-button-ghost",children:[r.jsx("span",{className:"sr-only",children:e("botsList.actions.openBot")}),r.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",className:"icon-svg",children:r.jsx("path",{d:"M6.25 5.5h7.25a.5.5 0 0 1 .5.5v7.25h-1.5V8.56L7.1 14.46 6.04 13.4l5.4-5.4H6.25V5.5Z",fill:"currentColor"})})]}),r.jsxs("button",{type:"button",className:"icon-button icon-button-danger",onClick:()=>l(c),children:[r.jsx("span",{className:"sr-only",children:e("botsList.actions.deleteBot")}),r.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",className:"icon-svg",children:r.jsx("path",{d:"M7.5 4h5a.5.5 0 0 1 .5.5V5H17v1.5h-1.1l-.8 8.3A1.75 1.75 0 0 1 13.37 16H6.63A1.75 1.75 0 0 1 4.9 14.8L4.1 6.5H3V5h4v-.5a.5.5 0 0 1 .5-.5Zm-.9 4.25h1.5l-.2 5H6.4l.2-5Zm3.4 0h1.4l-.2 5h-1.4l.2-5Z",fill:"currentColor"})})]})]})]},c.id))})]})})]})},uz=()=>{const{t:e}=Le(),t=tn(),[n,a]=m.useState({name:"",slug:"",description:""}),[i,s]=m.useState(null),[o,l]=m.useState(!1),c=d=>p=>{const h=p.target.value;a(f=>({...f,[d]:h}))},u=async d=>{d.preventDefault(),s(null),l(!0);try{const p={name:n.name.trim(),slug:n.slug.trim(),description:n.description.trim()||void 0},h=await yk(p);t(`/app/bots/${h.id}/features`)}catch(p){console.error(p),s((p==null?void 0:p.message)||e("botCreate.errors.createFailed"))}finally{l(!1)}};return r.jsxs("div",{children:[r.jsx("div",{className:"page-header",children:r.jsx("h1",{children:e("botCreate.title")})}),r.jsxs("form",{className:"form",onSubmit:u,children:[i&&r.jsx("div",{className:"form-error",children:i}),r.jsx("p",{className:"muted",children:e("botCreate.subtitle")}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botCreate.fields.name")}),r.jsx("input",{type:"text",value:n.name,onChange:c("name"),required:!0})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botCreate.fields.slug")}),r.jsx("input",{type:"text",value:n.slug,onChange:c("slug"),required:!0}),r.jsx("small",{children:e("botCreate.fields.slugHelp")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botCreate.fields.description")}),r.jsx("textarea",{value:n.description,onChange:c("description"),rows:2})]}),r.jsx("button",{className:"btn-primary",type:"submit",disabled:o,children:e(o?"botCreate.actions.creating":"botCreate.actions.create")})]})]})},dz=()=>{var B,re;const{t:e}=Le(),{id:t}=Ft(),[n,a]=m.useState(null),[i,s]=m.useState(null),[o,l]=m.useState(!0),[c,u]=m.useState(!1),[d,p]=m.useState(null),[h,f]=m.useState(null),[g,v]=m.useState(null),[y,b]=m.useState(null),[x,w]=m.useState(null),[j,C]=m.useState(null);m.useEffect(()=>{t&&(l(!0),p(null),w(null),Promise.all([hn(t),ci(t)]).then(([ne,ve])=>(a(ne),s(ve||[]),v({description:ne.description||"",systemPrompt:ne.systemPrompt,autoEvaluateConversations:ne.autoEvaluateConversations??!1}),Promise.all([wk(ne.id),pv(ne.id)]))).then(([ne,ve])=>{b(ne),C(ve)}).catch(ne=>{console.error(ne),p((ne==null?void 0:ne.message)||e("botDetails.errors.loadBot")),w(e("botDetails.errors.loadPricing"))}).finally(()=>l(!1)))},[t,e]);const k=ne=>ve=>{if(!g)return;const He=ve.target.value;v({...g,[ne]:He})},E=async ne=>{if(ne.preventDefault(),!(!t||!g)){u(!0),p(null),f(null);try{const ve=await _n(t,{description:g.description,systemPrompt:g.systemPrompt,autoEvaluateConversations:g.autoEvaluateConversations});a(ve),f(e("botDetails.success.basicsUpdated"))}catch(ve){console.error(ve),p((ve==null?void 0:ve.message)||e("botDetails.errors.updateBot"))}finally{u(!1)}}};if(!t)return r.jsx("div",{className:"page-container",children:r.jsx("p",{children:e("botDetails.missingId")})});if(o)return r.jsx("div",{className:"page-container",children:r.jsx("p",{children:e("botDetails.loading")})});if(d&&!n)return r.jsxs("div",{className:"page-container",children:[r.jsx("h1",{children:e("botDetails.errorTitle")}),r.jsx("p",{children:d})]});if(!n||!g)return r.jsx("div",{className:"page-container",children:r.jsx("h1",{children:e("botDetails.notFoundTitle")})});const O=n.status==="ACTIVE",M=n.useDomainCrawler||n.usePdfCrawler,P=M&&!!n.knowledgeClientId,T=i||[],S={web:n.channelWeb,whatsapp:n.channelWhatsapp,messenger:n.channelMessenger,instagram:n.channelInstagram},N=!n.channelWeb||!!n.domain,A=!n.channelWhatsapp||T.some(ne=>{var ve;return ne.type==="WHATSAPP"&&!!((ve=ne.externalId)!=null&&ve.trim())}),L=!n.channelMessenger||T.some(ne=>{var ve;return ne.type==="FACEBOOK"&&!!((ve=ne.externalId)!=null&&ve.trim())}),_=!n.channelInstagram||T.some(ne=>{var ve;return ne.type==="INSTAGRAM"&&!!((ve=ne.externalId)!=null&&ve.trim())}),I=Object.values(S).filter(Boolean).length,D=N&&A&&L&&_,F=[];n.channelWeb&&!N&&F.push(e("botDetails.channels.missing.webDomain")),n.channelWhatsapp&&!A&&F.push(e("botDetails.channels.missing.whatsappExternalId")),n.channelMessenger&&!L&&F.push(e("botDetails.channels.missing.facebookPageId")),n.channelInstagram&&!_&&F.push(e("botDetails.channels.missing.instagramBusinessId"));const R=n.useCalendar,z=R&&!!n.calendarId&&!!n.timeZone&&!!n.defaultDurationMinutes,U=n.leadWhatsappMessages200||n.leadWhatsappMessages500||n.leadWhatsappMessages1000,K=T.find(ne=>ne.type==="WHATSAPP"),Z=T.find(ne=>ne.type==="FACEBOOK"),oe=(K==null?void 0:K.meta)||{},fe=(Z==null?void 0:Z.meta)||{},V=!!K&&!!((B=K.externalId)!=null&&B.trim())&&oe.needsReconnect!==!0,G=!!Z&&!!((re=Z.externalId)!=null&&re.trim())&&fe.needsReconnect!==!0,$=!!j&&!!j.templateName&&!!j.templateLanguage,ae=U,de=ae&&V&&G&&$,Q=[];V||Q.push(e("botDetails.health.leadAds.missingWhatsapp","WhatsApp channel not connected")),G||Q.push(e("botDetails.health.leadAds.missingFacebook","Facebook channel not connected")),$||Q.push(e("botDetails.health.leadAds.missingAutomation","Lead Ads automation not configured"));const ie=ne=>ne==="ok"?"status-badge status-badge-ok":ne==="warn"?"status-badge status-badge-warn":"status-badge status-badge-error",ye=ne=>{const ve=ne.toUpperCase();return ve==="ACTIVE"?"ok":ve==="DRAFT"?"warn":"error"},X=(ne=>{const ve=ne.toUpperCase();return ve==="ACTIVE"?"plan-summary-status plan-summary-status-ok":ve==="DRAFT"?"plan-summary-status plan-summary-status-warn":ve==="CANCELLED"||ve==="INACTIVE"?"plan-summary-status plan-summary-status-error":"plan-summary-status"})(n.status),he=[n.channelWeb?e("botDetails.channels.names.web"):null,n.channelWhatsapp?e("botDetails.channels.names.whatsapp"):null,n.channelMessenger?e("botDetails.channels.names.messenger"):null,n.channelInstagram?e("botDetails.channels.names.instagram"):null].filter(Boolean);return r.jsxs("div",{children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{className:"bot-header",children:[r.jsx("div",{className:"bot-avatar",children:n.name.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("h1",{className:"bot-title",children:n.name}),r.jsxs("p",{className:"muted",children:[e("botDetails.slugLabel")," ",r.jsx("code",{children:n.slug})]})]})]}),r.jsxs("div",{className:"page-header-actions",children:[r.jsx("span",{className:X,children:n.status}),r.jsx(ue,{to:`/demo/${n.slug}`,className:"btn-secondary",target:"_blank",children:e("botDetails.actions.openDemo")}),!O&&r.jsx(ue,{to:`/app/bots/${n.id}/plan`,className:"btn-primary",children:e("botDetails.actions.activatePay")}),O&&r.jsx(ue,{to:`/app/bots/${n.id}/plan`,className:"btn-primary",children:e("botDetails.actions.viewPlanBilling")})]})]}),r.jsxs("div",{className:"detail-layout",children:[r.jsxs("section",{className:"detail-main",children:[r.jsx("h2",{children:e("botDetails.basics.title")}),r.jsx("p",{className:"muted",style:{marginTop:"0.25rem"},children:e("botDetails.basics.subtitle")}),r.jsxs("form",{className:"form",onSubmit:E,children:[d&&r.jsx("div",{className:"form-error",children:d}),h&&r.jsx("div",{className:"form-success",children:h}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botDetails.basics.descriptionLabel")}),r.jsx("textarea",{value:g.description,onChange:k("description"),rows:2,placeholder:e("botDetails.basics.descriptionPlaceholder")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botDetails.basics.systemPromptLabel")}),r.jsx("textarea",{value:g.systemPrompt,onChange:k("systemPrompt"),rows:5,placeholder:e("botDetails.basics.systemPromptPlaceholder")}),r.jsx("span",{style:{fontSize:"0.8rem",marginTop:"0.1rem"},children:e("botDetails.basics.systemPromptHelp")})]}),r.jsx("button",{className:"btn-primary",type:"submit",disabled:c,children:e(c?"botDetails.actions.saving":"botDetails.actions.saveBasics")})]}),r.jsx("h2",{style:{marginTop:"2rem"},children:e("botDetails.health.title")}),r.jsxs("div",{className:"status-overview",children:[r.jsxs("div",{className:"status-row",children:[r.jsxs("div",{className:"status-row-header",children:[r.jsx("span",{className:"status-label",children:e("botDetails.health.botStatusTitle")}),r.jsx("span",{className:ie(ye(n.status)),children:n.status})]}),r.jsx("p",{className:"muted",children:n.status==="ACTIVE"?e("botDetails.health.botStatus.active"):n.status==="DRAFT"?e("botDetails.health.botStatus.draft"):e("botDetails.health.botStatus.inactive")})]}),r.jsxs("div",{className:"status-row",children:[r.jsxs("div",{className:"status-row-header",children:[r.jsx("span",{className:"status-label",children:e("botDetails.health.knowledgeTitle")}),M?P?r.jsx("span",{className:ie("ok"),children:e("botDetails.health.badges.configured")}):r.jsx("span",{className:ie("warn"),children:e("botDetails.health.badges.enabledNotInitialized")}):r.jsx("span",{className:ie("error"),children:e("botDetails.health.badges.disabled")})]}),r.jsx("p",{className:"muted",children:e(M?P?"botDetails.health.knowledge.configured":"botDetails.health.knowledge.enabledNotInitialized":"botDetails.health.knowledge.disabled")})]}),r.jsxs("div",{className:"status-row",children:[r.jsxs("div",{className:"status-row-header",children:[r.jsx("span",{className:"status-label",children:e("botDetails.health.channelsTitle")}),I===0?r.jsx("span",{className:ie("warn"),children:e("botDetails.health.badges.noChannelsEnabled")}):D?r.jsx("span",{className:ie("ok"),children:e("botDetails.health.badges.allChannelsConfigured")}):r.jsx("span",{className:ie("warn"),children:e("botDetails.health.badges.someChannelsNeedSetup")})]}),r.jsxs("p",{className:"muted",children:[I===0&&r.jsxs(r.Fragment,{children:[e("botDetails.health.channels.none")," ",r.jsx(ue,{to:`/app/bots/${n.id}/features`,children:e("botDetails.nav.featuresPlan")})," ",e("botDetails.health.channels.and")," ",r.jsx(ue,{to:`/app/bots/${n.id}/channels`,children:e("botDetails.nav.channels")}),"."]}),I>0&&D&&r.jsx(r.Fragment,{children:e("botDetails.health.channels.enabledList",{channels:he.join(", ")})}),I>0&&!D&&r.jsxs(r.Fragment,{children:[e("botDetails.health.channels.missingConfig",{missing:F.join(", ")})," ",r.jsx(ue,{to:`/app/bots/${n.id}/channels`,children:e("botDetails.nav.channels")}),"."]})]})]}),r.jsxs("div",{className:"status-row",children:[r.jsxs("div",{className:"status-row-header",children:[r.jsx("span",{className:"status-label",children:e("botDetails.health.leadAdsTitle","Lead Ads  WhatsApp")}),ae?de?r.jsx("span",{className:ie("ok"),children:e("botDetails.health.badges.configured")}):r.jsx("span",{className:ie("warn"),children:e("botDetails.health.badges.enabledNotConfigured")}):r.jsx("span",{className:ie("error"),children:e("botDetails.health.badges.disabled")})]}),r.jsx("p",{className:"muted",children:ae?de?e("botDetails.health.leadAds.configured","Lead Ads  WhatsApp is fully configured: Facebook page, WhatsApp number and automation rule are set."):r.jsxs(r.Fragment,{children:[e("botDetails.health.leadAds.enabledNotConfigured","Lead Ads  WhatsApp is enabled but some pieces still need configuration:")," ",Q.join(", "),"."," ",r.jsx(ue,{to:`/app/bots/${n.id}/whatsapp-templates`,children:e("botDetails.health.leadAds.goToSettings","Go to Ads settings")}),"."]}):e("botDetails.health.leadAds.disabled","Lead Ads  WhatsApp add-on is not enabled. Enable it from the Features & plan page to automatically message new leads.")})]}),r.jsxs("div",{className:"status-row",children:[r.jsxs("div",{className:"status-row-header",children:[r.jsx("span",{className:"status-label",children:e("botDetails.health.calendarTitle")}),R?z?r.jsx("span",{className:ie("ok"),children:e("botDetails.health.badges.configured")}):r.jsx("span",{className:ie("warn"),children:e("botDetails.health.badges.enabledNotConfigured")}):r.jsx("span",{className:ie("error"),children:e("botDetails.health.badges.disabled")})]}),r.jsx("p",{className:"muted",children:R?z?e("botDetails.health.calendar.configured",{calendarId:n.calendarId,timeZone:n.timeZone,duration:n.defaultDurationMinutes||30}):e("botDetails.health.calendar.enabledNotConfigured"):e("botDetails.health.calendar.disabled")})]})]})]}),r.jsxs("section",{className:"detail-side",children:[r.jsx("h2",{children:e("botDetails.workspace.title")}),r.jsx("p",{className:"muted",style:{marginTop:"0.25rem"},children:e("botDetails.workspace.subtitle")}),r.jsxs("ul",{className:"bot-nav-list",style:{marginTop:"1.25rem"},children:[r.jsx("li",{children:r.jsxs(ue,{to:`/app/bots/${n.id}/features`,className:"bot-nav-item",children:[r.jsxs("div",{className:"bot-nav-item-main",children:[r.jsx("span",{className:"bot-nav-item-title",children:e("botDetails.nav.featuresPlan")}),r.jsx("span",{className:"bot-nav-item-description",children:e("botDetails.nav.featuresPlanDesc")})]}),r.jsx("span",{className:"bot-nav-item-arrow",children:""})]})}),r.jsx("li",{children:r.jsxs(ue,{to:`/app/bots/${n.id}/knowledge`,className:"bot-nav-item",children:[r.jsxs("div",{className:"bot-nav-item-main",children:[r.jsx("span",{className:"bot-nav-item-title",children:e("botDetails.nav.knowledge")}),r.jsx("span",{className:"bot-nav-item-description",children:e("botDetails.nav.knowledgeDesc")})]}),r.jsx("span",{className:"bot-nav-item-arrow",children:""})]})}),r.jsx("li",{children:r.jsxs(ue,{to:`/app/bots/${n.id}/channels`,className:"bot-nav-item",children:[r.jsxs("div",{className:"bot-nav-item-main",children:[r.jsx("span",{className:"bot-nav-item-title",children:e("botDetails.nav.channels")}),r.jsx("span",{className:"bot-nav-item-description",children:e("botDetails.nav.channelsDesc")})]}),r.jsx("span",{className:"bot-nav-item-arrow",children:""})]})}),r.jsx("li",{children:r.jsxs(ue,{to:`/app/bots/${n.id}/conversations`,className:"bot-nav-item",children:[r.jsxs("div",{className:"bot-nav-item-main",children:[r.jsx("span",{className:"bot-nav-item-title",children:e("botDetails.nav.conversations")}),r.jsx("span",{className:"bot-nav-item-description",children:e("botDetails.nav.conversationsDesc")})]}),r.jsx("span",{className:"bot-nav-item-arrow",children:""})]})}),r.jsx("li",{children:r.jsxs(ue,{to:`/app/bots/${n.id}/settings`,className:"bot-nav-item",children:[r.jsxs("div",{className:"bot-nav-item-main",children:[r.jsx("span",{className:"bot-nav-item-title",children:e("botDetails.nav.settings")}),r.jsx("span",{className:"bot-nav-item-description",children:e("botDetails.nav.settingsDesc")})]}),r.jsx("span",{className:"bot-nav-item-arrow",children:""})]})}),r.jsx("li",{children:r.jsxs(ue,{to:`/app/bots/${n.id}/whatsapp-templates`,className:"bot-nav-item",children:[r.jsxs("div",{className:"bot-nav-item-main",children:[r.jsx("span",{className:"bot-nav-item-title",children:e("botDetails.nav.adsSettings")}),r.jsx("span",{className:"bot-nav-item-description",children:e("botDetails.nav.adsSettingsDesc")})]}),r.jsx("span",{className:"bot-nav-item-arrow",children:""})]})})]})]})]})]})};let ac=null;function zk(e){return typeof window>"u"?Promise.reject(new Error("FB SDK can only be loaded in the browser")):window.FB?Promise.resolve(window.FB):ac||(ac=new Promise((t,n)=>{window.fbAsyncInit=function(){var o;(o=window.FB)==null||o.init({appId:e,xfbml:!1,version:"v22.0"}),t(window.FB)};const a="facebook-jssdk";if(document.getElementById(a))return;const i=document.createElement("script");i.id=a,i.src="https://connect.facebook.net/en_US/sdk.js",i.onerror=o=>{console.error("Failed to load Facebook SDK",o),n(o)};const s=document.getElementsByTagName("script")[0];s&&s.parentNode?s.parentNode.insertBefore(i,s):document.head.appendChild(i)}),ac)}function Hs(e){return e==="FACEBOOK"||e==="INSTAGRAM"}const Kx=7*24*60*60*1e3,pz=()=>{var Fe;const{t:e}=Le(),{id:t}=Ft(),n=Ht(),a=tn(),[i,s]=m.useState([]),[o,l]=m.useState(!0),[c,u]=m.useState(null),[d,p]=m.useState(!1),[h,f]=m.useState({type:"WEB",externalId:"",accessToken:"",meta:""}),[g,v]=m.useState(null),[y,b]=m.useState({externalId:"",accessToken:"",meta:""}),[x,w]=m.useState(null),[j,C]=m.useState(!1),[k,E]=m.useState(null),[O,M]=m.useState(""),[P,T]=m.useState(!1),[S,N]=m.useState(null),[A,L]=m.useState(""),[_,I]=m.useState(!1),[D,F]=m.useState(!1),[R,z]=m.useState(null),[U,K]=m.useState(!1),[Z,oe]=m.useState(!1),[fe,V]=m.useState(!1),G=()=>{V(!1),w(null),M(""),B()},$=Y=>{z(Y),K(!1),oe(!1)},ae=()=>{z(null),K(!1),oe(!1)},de=async()=>{if(!(!t||!R)){oe(!0),u(null);try{const Y=`/app/bots/${encodeURIComponent(t)}/channels`,{url:Ce}=await kk(t,R,Y);window.location.href=Ce}catch(Y){console.error(Y);const Ce=R==="FACEBOOK"?"botChannels.errors.facebookConnectFailed":"botChannels.errors.instagramConnectFailed";u((Y==null?void 0:Y.message)||e(Ce)),oe(!1)}}},Q=()=>{t&&(l(!0),u(null),ci(t).then(Y=>s(Y)).catch(Y=>{console.error(Y),u((Y==null?void 0:Y.message)||e("botChannels.errors.loadFailed"))}).finally(()=>l(!1)))},ie=()=>{const Ce=new URLSearchParams(n.search).get("metaSessionId");if(!Ce){w(null),E(null),M(""),V(!1);return}C(!0),E(null),Pk(Ce).then(Ne=>{w(Ne),console.log("Meta session for",Ne.channelType,Ne),M(""),V(!0)}).catch(Ne=>{console.error(Ne),E((Ne==null?void 0:Ne.message)||e("botChannels.errors.metaSessionLoad")),w(null),V(!1)}).finally(()=>C(!1))};if(m.useEffect(()=>{Q()},[t]),m.useEffect(()=>{ie()},[n.search]),!t)return r.jsx("div",{className:"page-container",children:r.jsx("p",{children:e("botChannels.missingId")})});const ye=Y=>Ce=>{b({...y,[Y]:Ce.target.value})},Se=Y=>{if(Hs(Y.type)){u(e("botChannels.errors.metaManagedExternally"));return}v(Y.id),b({externalId:Y.externalId,accessToken:Y.accessToken,meta:Y.meta?JSON.stringify(Y.meta,null,2):""})},X=async Y=>{if(Y.preventDefault(),!(!t||!g)){u(null);try{let Ce;y.meta.trim()&&(Ce=JSON.parse(y.meta)),await BF(t,g,{externalId:y.externalId,accessToken:y.accessToken,meta:Ce}),v(null),Q()}catch(Ce){console.error(Ce),u((Ce==null?void 0:Ce.message)||e("botChannels.errors.updateFailed"))}}},he=async Y=>{if(t&&window.confirm(e("botChannels.confirm.deleteChannel"))){u(null);try{await Nk(t,Y),Q()}catch(Ce){console.error(Ce),u((Ce==null?void 0:Ce.message)||e("botChannels.errors.deleteFailed"))}}};Hs(h.type);const B=()=>{const Y=new URLSearchParams(n.search);Y.has("metaSessionId")&&(Y.delete("metaSessionId"),a({pathname:n.pathname,search:Y.toString()},{replace:!0}))},re=async()=>{if(!(!x||!O)){T(!0),u(null);try{await Ak(x.id,O),w(null),M(""),B(),V(!1),Q()}catch(Y){console.error(Y),u((Y==null?void 0:Y.message)||e("botChannels.errors.metaAttachFailed"))}finally{T(!1)}}},ne=async()=>{if(!t)return;u(null),I(!0);const Y="1465664871200825",Ce="927419609614257";try{const Ne=window.localStorage.getItem("wa_last_connect_ts");if(Ne){const Ge=parseInt(Ne,10);if(Date.now()-Ge<Kx&&!window.confirm(e("botChannels.whatsapp.confirmReconnectWithinWeek"))){I(!1);return}}(await zk(Y)).login(Ge=>{(async()=>{if(!Ge||!Ge.authResponse||!Ge.authResponse.code){u(e("botChannels.errors.whatsappCancelled")),I(!1);return}const ke=Ge.authResponse.code;try{const Kt=await Ek(t,{code:ke});N(Kt),L("")}catch(Kt){console.error(Kt),u((Kt==null?void 0:Kt.message)||e("botChannels.errors.whatsappSignupFailed"))}finally{I(!1)}})()},{config_id:Ce,response_type:"code",override_default_response_type:!0}),window.localStorage.setItem("wa_last_connect_ts",Date.now().toString())}catch(Ne){console.error(Ne),u((Ne==null?void 0:Ne.message)||e("botChannels.errors.whatsappInitFailed")),I(!1)}},ve=async()=>{if(!(!S||!A)){F(!0),u(null);try{await Tk(S.sessionId,A),N(null),L(""),Q()}catch(Y){console.error(Y),u((Y==null?void 0:Y.message)||e("botChannels.errors.whatsappAttachFailed"))}finally{F(!1)}}},He=Y=>{var Ce,Ne,Ee,Ge;if(Hs(Y.type)){const ke=Y.meta||{},Kt=ke.pageName,Ls=ke.igUsername,MI=ke.igName,ay=Y.type==="FACEBOOK"?e("botChannels.labels.facebookPage"):e("botChannels.labels.instagramBusiness"),ry=Y.type==="FACEBOOK"?Kt:Ls||MI||Kt;return ry?r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:ay}),r.jsx("div",{className:"muted",children:ry})]}):r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:ay}),r.jsx("div",{className:"muted",children:e("botChannels.meta.connectedViaMeta")})]})}if(Y.type==="WHATSAPP"){const ke=((Ce=Y.meta)==null?void 0:Ce.displayPhoneNumber)||((Ne=Y.meta)==null?void 0:Ne.display_phone_number),Kt=((Ee=Y.meta)==null?void 0:Ee.verifiedName)||((Ge=Y.meta)==null?void 0:Ge.verified_name);return r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:e("botChannels.labels.whatsapp")}),r.jsxs("div",{className:"muted",children:[ke?e("botChannels.whatsapp.number",{number:ke}):e("botChannels.whatsapp.numberId",{id:Y.externalId}),Kt?`  ${Kt}`:""]})]})}return Y.type==="WEB"?r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:e("botChannels.labels.webWidget")}),r.jsx("div",{className:"muted",children:e("botChannels.web.externalId",{id:Y.externalId||e("botChannels.web.defaultWidget")})})]}):r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:Y.type}),r.jsx("div",{className:"muted",children:e("botChannels.generic.externalId",{id:Y.externalId})})]})},W=Y=>{if(!Y)return{label:e("botChannels.status.notConnected"),className:"status-badge status-badge-warn",isConnected:!1};const Ce=Y.meta||{};if(!Hs(Y.type))return Ce.needsReconnect===!0?{label:e("botChannels.status.needsReconnect"),className:"status-badge status-badge-error",isConnected:!1}:{label:e("botChannels.status.active"),className:"status-badge status-badge-ok",isConnected:!0};const Ne=Date.now(),Ee=Ce.needsReconnect===!0,Ge=Ce.tokenExpiresAt;let ke=null;if(Ge){const Ls=new Date(Ge);isNaN(Ls.getTime())||(ke=Ls)}if(Ee)return{label:e("botChannels.status.needsReconnect"),className:"status-badge status-badge-error",isConnected:!1};if(!ke)return{label:e("botChannels.status.connectedUnknownExpiry"),className:"status-badge status-badge-ok",isConnected:!0};const Kt=ke.getTime()-Ne;return Kt<=0?{label:e("botChannels.status.expired"),className:"status-badge status-badge-error",isConnected:!1}:Kt<=Kx?{label:e("botChannels.status.expiringSoon"),className:"status-badge status-badge-warn",isConnected:!1}:{label:e("botChannels.status.connected"),className:"status-badge status-badge-ok",isConnected:!0}},le=Y=>{const{label:Ce,className:Ne}=W(Y);return r.jsx("span",{className:Ne,children:Ce})},Te=i.find(Y=>Y.type==="FACEBOOK")||null,je=i.find(Y=>Y.type==="INSTAGRAM")||null;console.log(je);const H=i.find(Y=>Y.type==="WHATSAPP")||null,J=W(Te),ce=W(je),Ie=W(H),ee={type:e("botChannels.table.type"),details:e("botChannels.table.details"),status:e("botChannels.table.status"),actions:e("botChannels.table.actions","Actions")};return r.jsxs("div",{children:[r.jsxs("div",{className:"page-header",children:[R&&r.jsx("div",{className:"meta-permissions-modal-backdrop",children:r.jsxs("div",{className:"meta-permissions-modal",children:[r.jsxs("div",{className:"meta-permissions-modal-header",children:[r.jsx("h2",{children:e(R==="FACEBOOK"?"botChannels.meta.permissionsDialog.titleFacebook":"botChannels.meta.permissionsDialog.titleInstagram")}),r.jsx("button",{type:"button",className:"btn-ghost small",onClick:ae,children:e("botChannels.actions.cancel")})]}),r.jsxs("div",{className:"meta-permissions-modal-body",children:[r.jsx("p",{className:"muted",children:e(R==="FACEBOOK"?"botChannels.meta.permissionsDialog.introFacebook":"botChannels.meta.permissionsDialog.introInstagram")}),r.jsx("p",{className:"meta-permissions-list-title",children:e("botChannels.meta.permissionsDialog.listTitle")}),R==="FACEBOOK"?r.jsxs("ul",{className:"meta-permissions-list",children:[r.jsx("li",{children:e("botChannels.meta.permissionsDialog.facebook.pagesShowList")}),r.jsx("li",{children:e("botChannels.meta.permissionsDialog.facebook.pagesMessaging")}),r.jsx("li",{children:e("botChannels.meta.permissionsDialog.facebook.pagesManageMetadata")}),r.jsx("li",{children:e("botChannels.meta.permissionsDialog.facebook.businessManagement")})]}):r.jsxs("ul",{className:"meta-permissions-list",children:[r.jsx("li",{children:e("botChannels.meta.permissionsDialog.instagram.pagesShowList")}),r.jsx("li",{children:e("botChannels.meta.permissionsDialog.instagram.instagramBasic")}),r.jsx("li",{children:e("botChannels.meta.permissionsDialog.instagram.instagramManageMessages")}),r.jsx("li",{children:e("botChannels.meta.permissionsDialog.instagram.pagesManageMetadata")}),r.jsx("li",{children:e("botChannels.meta.permissionsDialog.instagram.businessManagement")})]}),r.jsxs("label",{className:"checkbox-inline",style:{marginTop:"0.75rem"},children:[r.jsx("input",{type:"checkbox",checked:U,onChange:Y=>K(Y.target.checked)}),r.jsx("span",{children:e("botChannels.meta.permissionsDialog.checkboxLabel")})]}),r.jsx("p",{className:"muted small",style:{marginTop:"0.5rem"},children:e("botChannels.meta.permissionsDialog.footerNote")})]}),r.jsxs("div",{className:"meta-permissions-modal-footer",children:[r.jsx("button",{type:"button",className:"btn-secondary",onClick:ae,children:e("botChannels.actions.cancel")}),r.jsx("button",{type:"button",className:"btn-primary",disabled:!U||Z,onClick:de,children:e(R==="FACEBOOK"?"botChannels.meta.permissionsDialog.continueFacebook":"botChannels.meta.permissionsDialog.continueInstagram")})]})]})}),x&&fe&&r.jsx("div",{className:"meta-page-select-modal-backdrop",children:r.jsxs("div",{className:"meta-page-select-modal",children:[r.jsxs("div",{className:"meta-page-select-modal-header",children:[r.jsx("h2",{children:x.channelType==="FACEBOOK"?e("botChannels.meta.selectModal.titleFacebook"):e("botChannels.meta.selectModal.titleInstagram")}),r.jsx("button",{type:"button",className:"btn-ghost small",onClick:G,children:e("botChannels.actions.cancel")})]}),r.jsxs("div",{className:"meta-page-select-modal-body",children:[r.jsx("p",{className:"muted",children:x.channelType==="FACEBOOK"?e("botChannels.meta.selectModal.introFacebook"):e("botChannels.meta.selectModal.introInstagram")}),j&&r.jsx("p",{className:"muted",children:e("botChannels.meta.loadingPages")}),k&&r.jsxs("div",{className:"form-error",children:[e("botChannels.meta.sessionLoadFailed"),":"," ",k]}),!j&&!k&&(()=>{const Y=x.pages.filter(ke=>x.channelType==="INSTAGRAM"?!!ke.instagramBusinessId:!0),Ce=Y.filter(ke=>!ke.isBusinessManaged),Ne=Y.filter(ke=>ke.isBusinessManaged),Ee=x.pages&&x.pages.length>0,Ge=x.channelType==="INSTAGRAM"&&Ee&&Y.length===0;return Y.length===0?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"muted",children:e("botChannels.meta.selectModal.noPages")}),Ge&&r.jsx("p",{className:"muted small",style:{marginTop:"0.5rem"},children:e("botChannels.meta.selectModal.editPreviousSettingsHint")})]}):r.jsxs(r.Fragment,{children:[Ce.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"meta-page-select-group-title",children:e("botChannels.meta.selectModal.personalGroupTitle")}),r.jsx("div",{className:"meta-page-select-list",children:Ce.map(ke=>r.jsxs("label",{className:"meta-page-select-item"+(O===ke.id?" selected":""),children:[r.jsx("input",{type:"radio",name:"meta-page-select",value:ke.id,checked:O===ke.id,onChange:()=>M(ke.id)}),r.jsx("span",{className:"meta-page-select-name",children:ke.name})]},ke.id))})]}),Ne.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"meta-page-select-group-title",children:e("botChannels.meta.selectModal.businessGroupTitle")}),r.jsx("div",{className:"meta-page-select-list",children:Ne.map(ke=>r.jsxs("label",{className:"meta-page-select-item"+(O===ke.id?" selected":""),children:[r.jsx("input",{type:"radio",name:"meta-page-select",value:ke.id,checked:O===ke.id,onChange:()=>M(ke.id)}),r.jsxs("span",{className:"meta-page-select-name",children:[ke.name,ke.businessName?` (${ke.businessName})`:""]})]},ke.id))})]})]})})()]}),r.jsxs("div",{className:"meta-page-select-modal-footer",children:[r.jsx("button",{type:"button",className:"btn-secondary",onClick:G,children:e("botChannels.actions.cancel")}),r.jsx("button",{type:"button",className:"btn-primary",disabled:!O||P,onClick:re,children:e(P?"botChannels.actions.connecting":"botChannels.actions.connectSelected")})]})]})}),r.jsxs("div",{children:[r.jsx("h1",{children:e("botChannels.title")}),r.jsx("p",{className:"muted",children:e("botChannels.subtitle")})]}),r.jsx(ue,{to:`/app/bots/${t}`,className:"btn-secondary",children:e("botChannels.backToBot")})]}),c&&r.jsx("div",{className:"form-error",children:c}),o&&r.jsx("p",{children:e("botChannels.loading")}),S&&r.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[r.jsx("h2",{children:e("botChannels.whatsapp.selectNumberTitle")}),r.jsx("p",{className:"muted",children:e("botChannels.whatsapp.selectNumberSubtitle")}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botChannels.whatsapp.numberLabel")}),r.jsxs("select",{value:A,onChange:Y=>L(Y.target.value),children:[r.jsx("option",{value:"",children:e("botChannels.whatsapp.selectPlaceholder")}),S.numbers.map(Y=>r.jsxs("option",{value:Y.id,children:[Y.displayPhoneNumber||Y.id,Y.verifiedName?`  ${Y.verifiedName}`:""]},Y.id))]})]}),r.jsxs("div",{className:"form-actions-inline",children:[r.jsx("button",{className:"btn-primary",type:"button",disabled:!A||D,onClick:ve,children:e(D?"botChannels.actions.connecting":"botChannels.actions.connectSelected")}),r.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>{N(null),L("")},children:e("botChannels.actions.cancel")})]})]}),!o&&r.jsxs("section",{className:"detail-main",style:{marginBottom:"1.5rem"},children:[r.jsx("h2",{children:e("botChannels.connectSocial.title")}),r.jsx("p",{className:"muted",children:e("botChannels.connectSocial.subtitle")}),r.jsxs("div",{className:"channel-cards",children:[r.jsxs("article",{className:"channel-card",children:[r.jsxs("div",{className:"channel-card-header",children:[r.jsxs("div",{className:"channel-card-main",children:[r.jsx("div",{className:"channel-card-icon channel-card-icon-facebook",children:"f"}),r.jsxs("div",{children:[r.jsx("h3",{className:"channel-card-title",children:e("botChannels.labels.facebookPage")}),r.jsx("p",{className:"channel-card-description",children:e("botChannels.connectSocial.facebookDesc")})]})]}),le(Te)]}),Te&&r.jsxs("p",{className:"channel-card-meta",children:[e("botChannels.connectSocial.connectedPage"),":"," ",r.jsx("strong",{children:((Fe=Te.meta)==null?void 0:Fe.pageName)||e("botChannels.meta.connectedViaMeta")})]}),!J.isConnected&&r.jsx("button",{type:"button",className:"btn-primary channel-card-button",onClick:()=>$("FACEBOOK"),children:e(Te?"botChannels.actions.reconnectFacebook":"botChannels.actions.connectFacebook")}),Te&&r.jsx("button",{type:"button",className:"btn-secondary channel-card-button",onClick:()=>he(Te.id),children:e("botChannels.actions.disconnect")})]}),r.jsxs("article",{className:"channel-card",children:[r.jsxs("div",{className:"channel-card-header",children:[r.jsxs("div",{className:"channel-card-main",children:[r.jsx("div",{className:"channel-card-icon channel-card-icon-instagram",children:"ig"}),r.jsxs("div",{children:[r.jsx("h3",{className:"channel-card-title",children:e("botChannels.labels.instagramBusiness")}),r.jsx("p",{className:"channel-card-description",children:e("botChannels.connectSocial.instagramDesc")})]})]}),le(je)]}),je&&r.jsxs("p",{className:"channel-card-meta",children:[e("botChannels.connectSocial.connectedAccount"),":"," ",r.jsx("strong",{children:(()=>{const Y=je.meta||{};return Y.igUsername||Y.igName||Y.pageName||e("botChannels.meta.connectedViaMeta")})()})]}),!ce.isConnected&&r.jsx("button",{type:"button",className:"btn-primary channel-card-button",onClick:()=>$("INSTAGRAM"),children:e(je?"botChannels.actions.reconnectInstagram":"botChannels.actions.connectInstagram")}),je&&r.jsx("button",{type:"button",className:"btn-secondary channel-card-button",onClick:()=>he(je.id),children:e("botChannels.actions.disconnect")})]}),r.jsxs("article",{className:"channel-card",children:[r.jsxs("div",{className:"channel-card-header",children:[r.jsxs("div",{className:"channel-card-main",children:[r.jsx("div",{className:"channel-card-icon channel-card-icon-whatsapp",children:"wa"}),r.jsxs("div",{children:[r.jsx("h3",{className:"channel-card-title",children:e("botChannels.labels.whatsappBusiness")}),r.jsx("p",{className:"channel-card-description",children:e("botChannels.connectSocial.whatsappDesc")})]})]}),le(H)]}),H&&r.jsxs("p",{className:"channel-card-meta",children:[e("botChannels.connectSocial.connectedNumber"),":"," ",r.jsx("strong",{children:(()=>{const Y=H.meta||{};return Y.displayPhoneNumber||Y.display_phone_number||H.externalId})()})]}),!Ie.isConnected&&r.jsx("button",{type:"button",className:"btn-primary channel-card-button",onClick:ne,disabled:_,children:e(_?"botChannels.actions.connectingWhatsapp":H?"botChannels.actions.reconnectWhatsapp":"botChannels.actions.connectWhatsapp")}),H&&r.jsx("button",{type:"button",className:"btn-secondary channel-card-button",onClick:()=>he(H.id),children:e("botChannels.actions.disconnect")})]})]})]}),!o&&r.jsxs("section",{className:"detail-main",children:[r.jsx("h2",{children:e("botChannels.connected.title")}),r.jsx("p",{className:"muted",children:e("botChannels.connected.subtitle")}),i.length===0?r.jsx("p",{className:"muted",children:e("botChannels.connected.empty")}):r.jsx("div",{className:"card",style:{marginTop:"0.75rem"},children:r.jsx("div",{className:"table-responsive connected-channels-table-wrapper",children:r.jsxs("table",{className:"table connected-channels-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:ee.type}),r.jsx("th",{children:ee.details}),r.jsx("th",{children:ee.status}),r.jsx("th",{className:"connected-channels-actions-header",children:ee.actions})]})}),r.jsx("tbody",{children:i.map(Y=>r.jsxs("tr",{children:[r.jsx("td",{"data-label":ee.type,children:Y.type}),r.jsx("td",{"data-label":ee.details,children:He(Y)}),r.jsx("td",{"data-label":ee.status,children:le(Y)}),r.jsxs("td",{className:"connected-channels-actions-cell","data-label":ee.actions,children:[g===Y.id?r.jsx(r.Fragment,{children:r.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>v(null),style:{marginRight:"0.5rem"},children:e("botChannels.actions.cancel")})}):!Hs(Y.type)&&r.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>Se(Y),style:{marginRight:"0.5rem"},children:e("botChannels.actions.edit")}),r.jsx("button",{className:"btn-danger",type:"button",onClick:()=>he(Y.id),children:e("botChannels.actions.disconnect")})]})]},Y.id))})]})})}),g&&r.jsxs("div",{className:"card",style:{marginTop:"1rem"},children:[r.jsx("h3",{style:{marginTop:0},children:e("botChannels.edit.title")}),r.jsxs("form",{className:"form",onSubmit:X,children:[r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botChannels.fields.externalId")}),r.jsx("input",{type:"text",value:y.externalId,onChange:ye("externalId")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botChannels.fields.accessToken")}),r.jsx("input",{type:"text",value:y.accessToken,onChange:ye("accessToken")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botChannels.fields.metaJson")}),r.jsx("textarea",{value:y.meta,onChange:ye("meta"),rows:6,placeholder:e("botChannels.placeholders.metaJson")})]}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[r.jsx("button",{className:"btn-primary",type:"submit",children:e("botChannels.actions.save")}),r.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>v(null),children:e("botChannels.actions.cancel")})]})]})]})]})]})},mz=()=>{const{t:e}=Le(),{id:t}=Ft(),[n,a]=m.useState([]),[i,s]=m.useState(!0),[o,l]=m.useState(null),[c,u]=m.useState(null),[d,p]=m.useState(1),[h,f]=m.useState(0),[g,v]=m.useState(0),[y,b]=m.useState(new Set),[x,w]=m.useState(!1);m.useEffect(()=>{t&&(s(!0),l(null),$F(t,d).then(L=>{a(L.items),f(L.totalPages),v(L.totalItems),b(new Set)}).catch(L=>{console.error(L),l((L==null?void 0:L.message)||e("botConversations.errors.loadFailed"))}).finally(()=>s(!1)))},[t,d,e]);const j=async L=>{try{u(L),l(null);const _=await qF(L);a(I=>I.map(D=>D.id===L?{...D,latestEval:{score:_.score,label:_.label??null,isAuto:_.isAuto,createdAt:_.createdAt}}:D))}catch(_){console.error(_),l((_==null?void 0:_.message)||e("botConversations.errors.evalFailed"))}finally{u(null)}},C=L=>{b(_=>{const I=new Set(_);return I.has(L)?I.delete(L):I.add(L),I})},k=L=>{if(!L.target.checked){b(new Set);return}b(new Set(n.map(I=>I.id)))},E=y.size,O=n.length>0&&E===n.length,M=async()=>{if(y.size===0)return;w(!0),l(null);const L=Array.from(y);try{const _=await KF(L);a(D=>D.map(F=>{const R=_.find(U=>U.conversationId===F.id&&U.ok&&U.result);if(!R||!R.result)return F;const z=R.result;return{...F,latestEval:{score:z.score,label:z.label??null,isAuto:z.isAuto,createdAt:z.createdAt}}})),_.filter(D=>!D.ok).length>0&&l(e("botConversations.errors.someFailed"))}catch(_){console.error(_),l((_==null?void 0:_.message)||e("botConversations.errors.bulkEvalFailed"))}finally{w(!1)}},P=()=>{p(L=>Math.max(1,L-1))},T=()=>{h!==0&&p(L=>Math.min(h,L+1))};if(!t)return r.jsx("div",{className:"page-container",children:r.jsx("p",{children:e("botConversations.missingId")})});const S=g>0,N=x?e("botConversations.actions.evaluatingSelected"):E>0?e("botConversations.actions.evaluateSelectedCount",{count:E}):e("botConversations.actions.evaluateSelected"),A={select:e("botConversations.table.selectAll"),channel:e("botConversations.table.channel"),externalUser:e("botConversations.table.externalUser"),lastMessage:e("botConversations.table.lastMessage"),score:e("botConversations.table.score"),actions:e("botConversations.table.actions","Actions")};return r.jsxs("div",{children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:e("botConversations.title")}),r.jsx("p",{className:"muted",children:e("botConversations.subtitle")})]}),r.jsxs("div",{className:"page-header-actions",children:[r.jsx("button",{className:"btn-secondary",onClick:M,disabled:E===0||x,style:{marginRight:"0.75rem"},children:N}),r.jsx(ue,{to:`/app/bots/${t}`,className:"btn-secondary",children:e("botConversations.backToBot")})]})]}),i&&r.jsx("p",{children:e("botConversations.loading")}),o&&r.jsx("div",{className:"form-error",children:o}),!i&&!o&&!S&&r.jsx("p",{children:e("botConversations.empty")}),!i&&!o&&S&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"conversations-pagination",children:[r.jsxs("span",{className:"muted",children:[e("botConversations.pagination.total",{total:g}),h>1&&`  ${e("botConversations.pagination.pageOf",{page:d,totalPages:h})}`]}),r.jsxs("div",{className:"conversations-pagination-actions",children:[r.jsx("button",{className:"btn-secondary",onClick:P,disabled:d<=1||i,style:{marginRight:"0.5rem"},children:e("botConversations.pagination.prev")}),r.jsx("button",{className:"btn-secondary",onClick:T,disabled:d>=h||i,children:e("botConversations.pagination.next")})]})]}),r.jsxs("label",{className:"conversations-select-all",children:[r.jsx("input",{type:"checkbox",checked:O,onChange:k,"aria-label":A.select}),r.jsx("span",{children:A.select})]}),r.jsx("div",{className:"table-responsive conversations-table-wrapper",children:r.jsxs("table",{className:"table conversations-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:r.jsx("input",{type:"checkbox",checked:O,onChange:k,"aria-label":A.select})}),r.jsx("th",{children:A.channel}),r.jsx("th",{children:A.externalUser}),r.jsx("th",{children:A.lastMessage}),r.jsx("th",{children:A.score}),r.jsx("th",{className:"conversations-actions-header",children:A.actions})]})}),r.jsx("tbody",{children:n.map(L=>{const _=y.has(L.id),I=c===L.id||x,D=I?e("botConversations.actions.evaluating"):L.latestEval?e("botConversations.actions.reevaluate"):e("botConversations.actions.evaluate");return r.jsxs("tr",{children:[r.jsx("td",{className:"conversations-select-cell","data-label":A.select,children:r.jsx("input",{type:"checkbox",checked:_,onChange:()=>C(L.id),"aria-label":e("botConversations.table.selectRow")})}),r.jsx("td",{"data-label":A.channel,children:L.channel}),r.jsx("td",{className:"conversations-external-user","data-label":A.externalUser,children:hz(L.externalUserId)}),r.jsx("td",{"data-label":A.lastMessage,children:new Date(L.lastMessageAt).toLocaleString()}),r.jsx("td",{"data-label":A.score,children:L.latestEval?r.jsx(fz,{score:L.latestEval.score,label:L.latestEval.label??void 0}):r.jsx("span",{className:"muted",children:e("botConversations.notEvaluated")})}),r.jsxs("td",{className:"conversations-actions-cell","data-label":A.actions,children:[r.jsx("button",{className:"btn-secondary",disabled:I,onClick:()=>j(L.id),style:{marginRight:"0.5rem"},children:D}),r.jsx(ue,{to:`/app/conversations/${L.id}`,className:"btn-link",children:e("botConversations.actions.view")})]})]},L.id)})})]})})]})]})};function hz(e){return e.length<=4?"****":`${"*".repeat(Math.max(0,e.length-4))}${e.slice(-4)}`}const fz=({score:e,label:t})=>{const[n,a]=m.useState(!1),s=Math.max(0,Math.min(10,e))/2,o=Math.floor(s),l=s-o>=.5,c=5-o-(l?1:0),u=()=>a(!0),d=()=>a(!1),p=h=>{h.stopPropagation(),a(f=>!f)};return r.jsxs("div",{className:"score-stars-wrapper",style:{position:"relative",display:"inline-block"},onMouseEnter:u,onMouseLeave:d,onClick:p,children:[r.jsxs("span",{className:"score-stars","aria-label":`${e}/10`,style:{cursor:t?"pointer":"default"},children:[Array.from({length:o}).map((h,f)=>r.jsx("span",{style:{color:"#f5a623"},children:""},`full-${f}`)),l&&r.jsx("span",{style:{color:"#f5a623"},children:""},"half"),Array.from({length:c}).map((h,f)=>r.jsx("span",{style:{color:"#ddd"},children:""},`empty-${f}`))]}),t&&n&&r.jsx("div",{className:"score-tooltip",style:{position:"absolute",top:"120%",left:"50%",transform:"translateX(-50%)",background:"#111",color:"#fff",padding:"0.35rem 0.55rem",borderRadius:4,fontSize:"0.8rem",maxWidth:260,whiteSpace:"normal",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",zIndex:10},children:t})]})},gz=()=>{const{t:e}=Le(),{id:t}=Ft(),[n,a]=m.useState([]),[i,s]=m.useState(!0),[o,l]=m.useState(null),[c,u]=m.useState(null),[d,p]=m.useState(""),[h,f]=m.useState(!1),[g,v]=m.useState(null),[y,b]=m.useState(null),[x,w]=m.useState(""),[j,C]=m.useState(!1),[k,E]=m.useState(null),[O,M]=m.useState(null),[P,T]=m.useState(!1),[S,N]=m.useState(null),A=!!(c&&(c.channel==="WHATSAPP"||c.channel==="FACEBOOK"||c.channel==="INSTAGRAM"));let L=!1;if(c&&A){const F=c.lastUserMessageAt?new Date(c.lastUserMessageAt):null;F?L=(Date.now()-F.getTime())/(1e3*60*60)>24:L=!0}if(m.useEffect(()=>{t&&(s(!0),l(null),Promise.all([$x(t),WF(t)]).then(([F,R])=>{a(F),u(R)}).catch(F=>{console.error(F),l((F==null?void 0:F.message)||e("conversationDetail.errors.loadFailed"))}).finally(()=>s(!1)))},[t,e]),!t)return r.jsx("div",{className:"page-container",children:r.jsx("p",{children:e("conversationDetail.missingId")})});const _=async F=>{if(!(!t||!c)){T(!0),N(null);try{const R=await UF(t,F);u({...c,mode:R.mode})}catch(R){console.error(R),N((R==null?void 0:R.message)||e("conversationDetail.mode.error")||"Failed to update conversation mode.")}finally{T(!1)}}},I=async()=>{if(!t)return;const F=x.trim();if(!F){E(e("conversationDetail.testSend.empty")),M(null);return}if(L){E(e("conversationDetail.manualSend.windowExpired")||"You can no longer send a manual reply: the last user message is older than 24 hours."),M(null);return}try{C(!0),E(null),M(null),await HF(t,F),M(e("conversationDetail.manualSend.success")||"Message sent as HUMAN."),w(""),$x(t).then(R=>a(R)).catch(R=>{console.error("Failed to refresh messages after manual send",R)})}catch(R){console.error(R),E((R==null?void 0:R.message)||e("conversationDetail.testSend.error")||"Failed to send manual message.")}finally{C(!1)}},D=F=>F==="USER"?e("conversationDetail.roles.user"):F==="ASSISTANT"?e("conversationDetail.roles.assistant"):F==="HUMAN"?e("conversationDetail.roles.human")||"Human":e("conversationDetail.roles.system");return r.jsxs("div",{children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:e("conversationDetail.title")}),r.jsx(ue,{to:"/app/bots",className:"btn-secondary",children:e("conversationDetail.backToBots")})]}),c&&r.jsxs("div",{className:"card",style:{marginBottom:"1rem"},children:[r.jsx("h2",{style:{marginTop:0},children:e("conversationDetail.mode.title")||"Conversation mode"}),r.jsx("p",{className:"muted",style:{marginBottom:"0.5rem"},children:c.mode==="HUMAN"?e("conversationDetail.mode.humanDescription")||"Human handoff is active. The bot will not reply automatically to user messages.":e("conversationDetail.mode.aiDescription")||"The AI assistant replies automatically to new user messages."}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[r.jsx("span",{style:{fontWeight:600},children:c.mode==="HUMAN"?e("conversationDetail.mode.humanLabel")||"HUMAN":e("conversationDetail.mode.aiLabel")||"AI"}),r.jsx("button",{type:"button",className:"btn-secondary",disabled:P||c.mode==="HUMAN",onClick:()=>_("HUMAN"),children:P&&c.mode==="AI"?e("conversationDetail.mode.switchingToHuman")||"Switching":e("conversationDetail.mode.toHumanButton")||"Switch to HUMAN (pause AI)"}),r.jsx("button",{type:"button",className:"btn-secondary",disabled:P||c.mode==="AI",onClick:()=>_("AI"),children:P&&c.mode==="HUMAN"?e("conversationDetail.mode.switchingToAi")||"Switching":e("conversationDetail.mode.toAiButton")||"Back to AI"})]}),S&&r.jsx("div",{className:"form-error",style:{marginTop:"0.5rem"},children:S})]}),c&&r.jsxs("div",{className:"card",style:{marginBottom:"1rem"},children:[r.jsx("h2",{style:{marginTop:0},children:e("conversationDetail.manualSend.title")||"Manual reply (HUMAN)"}),r.jsx("p",{className:"muted",style:{marginBottom:"0.5rem"},children:e("conversationDetail.manualSend.description")||"Send a manual reply as a human agent over this channel."}),A&&L&&r.jsx("div",{className:"form-error",style:{marginBottom:"0.5rem"},children:e("conversationDetail.manualSend.windowExpired")||"You can no longer send manual messages: the last user message is more than 24 hours old on this channel. Meta requires templates beyond the 24h window."}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[r.jsx("input",{type:"text",value:x,onChange:F=>w(F.target.value),placeholder:e("conversationDetail.manualSend.placeholder")||"Type a manual reply...",style:{flex:1},disabled:j||A&&L}),r.jsx("button",{type:"button",className:"btn-primary",onClick:I,disabled:j||A&&L,children:j?e("conversationDetail.manualSend.sending")||"Sending...":e("conversationDetail.manualSend.button")||"Send"})]}),k&&r.jsx("div",{className:"form-error",style:{marginTop:"0.5rem"},children:k}),O&&r.jsx("div",{className:"form-success",style:{marginTop:"0.5rem"},children:O})]}),i&&r.jsx("p",{children:e("conversationDetail.loading")}),o&&r.jsx("div",{className:"form-error",children:o}),c&&!i&&!o&&r.jsxs("div",{className:"card",style:{marginBottom:"1rem"},children:[r.jsx("h2",{style:{marginTop:0},children:e("conversationDetail.parties.title")}),r.jsxs("div",{className:"conversation-parties",style:{display:"flex",gap:"1.5rem",flexWrap:"wrap",marginTop:"0.5rem"},children:[r.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[r.jsx("h3",{style:{marginBottom:"0.25rem"},children:e("conversationDetail.parties.business")}),r.jsxs("div",{className:"muted",children:[r.jsx("div",{children:c.business.title}),c.business.subtitle&&r.jsx("div",{style:{fontSize:"0.9em"},children:c.business.subtitle})]})]}),r.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[r.jsx("h3",{style:{marginBottom:"0.25rem"},children:e("conversationDetail.parties.user")}),r.jsxs("div",{className:"muted",children:[r.jsx("div",{children:c.user.displayName||c.user.identifier}),c.user.displayName&&r.jsx("div",{style:{fontSize:"0.85em",opacity:.8},children:c.user.identifier})]})]})]})]}),!i&&!o&&n.length===0&&r.jsx("p",{children:e("conversationDetail.empty")}),!i&&!o&&n.length>0&&r.jsx("div",{className:"conversation-view",children:n.map(F=>r.jsxs("div",{className:`conversation-message conversation-message-${F.role.toLowerCase()}`,children:[r.jsxs("div",{className:"conversation-meta",children:[r.jsx("span",{className:"conversation-role",children:D(F.role)}),r.jsx("span",{className:"conversation-time",children:new Date(F.createdAt).toLocaleString()})]}),r.jsx("div",{className:"conversation-content",children:F.content})]},F.id))})]})},Ho="";function Vx(e){if(!e)return Ho;const t=new Date(e);return Number.isNaN(t.getTime())?Ho:t.toLocaleString()}function vz(e){var n;const t=(e||"").trim();if(!t)return"uploaded-docs";try{return new URL(t).hostname||"uploaded-docs"}catch{return((n=t.replace(/^https?:\/\//i,"").split("/")[0])==null?void 0:n.trim())||"uploaded-docs"}}function bz(e,t){if(e.origin)return e.origin;if(e.jobType==="domain")return e.domain||Ho;const a=(e.startUrl||"").split("?")[0].split("#")[0].split("/").filter(Boolean).pop()||"";try{return decodeURIComponent(a)||t}catch{return a||t}}const Gx=10,Yx=6e3,yz=()=>{var ye,Se;const{t:e}=Le(),{id:t}=Ft(),[n,a]=m.useState(null),[i,s]=m.useState(!0),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[d,p]=m.useState(!1),[h,f]=m.useState(null),[g,v]=m.useState(null),[y,b]=m.useState(""),[x,w]=m.useState(null),[j,C]=m.useState(!1),[k,E]=m.useState(!1),[O,M]=m.useState(1),[P,T]=m.useState(1),[S,N]=m.useState(0),[A,L]=m.useState([]),[_,I]=m.useState({}),D=m.useRef(null),F=m.useRef(!1),R=(n==null?void 0:n.status)==="ACTIVE",z=((n==null?void 0:n.useDomainCrawler)||(n==null?void 0:n.usePdfCrawler))&&!(n!=null&&n.knowledgeClientId),U=async(X,he)=>{E(!0);try{const B=await _F(X,he);M(B.page),T(B.totalPages),N(B.totalItems),L(B.jobs||[])}finally{E(!1)}};m.useEffect(()=>{t&&(s(!0),f(null),hn(t).then(async X=>{a(X),b(X.domain||""),X.knowledgeClientId?await U(t,1):(M(1),T(1),N(0),L([]))}).catch(X=>{console.error(X),f((X==null?void 0:X.message)||e("botKnowledge.errors.loadBot"))}).finally(()=>s(!1)))},[t,e]);const K=m.useMemo(()=>A.filter(X=>!X._optimistic&&(X.status==="running"||X.status==="queued")).map(X=>X.id),[A]),Z=async X=>{if(t){I(he=>({...he,[X]:!0}));try{const he=await Jh(t,X),B=he==null?void 0:he.job;B&&L(re=>re.map(ne=>ne.id===B.id?B:ne))}catch(he){console.error(he)}finally{I(he=>({...he,[X]:!1}))}}},oe=async()=>{var X;if(t&&K.length!==0&&!F.current){F.current=!0;try{const he=await Promise.allSettled(K.map(re=>Jh(t,re))),B={};for(const re of he)if(re.status==="fulfilled"){const ne=(X=re.value)==null?void 0:X.job;ne!=null&&ne.id&&(B[ne.id]=ne)}Object.keys(B).length>0&&L(re=>re.map(ne=>B[ne.id]??ne))}finally{F.current=!1}}};m.useEffect(()=>{if(K.length===0){D.current&&(clearInterval(D.current),D.current=null);return}if(!D.current)return oe().catch(()=>{}),D.current=window.setInterval(()=>{oe().catch(()=>{})},Yx),()=>{D.current&&(clearInterval(D.current),D.current=null)}},[K.join("|")]);const fe=async X=>{if(X.preventDefault(),!(!t||!n)){l(!0),f(null),v(null);try{const he=await _n(t,{domain:y||null});a(he),v(e("botKnowledge.success.settingsUpdated"))}catch(he){console.error(he),f((he==null?void 0:he.message)||e("botKnowledge.errors.updateSettings"))}finally{l(!1)}}},V=async()=>{if(!(!t||!n)){if(n.status!=="ACTIVE"){f(e("botKnowledge.errors.mustBeActiveToCrawl"));return}if(!y.trim()){f(e("botKnowledge.errors.domainRequired"));return}if(!n.useDomainCrawler){f(e("botKnowledge.errors.domainCrawlerDisabled"));return}f(null),v(null),u(!0);try{const X=await Sk(t,y.trim());v(e("botKnowledge.success.domainCrawlStartedJob",{domain:X.domain,jobId:X.jobId}));const he=await hn(t);a(he),await U(t,1)}catch(X){console.error(X),f((X==null?void 0:X.message)||e("botKnowledge.errors.crawlFailed"))}finally{u(!1)}}};function G(X,he){const B=new Date().toISOString();return Array.from(X).map((re,ne)=>{const ve=String((re==null?void 0:re.name)||`document-${ne+1}`);return{id:`optimistic-doc-${Date.now()}-${ne}-${Math.random().toString(16).slice(2)}`,clientId:(n==null?void 0:n.knowledgeClientId)||"pending",status:"running",jobType:"docs",origin:ve,domain:he,startUrl:`file://local/${encodeURIComponent(ve)}`,pagesVisited:0,pagesStored:0,chunksStored:0,totalPagesEstimated:1,percent:null,errorMessage:null,tokensUsed:null,createdAt:B,startedAt:B,finishedAt:null,updatedAt:B,_optimistic:!0}})}const $=async X=>{if(!t||!n)return;if(n.status!=="ACTIVE"){f(e("botKnowledge.errors.mustBeActiveToUpload")),X.target.value="";return}const he=X.target.files;if(!(!he||he.length===0)){if(!n.usePdfCrawler){f(e("botKnowledge.errors.pdfUploadDisabled")),X.target.value="";return}f(null),v(null),p(!0);try{const B=await RF(t,he),re=B==null?void 0:B.estimate;if((re==null?void 0:re.totalTokensEstimated)!=null&&!window.confirm(e("botKnowledge.confirm.uploadDocsEstimate",{tokens:re.totalTokensEstimated.toLocaleString()/10}))){p(!1),X.target.value="";return}const ne=vz(n.domain)||"uploaded-docs";M(1),L(W=>[...G(he,ne),...W].slice(0,Gx));const ve=await zF(t,he);v(e("botKnowledge.success.uploadedDocs",{count:ve.files.length,files:ve.files.join(", ")}));const He=await hn(t);a(He),await U(t,1),X.target.value=""}catch(B){console.error(B),f((B==null?void 0:B.message)||e("botKnowledge.errors.uploadFailed")),L(re=>re.filter(ne=>!ne._optimistic))}finally{p(!1)}}},ae=async()=>{if(!t)return;const X=Math.max(1,O-1);X!==O&&(f(null),await U(t,X))},de=async()=>{if(!t)return;const X=Math.min(P,O+1);X!==O&&(f(null),await U(t,X))};if(!t)return r.jsx("div",{className:"page-container",children:r.jsx("p",{children:e("botKnowledge.missingId")})});if(i)return r.jsx("div",{className:"page-container",children:r.jsx("p",{children:e("botKnowledge.loadingBot")})});if(h&&!n)return r.jsxs("div",{className:"page-container",children:[r.jsx("h1",{children:e("common.error")}),r.jsx("p",{children:h})]});if(!n)return r.jsx("div",{className:"page-container",children:r.jsx("h1",{children:e("botKnowledge.notFound")})});const Q=e("botKnowledge.history.uploadedDocument"),ie={status:e("botKnowledge.history.table.status"),type:e("botKnowledge.history.table.type"),origin:e("botKnowledge.history.table.origin"),started:e("botKnowledge.history.table.started"),finished:e("botKnowledge.history.table.finished"),pages:e("botKnowledge.history.table.pages"),chunks:e("botKnowledge.history.table.chunks"),tokens:e("botKnowledge.history.table.tokens"),actions:e("botKnowledge.history.table.actions")};return r.jsxs("div",{children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:e("botKnowledge.title")}),r.jsx("p",{className:"muted",children:e("botKnowledge.subtitle",{botName:n.name})})]}),r.jsx(ue,{to:`/app/bots/${n.id}`,className:"btn-secondary",children:e("botKnowledge.backToBot")})]}),h&&r.jsx("div",{className:"form-error",children:h}),g&&r.jsx("div",{className:"form-success",children:g}),R?z?r.jsxs("div",{className:"alert-warning",style:{marginBottom:"1rem"},children:[r.jsxs("strong",{children:[e("botKnowledge.status.knowledgeStatus"),": ",e("botKnowledge.status.missing")]})," ",e("botKnowledge.missingBody")]}):null:r.jsxs("div",{className:"alert-warning",style:{marginBottom:"1rem"},children:[r.jsxs("strong",{children:[e("botKnowledge.status.knowledgeStatus"),": ",e("botKnowledge.status.locked")]})," ",e("botKnowledge.lockedBody",{status:n.status})," ",r.jsx(ue,{to:`/app/bots/${n.id}/features`,children:e("botKnowledge.featuresAndPlan")}),"."]}),R&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"knowledge-grid",children:[r.jsxs("section",{className:"knowledge-card",children:[r.jsxs("div",{className:"knowledge-card-header",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"knowledge-card-title",children:e("botKnowledge.domainCard.title")}),r.jsx("p",{className:"knowledge-card-description",children:e("botKnowledge.domainCard.description")})]}),r.jsx("span",{className:n.useDomainCrawler?"status-badge status-badge-ok":"status-badge status-badge-warn",children:n.useDomainCrawler?e("botKnowledge.feature.enabled"):e("botKnowledge.feature.disabled")})]}),r.jsxs("form",{className:"form",onSubmit:fe,children:[r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botKnowledge.fields.domain")}),r.jsx("input",{type:"text",value:y,onChange:X=>b(X.target.value),placeholder:e("botKnowledge.placeholders.domain")}),r.jsx("span",{className:"knowledge-card-muted-note",children:e("botKnowledge.domainCard.domainNote")})]}),r.jsxs("div",{className:"knowledge-card-actions",children:[r.jsx("button",{className:"btn-primary",type:"submit",disabled:o,children:e(o?"common.saving":"botKnowledge.actions.saveKnowledgeSettings")}),r.jsx("button",{className:"btn-secondary",type:"button",onClick:V,disabled:c||!n.useDomainCrawler,children:e(c?"botKnowledge.actions.crawling":"botKnowledge.actions.crawlNow")})]}),x&&r.jsxs("div",{style:{marginTop:"0.75rem"},className:"knowledge-card-muted-note",children:[e("botKnowledge.estimate.crawlCostLabel")," ",r.jsxs("strong",{children:[(ye=x.tokensLow)==null?void 0:ye.toLocaleString(),"  ",(Se=x.tokensHigh)==null?void 0:Se.toLocaleString()," ",e("botKnowledge.estimate.tokensUnit")]}),x.samplePages?` ${e("botKnowledge.estimate.sampledPages",{count:x.samplePages})}`:null]}),!n.useDomainCrawler&&r.jsxs("p",{className:"knowledge-card-muted-note",children:[e("botKnowledge.domainCard.disabledNote")," ",r.jsx(ue,{to:`/app/bots/${n.id}/features`,children:e("botKnowledge.featuresAndPlan")}),"."]})]})]}),r.jsxs("section",{className:"knowledge-card",children:[r.jsxs("div",{className:"knowledge-card-header",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"knowledge-card-title",children:e("botKnowledge.docsCard.title")}),r.jsx("p",{className:"knowledge-card-description",children:e("botKnowledge.docsCard.description")})]}),r.jsx("span",{className:n.usePdfCrawler?"status-badge status-badge-ok":"status-badge status-badge-warn",children:n.usePdfCrawler?e("botKnowledge.feature.enabled"):e("botKnowledge.feature.disabled")})]}),!n.usePdfCrawler&&r.jsxs("p",{className:"knowledge-card-muted-note",children:[e("botKnowledge.docsCard.disabledNote")," ",r.jsx(ue,{to:`/app/bots/${n.id}/features`,children:e("botKnowledge.featuresAndPlan")}),"."]}),n.usePdfCrawler&&r.jsx("div",{className:"form",children:r.jsxs("div",{className:"form-field",children:[r.jsx("span",{children:e("botKnowledge.docsCard.uploadLabel")}),r.jsx("input",{type:"file",accept:".pdf,doc,docx,txt",multiple:!0,onChange:$,disabled:d}),d&&r.jsx("span",{className:"knowledge-card-muted-note",children:e("botKnowledge.actions.uploading")}),r.jsx("span",{className:"knowledge-card-muted-note",children:e("botKnowledge.docsCard.supportedFormats")})]})})]})]}),r.jsxs("div",{style:{marginTop:"1.25rem"},children:[r.jsxs("div",{className:"page-header",style:{alignItems:"center"},children:[r.jsxs("div",{children:[r.jsx("h2",{style:{margin:0},children:e("botKnowledge.history.title")}),r.jsx("p",{className:"muted",style:{margin:0},children:e("botKnowledge.history.autoRefreshNote",{seconds:Math.round(Yx/1e3)})})]}),r.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>t&&U(t,O),disabled:k||!n.knowledgeClientId,children:e(k?"botKnowledge.history.refreshingPage":"botKnowledge.history.refreshPage")})]}),r.jsx("div",{className:"table-responsive crawl-history-table-wrapper",children:r.jsxs("table",{className:"table crawl-history-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:ie.status}),r.jsx("th",{children:ie.type}),r.jsx("th",{children:ie.origin}),r.jsx("th",{children:ie.started}),r.jsx("th",{children:ie.finished}),r.jsx("th",{children:ie.pages}),r.jsx("th",{children:ie.chunks}),r.jsx("th",{children:ie.tokens}),r.jsx("th",{className:"crawl-history-actions-header",children:ie.actions})]})}),r.jsx("tbody",{children:n.knowledgeClientId?A.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"muted",children:e(k?"botKnowledge.history.loadingRows":"botKnowledge.history.empty.noRuns")})}):A.map(X=>{const he=X.status==="running"||X.status==="queued",B=!!_[X.id],re=!!X._optimistic,ne=bz(X,Q),ve=X.domain||"uploaded-docs",He=e(`botKnowledge.history.status.${X.status}`),W=X.jobType==="docs"?e("botKnowledge.history.jobType.docs"):e("botKnowledge.history.jobType.domain");return r.jsxs("tr",{children:[r.jsxs("td",{className:"crawl-history-status-cell","data-label":ie.status,children:[r.jsx("span",{className:X.status==="completed"?"status-badge status-badge-ok":X.status==="failed"?"status-badge status-badge-warn":"status-badge",children:He}),X.errorMessage?r.jsx("div",{className:"muted",style:{marginTop:4},children:X.errorMessage}):null,re?r.jsx("div",{className:"muted",style:{marginTop:4},children:e("botKnowledge.history.uploadInProgress")}):null]}),r.jsx("td",{"data-label":ie.type,children:r.jsx("span",{className:"status-badge",children:W})}),r.jsxs("td",{className:"crawl-history-origin","data-label":ie.origin,children:[r.jsx("div",{className:"crawl-history-origin-text",children:ne||Ho}),X.jobType==="docs"?r.jsx("div",{className:"muted",style:{marginTop:4},children:e("botKnowledge.history.storedUnder",{namespace:ve})}):null]}),r.jsx("td",{"data-label":ie.started,children:Vx(X.startedAt||X.createdAt)}),r.jsx("td",{"data-label":ie.finished,children:Vx(X.finishedAt)}),r.jsxs("td",{"data-label":ie.pages,children:[X.pagesVisited,X.totalPagesEstimated?` / ~${X.totalPagesEstimated}`:"",X.percent!=null?` (${X.percent}%)`:""]}),r.jsxs("td",{"data-label":ie.chunks,children:[X.chunksStored," ",r.jsxs("span",{className:"muted",children:["(",e("botKnowledge.history.pagesStored",{count:X.pagesStored}),")"]})]}),r.jsx("td",{"data-label":ie.tokens,children:X.tokensUsed!=null?(X.tokensUsed/10).toLocaleString():Ho}),r.jsx("td",{className:"crawl-history-actions-cell","data-label":ie.actions,children:r.jsx("button",{className:"btn-secondary",type:"button",disabled:re||!he||B,onClick:()=>Z(X.id),children:e(B?"botKnowledge.history.refreshingRow":"botKnowledge.history.refreshRow")})})]},X.id)}):r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"muted",children:e("botKnowledge.history.empty.noClient")})})})]})}),r.jsxs("div",{className:"crawl-history-footer",children:[r.jsx("div",{className:"muted",children:e("botKnowledge.history.footer",{shown:A.length,total:S,page:O,totalPages:P,pageSize:Gx})}),r.jsxs("div",{className:"crawl-history-footer-actions",children:[r.jsx("button",{className:"btn-secondary",type:"button",onClick:ae,disabled:k||O<=1||!n.knowledgeClientId,children:e("botKnowledge.history.prev")}),r.jsx("button",{className:"btn-secondary",type:"button",onClick:de,disabled:k||O>=P||!n.knowledgeClientId,children:e("botKnowledge.history.next")})]})]}),r.jsx("p",{className:"muted",style:{marginTop:8},children:e("botKnowledge.history.tokenUsageNote")})]})]})]})},xz=()=>{const{t:e}=Le(),{id:t}=Ft(),n=tn(),[a,i]=m.useState(null),[s,o]=m.useState(!0),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[p,h]=m.useState(null),[f,g]=m.useState(null),[v,y]=m.useState(null),[b,x]=m.useState(!1);m.useEffect(()=>{t&&(o(!0),h(null),hn(t).then(M=>{i(M);const P={useDomainCrawler:M.useDomainCrawler,usePdfCrawler:M.usePdfCrawler,channelWeb:M.channelWeb,channelWhatsapp:M.channelWhatsapp,channelInstagram:M.channelInstagram,channelMessenger:M.channelMessenger,useCalendar:M.useCalendar,leadWhatsappMessages200:M.leadWhatsappMessages200,leadWhatsappMessages500:M.leadWhatsappMessages500,leadWhatsappMessages1000:M.leadWhatsappMessages1000};y(P)}).catch(M=>{console.error(M),h((M==null?void 0:M.message)||e("botFeatures.errors.loadBot"))}).finally(()=>o(!1)))},[t]);const w=M=>P=>{if(!v||!a)return;const T=P.target.checked,S={...v,[M]:T};y(S)},j=async()=>{if(t){x(!0),h(null),g(null);try{const M=await FF(t);i(M),g(e("botFeatures.success.subscriptionCanceled"))}catch(M){console.error("Failed to cancel subscription",M),h((M==null?void 0:M.message)||e("botFeatures.errors.cancelSubscription","Failed to cancel subscription."))}finally{x(!1)}}},C=async M=>{if(M.preventDefault(),!(!a||!v)){c(!0),h(null),g(null);try{const P={useDomainCrawler:v.useDomainCrawler,usePdfCrawler:v.usePdfCrawler,channelWeb:v.channelWeb,channelWhatsapp:v.channelWhatsapp,channelMessenger:v.channelMessenger,channelInstagram:v.channelInstagram,useCalendar:v.useCalendar,leadWhatsappMessages200:v.leadWhatsappMessages200,leadWhatsappMessages500:v.leadWhatsappMessages500,leadWhatsappMessages1000:v.leadWhatsappMessages1000},T=await _n(a.id,P);i(T),g(e("botFeatures.success.saved"))}catch(P){console.error(P),h((P==null?void 0:P.message)||e("botFeatures.errors.saveFeatures"))}finally{c(!1)}}},k=async()=>{if(!(!a||!v||!t)){d(!0),h(null);try{const M={useDomainCrawler:v.useDomainCrawler,usePdfCrawler:v.usePdfCrawler,channelWeb:v.channelWeb,channelWhatsapp:v.channelWhatsapp,channelMessenger:v.channelMessenger,channelInstagram:v.channelInstagram,useCalendar:v.useCalendar,leadWhatsappMessages200:v.leadWhatsappMessages200,leadWhatsappMessages500:v.leadWhatsappMessages500,leadWhatsappMessages1000:v.leadWhatsappMessages1000},P=await _n(a.id,M);i(P),n(`/app/bots/${encodeURIComponent(t)}/plan`)}catch(M){console.error(M),h((M==null?void 0:M.message)||e("botFeatures.errors.saveFeatures"))}finally{d(!1)}}},E=a&&a.status==="ACTIVE",O=M=>{const P=M.toUpperCase();return P==="ACTIVE"?"plan-summary-status plan-summary-status-ok":P==="DRAFT"?"plan-summary-status plan-summary-status-warn":P==="CANCELLED"||P==="INACTIVE"?"plan-summary-status plan-summary-status-error":"plan-summary-status"};return s||!a||!v?r.jsxs("div",{className:"page",children:[r.jsx("div",{className:"page-header",children:r.jsx("h1",{children:e("botFeatures.title")})}),r.jsx("div",{className:"card",children:r.jsx("p",{className:"muted",children:e("common.loading")})})]}):r.jsxs("div",{className:"page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:e("botFeatures.title")}),r.jsx("p",{className:"muted",children:e("botFeatures.subtitle",{name:a.name||""})})]}),r.jsx("div",{className:"page-header-actions",children:r.jsx(ue,{className:"btn-secondary",to:`/app/bots/${encodeURIComponent(a.id)}`,children:e("botFeatures.actions.backToBot")})})]}),p&&r.jsx("div",{className:"form-error",children:p}),f&&r.jsx("div",{className:"form-success",children:f}),r.jsxs("div",{className:"detail-layout",children:[r.jsx("section",{className:"detail-main",children:r.jsxs("form",{className:"form features-form",onSubmit:C,children:[r.jsxs("fieldset",{className:"form-fieldset feature-group",children:[r.jsx("legend",{children:e("botFeatures.groups.knowledge")}),r.jsxs("div",{className:"feature-options",children:[r.jsxs("label",{className:"feature-option"+(v.useDomainCrawler?" feature-option-checked":""),children:[r.jsx("input",{type:"checkbox",checked:v.useDomainCrawler,onChange:w("useDomainCrawler")}),r.jsx("div",{className:"feature-option-content",children:r.jsx("div",{className:"feature-option-header",children:r.jsxs("div",{children:[r.jsx("div",{className:"feature-option-title",children:e("botFeatures.knowledge.domain.title")}),r.jsx("p",{className:"feature-option-description",children:e("botFeatures.knowledge.domain.description")})]})})})]}),r.jsxs("label",{className:"feature-option"+(v.usePdfCrawler?" feature-option-checked":""),children:[r.jsx("input",{type:"checkbox",checked:v.usePdfCrawler,onChange:w("usePdfCrawler")}),r.jsx("div",{className:"feature-option-content",children:r.jsx("div",{className:"feature-option-header",children:r.jsxs("div",{children:[r.jsx("div",{className:"feature-option-title",children:e("botFeatures.knowledge.pdf.title")}),r.jsx("p",{className:"feature-option-description",children:e("botFeatures.knowledge.pdf.description")})]})})})]})]})]}),r.jsxs("fieldset",{className:"form-fieldset feature-group",children:[r.jsx("legend",{children:e("botFeatures.groups.channels")}),r.jsxs("div",{className:"feature-options",children:[r.jsxs("label",{className:"feature-option"+(v.channelWeb?" feature-option-checked":""),children:[r.jsx("input",{type:"checkbox",checked:v.channelWeb,onChange:w("channelWeb")}),r.jsx("div",{className:"feature-option-content",children:r.jsx("div",{className:"feature-option-header",children:r.jsxs("div",{children:[r.jsx("div",{className:"feature-option-title",children:e("botFeatures.channels.web.title")}),r.jsx("p",{className:"feature-option-description",children:e("botFeatures.channels.web.description")})]})})})]}),r.jsxs("label",{className:"feature-option"+(v.channelWhatsapp?" feature-option-checked":""),children:[r.jsx("input",{type:"checkbox",checked:v.channelWhatsapp,onChange:w("channelWhatsapp")}),r.jsx("div",{className:"feature-option-content",children:r.jsx("div",{className:"feature-option-header",children:r.jsxs("div",{children:[r.jsx("div",{className:"feature-option-title",children:e("botFeatures.channels.whatsapp.title")}),r.jsx("p",{className:"feature-option-description",children:e("botFeatures.channels.whatsapp.description")})]})})})]}),r.jsxs("label",{className:"feature-option"+(v.channelMessenger?" feature-option-checked":""),children:[r.jsx("input",{type:"checkbox",checked:v.channelMessenger,onChange:w("channelMessenger")}),r.jsx("div",{className:"feature-option-content",children:r.jsx("div",{className:"feature-option-header",children:r.jsxs("div",{children:[r.jsx("div",{className:"feature-option-title",children:e("botFeatures.channels.messenger.title")}),r.jsx("p",{className:"feature-option-description",children:e("botFeatures.channels.messenger.description")})]})})})]}),r.jsxs("label",{className:"feature-option"+(v.channelInstagram?" feature-option-checked":""),children:[r.jsx("input",{type:"checkbox",checked:v.channelInstagram,onChange:w("channelInstagram")}),r.jsx("div",{className:"feature-option-content",children:r.jsx("div",{className:"feature-option-header",children:r.jsxs("div",{children:[r.jsx("div",{className:"feature-option-title",children:e("botFeatures.channels.instagram.title")}),r.jsx("p",{className:"feature-option-description",children:e("botFeatures.channels.instagram.description")})]})})})]})]})]}),r.jsxs("fieldset",{className:"form-fieldset feature-group",children:[r.jsx("legend",{children:e("botFeatures.groups.calendar")}),r.jsx("div",{className:"feature-options",children:r.jsxs("label",{className:"feature-option"+(v.useCalendar?" feature-option-checked":""),children:[r.jsx("input",{type:"checkbox",checked:v.useCalendar,onChange:w("useCalendar")}),r.jsx("div",{className:"feature-option-content",children:r.jsx("div",{className:"feature-option-header",children:r.jsxs("div",{children:[r.jsx("div",{className:"feature-option-title",children:e("botFeatures.calendar.title")}),r.jsx("p",{className:"feature-option-description",children:e("botFeatures.calendar.description")})]})})})]})})]}),r.jsxs("fieldset",{className:"form-fieldset feature-group",children:[r.jsx("legend",{children:e("botFeatures.groups.leadAds")}),r.jsx("div",{className:"feature-options",children:r.jsxs("label",{className:"feature-option"+((v.leadWhatsappMessages200||v.leadWhatsappMessages500||v.leadWhatsappMessages1000)&&v.channelWhatsapp?" feature-option-checked":""),children:[r.jsx("input",{type:"checkbox",checked:v.channelWhatsapp&&(v.leadWhatsappMessages200||v.leadWhatsappMessages500||v.leadWhatsappMessages1000),disabled:!v.channelWhatsapp,onChange:M=>{const P=M.target.checked;y(T=>{if(!T||!a)return T;let S;return P?!T.leadWhatsappMessages200&&!T.leadWhatsappMessages500&&!T.leadWhatsappMessages1000?S={...T,leadWhatsappMessages200:!0,leadWhatsappMessages500:!1,leadWhatsappMessages1000:!1}:S=T:S={...T,leadWhatsappMessages200:!1,leadWhatsappMessages500:!1,leadWhatsappMessages1000:!1},S})}}),r.jsxs("div",{className:"feature-option-content",children:[r.jsx("div",{className:"feature-option-header",children:r.jsxs("div",{children:[r.jsx("div",{className:"feature-option-title",children:e("botFeatures.leadAds.whatsapp.title")}),r.jsx("p",{className:"feature-option-description",children:e("botFeatures.leadAds.whatsapp.description")})]})}),r.jsx("div",{style:{marginTop:"0.5rem"},children:r.jsxs("select",{disabled:!v.channelWhatsapp||!(v.leadWhatsappMessages200||v.leadWhatsappMessages500||v.leadWhatsappMessages1000),value:v.leadWhatsappMessages1000?"1000":v.leadWhatsappMessages500?"500":v.leadWhatsappMessages200?"200":"",onChange:M=>{const P=M.target.value;y(T=>!T||!a?T:{...T,leadWhatsappMessages200:P==="200",leadWhatsappMessages500:P==="500",leadWhatsappMessages1000:P==="1000"})},children:[r.jsx("option",{value:"",disabled:!0,children:e("botFeatures.leadAds.whatsapp.selectTier")}),r.jsx("option",{value:"200",children:"200 WhatsApp messages / month"}),r.jsx("option",{value:"500",children:"500 WhatsApp messages / month"}),r.jsx("option",{value:"1000",children:"1000 WhatsApp messages / month"})]})}),!v.channelWhatsapp&&r.jsx("p",{className:"muted",style:{marginTop:"0.4rem"},children:e("botFeatures.leadAds.whatsapp.requiresWhatsapp")})]})]})})]}),r.jsx("button",{className:"btn-primary",type:"submit",disabled:l,children:e(l?"botFeatures.actions.saving":"botFeatures.actions.save")})]})}),r.jsxs("section",{className:"detail-side",children:[r.jsxs("div",{className:"plan-summary-header",children:[r.jsx("h2",{style:{margin:0},children:e("botFeatures.side.title")}),r.jsxs("span",{className:O(a.status),children:[e("botFeatures.side.statusLabel")," ",r.jsx("strong",{children:a.status})]})]}),r.jsx("p",{className:"muted",style:{marginTop:"0.35rem"},children:e("botFeatures.side.subtitle")}),!E&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"btn-primary",onClick:k,disabled:u||l,style:{marginTop:"1rem"},children:e(u?"botFeatures.actions.saving":"botFeatures.actions.next")}),r.jsx("p",{className:"detail-side-note",children:e("botFeatures.side.nextNote")})]}),E&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"btn-primary",onClick:()=>n(`/app/bots/${a.id}/plan`),style:{marginTop:"0.75rem"},children:e("botFeatures.actions.viewChangePlan")}),r.jsx("button",{className:"btn-secondary",onClick:j,disabled:b,style:{marginTop:"0.6rem"},children:e(b?"botFeatures.actions.cancelling":"botFeatures.actions.cancelSubscription")})]})]})]})]})},Qx="2025-12-18",Zx="Andrei Cosmin Marica",Xx="Via Petrazzo 18, Messina (ME), 98142, Italia",rc="assistenza@coslo.it",wz="IT03858840832",jz=()=>{const{t:e}=Le(),t=["provider","definitions","scope","account","plansPayments","permittedUseCompliance","privacyMultiTenant","aiLimitations","thirdParties","availabilitySupport","ip","termination","warranty","liability","indemnity","changes","lawForum","contacts"],n=i=>{const s=e(i,{returnObjects:!0});return Array.isArray(s)?r.jsx("ul",{className:"policy-list",children:s.map((o,l)=>r.jsx("li",{children:String(o)},l))}):null},a=i=>{const s=`terms.sections.${i}`,o=e(`${s}.paragraphs`,{returnObjects:!0});if(!Array.isArray(o))return null;const l=e(`${s}.useTrans`,{defaultValue:"false"})==="true";return o.map((c,u)=>{const d=`${s}.paragraphs.${u}`;return l?r.jsx("p",{className:"lp-text",children:r.jsx(uk,{i18nKey:d,values:{lastUpdated:Qx,providerName:Zx,providerAddress:Xx,email:rc},components:{a:r.jsx("a",{href:`mailto:${rc}`}),strong:r.jsx("strong",{})}})},u):r.jsx("p",{className:"lp-text",children:e(d)},u)})};return r.jsxs("div",{className:"policy-page",children:[r.jsxs("div",{className:"lp-container policy-container",children:[r.jsxs("header",{className:"policy-header",children:[r.jsx("p",{className:"policy-kicker",children:e("terms.hero.kicker")}),r.jsx("h1",{className:"lp-section-title",children:e("terms.hero.title")}),r.jsx("p",{className:"lp-text policy-intro",children:e("terms.hero.intro")}),r.jsxs("p",{className:"lp-text",children:[r.jsxs("strong",{children:[e("terms.hero.lastUpdatedLabel"),":"]})," ",Qx]})]}),r.jsx("div",{className:"policy-grid",children:t.map(i=>r.jsxs("section",{className:"policy-section",children:[r.jsx("h2",{className:"policy-subtitle",children:e(`terms.sections.${i}.title`)}),i==="provider"?r.jsxs("p",{className:"lp-text",children:[r.jsxs("strong",{children:[e("terms.sections.provider.labels.provider"),":"]})," ",Zx+("(P.IVA: "+wz+")"),r.jsx("br",{}),r.jsxs("strong",{children:[e("terms.sections.provider.labels.address"),":"]})," ",Xx,r.jsx("br",{}),r.jsxs("strong",{children:[e("terms.sections.provider.labels.contact"),":"]})," ",r.jsx("a",{href:`mailto:${rc}`,children:rc})]}):a(i),n(`terms.sections.${i}.list`)]},i))})]}),r.jsx(lv,{})]})};async function Cz(){return se("/billing/overview")}async function Sz(e){return se(`/billing/payments/${encodeURIComponent(e)}/invoice-url`)}async function Nz(e){return se(`/bots/${encodeURIComponent(e)}/topup-options`)}async function kz(e,t){return se(`/bots/${encodeURIComponent(e)}/topup-checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({optionCode:t})})}function Pz(e){switch((e||"en").split("-")[0]){case"it":return"it-IT";case"es":return"es-ES";default:return"en-GB"}}function wm(e,t,n){return new Intl.NumberFormat(n,{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:2}).format(e/100)}function ar(e){return Math.round(e/10)}function Az(e){const t="status-badge ";switch(e){case"ACTIVE":case"TRIALING":return t+"status-badge-ok";case"PAST_DUE":case"UNPAID":case"INCOMPLETE":case"INCOMPLETE_EXPIRED":return t+"status-badge-warn";case"CANCELED":default:return t+"status-badge-error"}}function qs(e){if(e==null)return null;const t="status-badge ";return e>=100?t+"status-badge-error":e>=90||e>=75?t+"status-badge-warn":t+"status-badge-ok"}const Ez=()=>{const{t:e,i18n:t}=Le(),n=m.useMemo(()=>Pz(t.resolvedLanguage||t.language),[t.language,t.resolvedLanguage]),[a,i]=m.useState(null),[s,o]=m.useState(!0),[l,c]=m.useState(null),[u,d]=m.useState(null),[p,h]=m.useState({botId:null,loading:!1,options:null,selectedCode:null,checkoutLoading:!1,error:null}),f=P=>{switch(P){case"ACTIVE":return e("billing.subscriptionStatus.active");case"PAST_DUE":return e("billing.subscriptionStatus.pastDue");case"CANCELED":return e("billing.subscriptionStatus.canceled");case"TRIALING":return e("billing.subscriptionStatus.trial");case"UNPAID":return e("billing.subscriptionStatus.unpaid");case"INCOMPLETE":return e("billing.subscriptionStatus.incomplete");case"INCOMPLETE_EXPIRED":return e("billing.subscriptionStatus.incompleteExpired");default:return P}},g=P=>P==null?null:P>=100?e("billing.usageStatus.overLimit"):P>=90?e("billing.usageStatus.atLimit"):P>=75?e("billing.usageStatus.highUsage"):e("billing.usageStatus.healthyUsage");m.useEffect(()=>{o(!0),c(null),Cz().then(P=>i(P)).catch(P=>c((P==null?void 0:P.message)||e("billing.errors.loadFailed"))).finally(()=>o(!1))},[]);const v=async P=>{if(P.hasInvoice){d(P.id),c(null);try{const{url:T}=await Sz(P.id);T?window.open(T,"_blank","noopener,noreferrer"):c(e("billing.errors.invoiceUnavailable"))}catch(T){console.error(T),c((T==null?void 0:T.message)||e("billing.errors.invoiceDownloadFailed"))}finally{d(null)}}},y=async P=>{h({botId:P,loading:!0,options:null,selectedCode:null,checkoutLoading:!1,error:null});try{const T=await Nz(P);h(S=>{var N;return{...S,loading:!1,options:T,selectedCode:((N=T.options[0])==null?void 0:N.code)??null}})}catch(T){console.error(T),h(S=>({...S,loading:!1,error:(T==null?void 0:T.message)||e("billing.topUp.errors.loadFailed",{defaultValue:"Unable to load top-up options."})}))}},b=()=>{h({botId:null,loading:!1,options:null,selectedCode:null,checkoutLoading:!1,error:null})},x=async P=>{if(P.preventDefault(),!(!p.botId||!p.selectedCode)){h(T=>({...T,checkoutLoading:!0,error:null}));try{const{checkoutUrl:T}=await kz(p.botId,p.selectedCode);T?window.location.href=T:h(S=>({...S,checkoutLoading:!1,error:e("billing.topUp.errors.checkoutMissingUrl",{defaultValue:"Unable to start checkout for this top-up."})}))}catch(T){console.error(T),h(S=>({...S,checkoutLoading:!1,error:(T==null?void 0:T.message)||e("billing.topUp.errors.checkoutFailed",{defaultValue:"Top-up checkout failed. Please try again."})}))}}},w=(a==null?void 0:a.subscriptions.reduce((P,T)=>P+T.usedTokensThisPeriod,0))??0,j=(a==null?void 0:a.subscriptions.reduce((P,T)=>P+(T.monthlyTokens||0),0))??0,C=j>0,k=C?Math.min(100,Math.round(w/j*100)):null,E=qs(k),O=g(k),M={date:e("billing.paymentHistory.table.date"),bot:e("billing.paymentHistory.table.bot"),amount:e("billing.paymentHistory.table.amount"),status:e("billing.paymentHistory.table.status"),period:e("billing.paymentHistory.table.period"),actions:e("billing.paymentHistory.table.actions","Actions")};return r.jsxs("div",{children:[r.jsx("div",{className:"page-header",children:r.jsxs("div",{children:[r.jsx("h1",{children:e("billing.title")}),r.jsx("p",{className:"muted",children:e("billing.subtitle")})]})}),l&&r.jsx("div",{className:"form-error",children:l}),s&&r.jsx("div",{className:"detail-main",style:{marginTop:"1rem"},children:r.jsx("p",{children:e("billing.loading")})}),!s&&a&&r.jsxs(r.Fragment,{children:[r.jsxs("section",{className:"detail-main billing-main-card",children:[r.jsxs("div",{className:"billing-summary-header",children:[r.jsxs("div",{children:[r.jsx("h2",{children:e("billing.activeSubscriptions")}),r.jsxs("p",{className:"muted",children:[e("billing.totalMonthlyAcrossAllBots")," ",r.jsx("strong",{children:a.totalMonthlyAmountFormatted})]})]}),r.jsxs("div",{className:"billing-summary-usage",children:[r.jsx("div",{className:"billing-summary-usage-top",children:E&&O&&r.jsx("span",{className:E,children:O})}),r.jsxs("div",{className:"billing-summary-usage-label",children:[e("billing.thisMonth")," ",r.jsxs("strong",{children:[ar(w).toLocaleString(n)," ",e("billing.tokens")]}),C&&r.jsxs(r.Fragment,{children:[" ",r.jsx("span",{className:"muted",children:e("billing.of")})," ",r.jsx("strong",{children:ar(j).toLocaleString(n)})]})]}),C&&k!=null&&r.jsx("div",{className:"billing-summary-usage-bar",children:r.jsx("div",{className:"usage-bar",children:r.jsx("div",{className:"usage-bar-fill",style:{width:`${k}%`}})})}),r.jsx("p",{className:"muted",style:{marginTop:"0.4rem",fontSize:"0.82rem"},children:e("billing.tokensHint",{defaultValue:"Tokens include OpenAI, knowledge, emails and WhatsApp templates."})})]})]}),a.subscriptions.length===0&&r.jsx("p",{className:"muted",style:{marginTop:"0.5rem"},children:e("billing.noActiveSubscriptions")}),a.subscriptions.length>0&&r.jsx("div",{className:"billing-subscriptions",children:a.subscriptions.map(P=>{const T=P.currency||"eur",S=P.usagePercent!=null?P.usagePercent:null,N=P.monthlyTokens!=null&&P.monthlyTokens>0,A=P.planAmountCents>0,L=P.emailUsagePercent!=null?P.emailUsagePercent:null,_=P.monthlyEmails!=null&&P.monthlyEmails>0,I=P.whatsappUsagePercent!=null?P.whatsappUsagePercent:null,D=P.monthlyWhatsappLeads!=null&&P.monthlyWhatsappLeads>0;return r.jsxs("article",{className:"billing-subscription-card billing-subscription-card--compact",children:[r.jsxs("div",{className:"billing-subscription-header",children:[r.jsxs("div",{className:"billing-subscription-title-block",children:[r.jsx("h3",{className:"billing-subscription-title",children:P.botName}),r.jsxs("p",{className:"billing-subscription-subtitle",children:[e("billing.slugLabel"),":"," ",r.jsx("code",{children:P.botSlug})]})]}),r.jsxs("div",{className:"billing-subscription-right",children:[r.jsx("div",{className:Az(P.subscriptionStatus),children:f(P.subscriptionStatus)}),r.jsxs("div",{className:"billing-subscription-price",children:[P.totalMonthlyAmountFormatted,P.usagePlanName&&r.jsxs("span",{className:"billing-subscription-plan-label",children:["/",e("billing.perMonth")," "," ",P.usagePlanName]})]})]})]}),r.jsx("div",{className:"billing-subscription-meters",children:r.jsxs("div",{className:"billing-meter",children:[r.jsxs("div",{className:"billing-meter-top",children:[r.jsx("span",{className:"billing-meter-title",children:e("billing.tokens")}),N&&S!=null?r.jsx("span",{className:"billing-meter-meta",children:r.jsxs("span",{className:qs(S)??"status-badge",children:[S,"%"]})}):r.jsx("span",{className:"billing-meter-meta muted",children:e("billing.noConfiguredLimit")})]}),r.jsxs("div",{className:"billing-meter-value",children:[r.jsx("strong",{children:ar(P.usedTokensThisPeriod).toLocaleString(n)}),N?r.jsxs("span",{className:"muted",children:[" ","/"," ",ar(P.monthlyTokens??0).toLocaleString(n)]}):null]}),N&&S!=null&&r.jsx("div",{className:"usage-bar usage-bar--sm",children:r.jsx("div",{className:"usage-bar-fill",style:{width:`${S}%`}})})]})}),N&&A&&S!=null&&S>=90&&r.jsx("div",{className:"billing-topup-cta",children:r.jsx("button",{type:"button",onClick:()=>y(P.botId),children:e("billing.topUp.buttonLabel",{defaultValue:"Add extra tokens for this period"})})}),r.jsxs("details",{className:"billing-subscription-details",children:[r.jsx("summary",{className:"billing-subscription-details-summary",children:e("billing.details",{defaultValue:"Details"})}),r.jsxs("div",{className:"billing-subscription-details-body",children:[r.jsxs("div",{className:"billing-subscription-breakdown",children:[r.jsxs("span",{children:[e("billing.breakdown.features"),": ",r.jsx("strong",{children:wm(P.featuresAmountCents,T,n)})]}),P.planAmountCents>0&&r.jsxs("span",{children:[e("billing.breakdown.plan"),": ",r.jsx("strong",{children:wm(P.planAmountCents,T,n)})]})]}),r.jsxs("div",{className:"billing-subscription-usage-details",style:{marginTop:"0.75rem"},children:[r.jsx("h4",{className:"muted",style:{fontSize:"0.85rem",marginBottom:"0.35rem"},children:e("billing.usageThisPeriod",{defaultValue:"Usage this period"})}),r.jsxs("ul",{className:"billing-usage-list",children:[r.jsxs("li",{className:"billing-usage-row",children:[r.jsxs("div",{className:"billing-usage-row-header",children:[r.jsx("span",{className:"billing-usage-row-label",children:e("billing.tokens")}),S!=null&&r.jsx("span",{className:qs(S)??"status-badge",children:g(S)??`${S}%`})]}),r.jsxs("div",{className:"billing-usage-row-main",children:[r.jsx("span",{className:"billing-usage-row-value",children:ar(P.usedTokensThisPeriod).toLocaleString(n)}),N?r.jsxs("span",{className:"muted",children:[" ","/"," ",ar(P.monthlyTokens??0).toLocaleString(n)]}):r.jsxs("span",{className:"muted",children:[" ",e("billing.noConfiguredLimit")]})]}),N&&S!=null&&r.jsx("div",{className:"usage-bar usage-bar--xs",children:r.jsx("div",{className:"usage-bar-fill",style:{width:`${S}%`}})})]}),r.jsxs("li",{className:"billing-usage-row",children:[r.jsxs("div",{className:"billing-usage-row-header",children:[r.jsx("span",{className:"billing-usage-row-label",children:e("billing.emails",{defaultValue:"Emails"})}),L!=null&&r.jsx("span",{className:qs(L)??"status-badge",children:g(L)??`${L}%`})]}),r.jsxs("div",{className:"billing-usage-row-main",children:[r.jsx("span",{className:"billing-usage-row-value",children:P.usedEmailsThisPeriod.toLocaleString(n)}),_?r.jsxs("span",{className:"muted",children:[" ","/"," ",(P.monthlyEmails??0).toLocaleString(n)]}):r.jsxs("span",{className:"muted",children:[" ",e("billing.noConfiguredLimit")]})]}),_&&L!=null&&r.jsx("div",{className:"usage-bar usage-bar--xs",children:r.jsx("div",{className:"usage-bar-fill",style:{width:`${L}%`}})})]}),r.jsxs("li",{className:"billing-usage-row",children:[r.jsxs("div",{className:"billing-usage-row-header",children:[r.jsx("span",{className:"billing-usage-row-label",children:e("billing.whatsappLeads",{defaultValue:"WhatsApp leads"})}),I!=null&&r.jsx("span",{className:qs(I)??"status-badge",children:g(I)??`${I}%`})]}),r.jsxs("div",{className:"billing-usage-row-main",children:[r.jsx("span",{className:"billing-usage-row-value",children:P.usedWhatsappLeadsThisPeriod.toLocaleString(n)}),D?r.jsxs("span",{className:"muted",children:[" ","/"," ",(P.monthlyWhatsappLeads??0).toLocaleString(n)]}):r.jsxs("span",{className:"muted",children:[" ",e("billing.noConfiguredLimit")]})]}),D&&I!=null&&r.jsx("div",{className:"usage-bar usage-bar--xs",children:r.jsx("div",{className:"usage-bar-fill",style:{width:`${I}%`}})})]})]})]})]})]})]},P.botId)})})]}),r.jsxs("section",{className:"detail-main",style:{marginTop:"1.5rem"},children:[r.jsx("h2",{children:e("billing.paymentHistory.title")}),a.payments.length===0&&r.jsx("p",{className:"muted",style:{marginTop:"0.5rem"},children:e("billing.paymentHistory.empty")}),a.payments.length>0&&r.jsx("div",{className:"table-responsive payments-table-wrapper",children:r.jsxs("table",{className:"table payments-table",style:{marginTop:"0.75rem"},children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:M.date}),r.jsx("th",{children:M.bot}),r.jsx("th",{children:M.amount}),r.jsx("th",{children:M.status}),r.jsx("th",{children:M.period}),r.jsx("th",{className:"payments-actions-header",children:M.actions})]})}),r.jsx("tbody",{children:a.payments.map(P=>r.jsxs("tr",{children:[r.jsx("td",{"data-label":M.date,children:new Date(P.createdAt).toLocaleDateString(n,{year:"numeric",month:"short",day:"numeric"})}),r.jsxs("td",{"data-label":M.bot,children:[P.botName,P.kind==="TOP_UP"&&r.jsxs("span",{className:"muted",children:[" ","(",e("billing.payments.topUpTag",{defaultValue:"top-up"}),")"]})]}),r.jsx("td",{"data-label":M.amount,children:wm(P.amountCents,P.currency,n)}),r.jsx("td",{"data-label":M.status,children:P.status}),r.jsx("td",{"data-label":M.period,children:P.periodStart&&P.periodEnd?r.jsxs(r.Fragment,{children:[new Date(P.periodStart).toLocaleDateString(n)," ",""," ",new Date(P.periodEnd).toLocaleDateString(n)]}):r.jsx("span",{className:"muted",children:""})}),r.jsx("td",{className:"payments-actions-cell","data-label":M.actions,children:P.hasInvoice?r.jsxs("button",{type:"button",className:"icon-button",onClick:()=>v(P),disabled:u===P.id,"aria-label":u===P.id?e("billing.invoice.ariaOpening"):e("billing.invoice.ariaDownload"),title:u===P.id?e("billing.invoice.titleOpening"):e("billing.invoice.titleDownload"),children:[r.jsx("span",{className:"payments-actions-icon",children:u===P.id?"":""}),r.jsx("span",{className:"payments-actions-text",children:u===P.id?e("billing.invoice.labelOpening","Opening invoice"):e("billing.invoice.labelDownload","Download invoice")}),r.jsx("span",{className:"sr-only",children:u===P.id?e("billing.invoice.srOpening"):e("billing.invoice.srDownload")})]}):r.jsx("span",{className:"muted",children:""})})]},P.id))})]})})]})]}),p.botId&&r.jsx("div",{className:"modal-backdrop",children:r.jsxs("div",{className:"modal",role:"dialog","aria-modal":"true","aria-label":e("billing.topUp.title",{defaultValue:"Token top-up"}),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{children:e("billing.topUp.title",{defaultValue:"Token top-up"})}),r.jsx("button",{type:"button",onClick:b,children:""})]}),r.jsxs("div",{className:"modal-body",children:[p.loading&&r.jsx("p",{className:"muted",children:e("billing.topUp.loading",{defaultValue:"Loading available top-up options"})}),!p.loading&&p.options&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"muted",children:e("billing.topUp.description",{defaultValue:"Top-ups let you temporarily increase your token limit for the current billing period. Youll pay immediately and receive extra tokens right away."})}),r.jsxs("p",{children:[r.jsx("strong",{children:p.options.botName})," ",p.options.usagePlanName&&r.jsxs(r.Fragment,{children:[" ",p.options.usagePlanName]})]}),r.jsx("p",{className:"muted",children:e("billing.topUp.basePlanInfo",{defaultValue:"Current plan: {{price}} / month, {{tokens}} tokens",price:p.options.baseMonthlyAmountFormatted,tokens:p.options.baseMonthlyTokens?ar(p.options.baseMonthlyTokens):e("billing.unlimited")})}),r.jsxs("form",{onSubmit:x,children:[r.jsx("div",{className:"topup-options-list",children:p.options.options.map(P=>r.jsxs("label",{className:"topup-option-row",children:[r.jsx("input",{type:"radio",name:"topup-option",value:P.code,checked:p.selectedCode===P.code,onChange:()=>h(T=>({...T,selectedCode:P.code}))}),r.jsxs("div",{className:"topup-option-content",children:[r.jsx("div",{children:e("billing.topUp.optionLabel",{defaultValue:"+{{percent}}% tokens for {{price}}% of monthly price",percent:P.percentTokens,price:P.percentPrice})}),r.jsx("div",{className:"muted",children:e("billing.topUp.optionDetails",{defaultValue:"+{{tokens}} tokens for {{amount}}",tokens:ar(P.extraTokens),amount:P.priceFormatted})})]})]},P.code))}),p.error&&r.jsx("p",{className:"error-text",children:p.error}),r.jsxs("div",{className:"modal-actions",children:[r.jsx("button",{type:"button",onClick:b,children:e("common.cancel",{defaultValue:"Cancel"})}),r.jsx("button",{type:"submit",disabled:!p.selectedCode||p.checkoutLoading,children:p.checkoutLoading?e("billing.topUp.processing",{defaultValue:"Processing"}):e("billing.topUp.checkoutCta",{defaultValue:"Proceed to secure checkout"})})]})]})]}),!p.loading&&!p.options&&!p.error&&r.jsx("p",{className:"muted",children:e("billing.topUp.noOptions",{defaultValue:"No top-up options are available."})}),p.error&&!p.options&&r.jsx("p",{className:"error-text",children:p.error})]})]})})]})};async function Tz(){return se("/account/me")}async function Iz(e){return se("/account/profile",{method:"PUT",body:JSON.stringify(e)})}async function Oz(e,t){return se("/account/change-password",{method:"POST",body:JSON.stringify({currentPassword:e,newPassword:t})})}async function Mz(e){return se("/account",{method:"DELETE",body:JSON.stringify({password:e})})}async function Lz(e){return se("/account",{method:"DELETE",body:JSON.stringify({googleIdToken:e})})}async function Dz(){return se("/account/mfa/totp/start",{method:"POST"})}async function Fz(e,t){return se("/account/mfa/totp/confirm",{method:"POST",body:JSON.stringify({setupToken:e,code:t})})}async function zz(e){return se("/account/mfa/totp/disable",{method:"POST",body:JSON.stringify(e)})}var _z=Object.defineProperty,wu=Object.getOwnPropertySymbols,_k=Object.prototype.hasOwnProperty,Rk=Object.prototype.propertyIsEnumerable,Jx=(e,t,n)=>t in e?_z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ef=(e,t)=>{for(var n in t||(t={}))_k.call(t,n)&&Jx(e,n,t[n]);if(wu)for(var n of wu(t))Rk.call(t,n)&&Jx(e,n,t[n]);return e},tf=(e,t)=>{var n={};for(var a in e)_k.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&wu)for(var a of wu(e))t.indexOf(a)<0&&Rk.call(e,a)&&(n[a]=e[a]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ui;(e=>{const t=class Pe{constructor(c,u,d,p){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Pe.MIN_VERSION||c>Pe.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const f=this.addEccAndInterleave(d);if(this.drawCodewords(f),p==-1){let g=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const y=this.getPenaltyScore();y<g&&(p=v,g=y),this.applyMask(v)}}i(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return Pe.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return Pe.encodeSegments([d],u)}static encodeSegments(c,u,d=1,p=40,h=-1,f=!0){if(!(Pe.MIN_VERSION<=d&&d<=p&&p<=Pe.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,v;for(g=d;;g++){const w=Pe.getNumDataCodewords(g,u)*8,j=o.getTotalBits(c,g);if(j<=w){v=j;break}if(g>=p)throw new RangeError("Data too long")}for(const w of[Pe.Ecc.MEDIUM,Pe.Ecc.QUARTILE,Pe.Ecc.HIGH])f&&v<=Pe.getNumDataCodewords(g,w)*8&&(u=w);let y=[];for(const w of c){n(w.mode.modeBits,4,y),n(w.numChars,w.mode.numCharCountBits(g),y);for(const j of w.getData())y.push(j)}i(y.length==v);const b=Pe.getNumDataCodewords(g,u)*8;i(y.length<=b),n(0,Math.min(4,b-y.length),y),n(0,(8-y.length%8)%8,y),i(y.length%8==0);for(let w=236;y.length<b;w^=253)n(w,8,y);let x=[];for(;x.length*8<y.length;)x.push(0);return y.forEach((w,j)=>x[j>>>3]|=w<<7-(j&7)),new Pe(g,u,x,h)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let p=0;p<u;p++)d==0&&p==0||d==0&&p==u-1||d==u-1&&p==0||this.drawAlignmentPattern(c[d],c[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const p=(u<<10|d)^21522;i(p>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,a(p,h));this.setFunctionModule(8,7,a(p,6)),this.setFunctionModule(8,8,a(p,7)),this.setFunctionModule(7,8,a(p,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,a(p,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,a(p,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,a(p,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;i(u>>>18==0);for(let d=0;d<18;d++){const p=a(u,d),h=this.size-11+d%3,f=Math.floor(d/3);this.setFunctionModule(h,f,p),this.setFunctionModule(f,h,p)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let p=-4;p<=4;p++){const h=Math.max(Math.abs(p),Math.abs(d)),f=c+p,g=u+d;0<=f&&f<this.size&&0<=g&&g<this.size&&this.setFunctionModule(f,g,h!=2&&h!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let p=-2;p<=2;p++)this.setFunctionModule(c+p,u+d,Math.max(Math.abs(p),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Pe.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const p=Pe.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=Pe.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],f=Math.floor(Pe.getNumRawDataModules(u)/8),g=p-f%p,v=Math.floor(f/p);let y=[];const b=Pe.reedSolomonComputeDivisor(h);for(let w=0,j=0;w<p;w++){let C=c.slice(j,j+v-h+(w<g?0:1));j+=C.length;const k=Pe.reedSolomonComputeRemainder(C,b);w<g&&C.push(0),y.push(C.concat(k))}let x=[];for(let w=0;w<y[0].length;w++)y.forEach((j,C)=>{(w!=v-h||C>=g)&&x.push(j[w])});return i(x.length==f),x}drawCodewords(c){if(c.length!=Math.floor(Pe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let p=0;p<this.size;p++)for(let h=0;h<2;h++){const f=d-h,v=(d+1&2)==0?this.size-1-p:p;!this.isFunction[v][f]&&u<c.length*8&&(this.modules[v][f]=a(c[u>>>3],7-(u&7)),u++)}}i(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let p;switch(c){case 0:p=(d+u)%2==0;break;case 1:p=u%2==0;break;case 2:p=d%3==0;break;case 3:p=(d+u)%3==0;break;case 4:p=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:p=d*u%2+d*u%3==0;break;case 6:p=(d*u%2+d*u%3)%2==0;break;case 7:p=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&p&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let h=0;h<this.size;h++){let f=!1,g=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[h][y]==f?(g++,g==5?c+=Pe.PENALTY_N1:g>5&&c++):(this.finderPenaltyAddHistory(g,v),f||(c+=this.finderPenaltyCountPatterns(v)*Pe.PENALTY_N3),f=this.modules[h][y],g=1);c+=this.finderPenaltyTerminateAndCount(f,g,v)*Pe.PENALTY_N3}for(let h=0;h<this.size;h++){let f=!1,g=0,v=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][h]==f?(g++,g==5?c+=Pe.PENALTY_N1:g>5&&c++):(this.finderPenaltyAddHistory(g,v),f||(c+=this.finderPenaltyCountPatterns(v)*Pe.PENALTY_N3),f=this.modules[y][h],g=1);c+=this.finderPenaltyTerminateAndCount(f,g,v)*Pe.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let f=0;f<this.size-1;f++){const g=this.modules[h][f];g==this.modules[h][f+1]&&g==this.modules[h+1][f]&&g==this.modules[h+1][f+1]&&(c+=Pe.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((f,g)=>f+(g?1:0),u);const d=this.size*this.size,p=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=p&&p<=9),c+=p*Pe.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let p=this.size-7;d.length<c;p-=u)d.splice(1,0,p);return d}}static getNumRawDataModules(c){if(c<Pe.MIN_VERSION||c>Pe.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Pe.getNumRawDataModules(c)/8)-Pe.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Pe.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let p=0;p<c-1;p++)u.push(0);u.push(1);let d=1;for(let p=0;p<c;p++){for(let h=0;h<u.length;h++)u[h]=Pe.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=Pe.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(p=>0);for(const p of c){const h=p^d.shift();d.push(0),u.forEach((f,g)=>d[g]^=Pe.reedSolomonMultiply(f,h))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let p=7;p>=0;p--)d=d<<1^(d>>>7)*285,d^=(u>>>p&1)*c;return i(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];i(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function a(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const s=class at{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new at(at.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!at.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const p=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+p),10),p*3+1,u),d+=p}return new at(at.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!at.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let p=at.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;p+=at.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(p,11,u)}return d<c.length&&n(at.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new at(at.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:at.isNumeric(c)?[at.makeNumeric(c)]:at.isAlphanumeric(c)?[at.makeAlphanumeric(c)]:[at.makeBytes(at.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new at(at.Mode.ECI,0,u)}static isNumeric(c){return at.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return at.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const p of c){const h=p.mode.numCharCountBits(u);if(p.numChars>=1<<h)return 1/0;d+=4+h+p.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;e.QrSegment=s})(ui||(ui={}));(e=>{(t=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(ui||(ui={}));(e=>{(t=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(ui||(ui={}));var qi=ui;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Rz={L:qi.QrCode.Ecc.LOW,M:qi.QrCode.Ecc.MEDIUM,Q:qi.QrCode.Ecc.QUARTILE,H:qi.QrCode.Ecc.HIGH},Bk=128,$k="L",Uk="#FFFFFF",Wk="#000000",Hk=!1,qk=1,Bz=4,$z=0,Uz=.1;function Kk(e,t=0){const n=[];return e.forEach(function(a,i){let s=null;a.forEach(function(o,l){if(!o&&s!==null){n.push(`M${s+t} ${i+t}h${l-s}v1H${s+t}z`),s=null;return}if(l===a.length-1){if(!o)return;s===null?n.push(`M${l+t},${i+t} h1v1H${l+t}z`):n.push(`M${s+t},${i+t} h${l+1-s}v1H${s+t}z`);return}o&&s===null&&(s=l)})}),n.join("")}function Vk(e,t){return e.slice().map((n,a)=>a<t.y||a>=t.y+t.h?n:n.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function Wz(e,t,n,a){if(a==null)return null;const i=e.length+n*2,s=Math.floor(t*Uz),o=i/t,l=(a.width||s)*o,c=(a.height||s)*o,u=a.x==null?e.length/2-l/2:a.x*o,d=a.y==null?e.length/2-c/2:a.y*o,p=a.opacity==null?1:a.opacity;let h=null;if(a.excavate){let g=Math.floor(u),v=Math.floor(d),y=Math.ceil(l+u-g),b=Math.ceil(c+d-v);h={x:g,y:v,w:y,h:b}}const f=a.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:h,opacity:p,crossOrigin:f}}function Hz(e,t){return t!=null?Math.max(Math.floor(t),0):e?Bz:$z}function Gk({value:e,level:t,minVersion:n,includeMargin:a,marginSize:i,imageSettings:s,size:o,boostLevel:l}){let c=ot.useMemo(()=>{const g=(Array.isArray(e)?e:[e]).reduce((v,y)=>(v.push(...qi.QrSegment.makeSegments(y)),v),[]);return qi.QrCode.encodeSegments(g,Rz[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:p,calculatedImageSettings:h}=ot.useMemo(()=>{let f=c.getModules();const g=Hz(a,i),v=f.length+g*2,y=Wz(f,o,g,s);return{cells:f,margin:g,numCells:v,calculatedImageSettings:y}},[c,o,s,a,i]);return{qrcode:c,margin:d,cells:u,numCells:p,calculatedImageSettings:h}}var qz=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Kz=ot.forwardRef(function(t,n){const a=t,{value:i,size:s=Bk,level:o=$k,bgColor:l=Uk,fgColor:c=Wk,includeMargin:u=Hk,minVersion:d=qk,boostLevel:p,marginSize:h,imageSettings:f}=a,v=tf(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=v,b=tf(v,["style"]),x=f==null?void 0:f.src,w=ot.useRef(null),j=ot.useRef(null),C=ot.useCallback(A=>{w.current=A,typeof n=="function"?n(A):n&&(n.current=A)},[n]),[k,E]=ot.useState(!1),{margin:O,cells:M,numCells:P,calculatedImageSettings:T}=Gk({value:i,level:o,minVersion:d,boostLevel:p,includeMargin:u,marginSize:h,imageSettings:f,size:s});ot.useEffect(()=>{if(w.current!=null){const A=w.current,L=A.getContext("2d");if(!L)return;let _=M;const I=j.current,D=T!=null&&I!==null&&I.complete&&I.naturalHeight!==0&&I.naturalWidth!==0;D&&T.excavation!=null&&(_=Vk(M,T.excavation));const F=window.devicePixelRatio||1;A.height=A.width=s*F;const R=s/P*F;L.scale(R,R),L.fillStyle=l,L.fillRect(0,0,P,P),L.fillStyle=c,qz?L.fill(new Path2D(Kk(_,O))):M.forEach(function(z,U){z.forEach(function(K,Z){K&&L.fillRect(Z+O,U+O,1,1)})}),T&&(L.globalAlpha=T.opacity),D&&L.drawImage(I,T.x+O,T.y+O,T.w,T.h)}}),ot.useEffect(()=>{E(!1)},[x]);const S=ef({height:s,width:s},y);let N=null;return x!=null&&(N=ot.createElement("img",{src:x,key:x,style:{display:"none"},onLoad:()=>{E(!0)},ref:j,crossOrigin:T==null?void 0:T.crossOrigin})),ot.createElement(ot.Fragment,null,ot.createElement("canvas",ef({style:S,height:s,width:s,ref:C,role:"img"},b)),N)});Kz.displayName="QRCodeCanvas";var Yk=ot.forwardRef(function(t,n){const a=t,{value:i,size:s=Bk,level:o=$k,bgColor:l=Uk,fgColor:c=Wk,includeMargin:u=Hk,minVersion:d=qk,boostLevel:p,title:h,marginSize:f,imageSettings:g}=a,v=tf(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:b,numCells:x,calculatedImageSettings:w}=Gk({value:i,level:o,minVersion:d,boostLevel:p,includeMargin:u,marginSize:f,imageSettings:g,size:s});let j=b,C=null;g!=null&&w!=null&&(w.excavation!=null&&(j=Vk(b,w.excavation)),C=ot.createElement("image",{href:g.src,height:w.h,width:w.w,x:w.x+y,y:w.y+y,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));const k=Kk(j,y);return ot.createElement("svg",ef({height:s,width:s,viewBox:`0 0 ${x} ${x}`,ref:n,role:"img"},v),!!h&&ot.createElement("title",null,h),ot.createElement("path",{fill:l,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),ot.createElement("path",{fill:c,d:k,shapeRendering:"crispEdges"}),C)});Yk.displayName="QRCodeSVG";const Vz=()=>{const{t:e}=Le(),[t,n]=m.useState(null),[a,i]=m.useState(!0),[s,o]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(null),[p,h]=m.useState(null),[f,g]=m.useState(null),[v,y]=m.useState(""),[b,x]=m.useState(""),[w,j]=m.useState(""),[C,k]=m.useState(""),[E,O]=m.useState(""),[M,P]=m.useState(!1),[T,S]=m.useState(null),[N,A]=m.useState(null),[L,_]=m.useState(null),[I,D]=m.useState(null),[F,R]=m.useState(null),[z,U]=m.useState(""),[K,Z]=m.useState([]),[oe,fe]=m.useState(!1),[V,G]=m.useState(""),[$,ae]=m.useState(""),de=tn(),[Q,ie]=m.useState(""),[ye,Se]=m.useState(!1),X=m.useRef(null),he=()=>{d(null),h(null),g(null),S(null),A(null)},B=()=>window.confirm(e("profile.confirmDelete"));m.useEffect(()=>{let J=!1;return i(!0),d(null),Tz().then(ce=>{J||(n(ce),y(ce.name||""),x(ce.avatarUrl||""))}).catch(ce=>{console.error(ce),J||d((ce==null?void 0:ce.message)||e("profile.errors.loadFailed"))}).finally(()=>{J||i(!1)}),()=>{J=!0}},[e]),m.useEffect(()=>{var ce;if(!t||t.authProvider!=="google")return;const J="568984409972-ql252sre4kumaja8kc4d8j4m7fmrdb6a.apps.googleusercontent.com";if(!window.google||!((ce=window.google.accounts)!=null&&ce.id)){console.warn("Google Identity Services script not available.");return}X.current&&(window.google.accounts.id.initialize({client_id:J,callback:async Ie=>{const ee=Ie.credential;if(!(!ee||!B())){Se(!0),he();try{const Y=await Lz(ee);Sr(),de("/login",{replace:!0})}catch(Y){console.error(Y),d((Y==null?void 0:Y.message)||e("profile.errors.deleteFailed"))}finally{Se(!1)}}}}),window.google.accounts.id.renderButton(X.current,{theme:"outline",size:"large",text:"continue_with"}))},[t,de,e]);const re=async J=>{if(J.preventDefault(),!(!t||!Q||!B())){Se(!0),he();try{const Ie=await Mz(Q);Sr(),de("/login",{replace:!0})}catch(Ie){console.error(Ie),d((Ie==null?void 0:Ie.message)||e("profile.errors.deleteFailed"))}finally{Se(!1)}}},ne=async J=>{if(J.preventDefault(),!!t){o(!0),he();try{const ce=await Iz({name:v.trim()||void 0,avatarUrl:b.trim()||void 0});n(ce),h(e("profile.profile.success"))}catch(ce){console.error(ce),d((ce==null?void 0:ce.message)||e("profile.errors.updateProfileFailed"))}finally{o(!1)}}},ve=async J=>{if(J.preventDefault(),!(!t||!t.hasPassword)){if(C!==E){d(e("profile.password.errors.mismatch"));return}c(!0),he();try{const ce=await Oz(w,C);g(ce.message||e("profile.password.success")),j(""),k(""),O("")}catch(ce){console.error(ce),d((ce==null?void 0:ce.message)||e("profile.errors.changePasswordFailed"))}finally{c(!1)}}},He=async()=>{if(t){S(null),A(null),d(null),h(null),g(null),P(!0);try{const J=await Dz();_(J.setupToken),D(J.otpauthUrl),R(J.secret),U(""),Z([])}catch(J){console.error(J),S((J==null?void 0:J.message)||e("profile.mfa.errors.startFailed"))}finally{P(!1)}}},W=async J=>{if(J.preventDefault(),!!L){S(null),A(null),d(null),h(null),g(null),P(!0);try{const ce=await Fz(L,z.trim());Z(ce.backupCodes||[]),_(null),D(null),R(null),U(""),fe(!1),n(Ie=>Ie&&{...Ie,mfaEnabled:ce.mfaEnabled}),A(e("profile.mfa.success.enabledSaveBackupCodes"))}catch(ce){console.error(ce),S((ce==null?void 0:ce.message)||e("profile.mfa.errors.confirmFailed"))}finally{P(!1)}}},le=async J=>{if(J.preventDefault(),!!t){if(!V&&!$){S(e("profile.mfa.errors.disableRequiresCode"));return}P(!0),S(null),A(null),d(null),h(null),g(null);try{const ce=await zz({code:V.trim()||void 0,backupCode:$.trim()||void 0});n(Ie=>Ie&&{...Ie,mfaEnabled:ce.mfaEnabled}),fe(!1),G(""),ae(""),Z([]),_(null),D(null),R(null),A(ce.message||e("profile.mfa.success.disabled"))}catch(ce){console.error(ce),S((ce==null?void 0:ce.message)||e("profile.mfa.errors.disableFailed"))}finally{P(!1)}}},Te=async()=>{if(K.length)try{await navigator.clipboard.writeText(K.join(`
`)),A(e("profile.mfa.success.backupCodesCopied"))}catch{S(e("profile.mfa.errors.backupCodesCopyFailed"))}},je=v.trim()?v.trim().split(/\s+/).slice(0,2).map(J=>J[0]).join("").toUpperCase():t!=null&&t.email?t.email[0].toUpperCase():"?",H=t?t.authProvider==="google"?e("profile.security.loginMethod.google"):t.hasPassword?e("profile.security.loginMethod.emailPassword"):e("profile.security.loginMethod.unknown"):e("profile.security.loginMethod.unknown");return r.jsxs("div",{children:[r.jsx("div",{className:"page-header",children:r.jsxs("div",{children:[r.jsx("h1",{children:e("profile.pageTitle")}),r.jsx("p",{className:"muted",children:e("profile.pageSubtitle")})]})}),u&&r.jsx("div",{className:"form-error",children:u}),p&&r.jsx("div",{className:"form-success",children:p}),f&&r.jsx("div",{className:"form-success",children:f}),N&&r.jsx("div",{className:"form-success",children:N}),a&&r.jsx("div",{className:"detail-main",style:{marginTop:"1rem"},children:r.jsx("p",{children:e("profile.loading")})}),!a&&t&&r.jsxs(r.Fragment,{children:[r.jsxs("section",{className:"detail-main",style:{marginTop:"1rem"},children:[r.jsxs("div",{className:"profile-header-row",children:[r.jsx("div",{className:"profile-avatar",children:b?r.jsx("img",{src:b,alt:e("profile.profile.avatarAlt")}):r.jsx("span",{className:"profile-avatar-initials",children:je})}),r.jsxs("div",{children:[r.jsx("h2",{style:{margin:0},children:e("profile.profile.title")}),r.jsx("p",{className:"muted",style:{marginTop:"0.25rem"},children:e("profile.profile.subtitle")})]})]}),r.jsxs("form",{className:"form",onSubmit:ne,children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("profile.profile.displayName.label")}),r.jsx("input",{type:"text",value:v,onChange:J=>y(J.target.value),placeholder:e("profile.profile.displayName.placeholder")})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("profile.profile.avatarUrl.label")}),r.jsx("input",{type:"url",value:b,onChange:J=>x(J.target.value),placeholder:e("profile.profile.avatarUrl.placeholder")}),r.jsx("span",{children:e("profile.profile.avatarUrl.help")})]}),r.jsx("div",{children:r.jsx("button",{className:"btn-primary",type:"submit",disabled:s,children:e(s?"profile.profile.actions.saving":"profile.profile.actions.save")})})]})]}),r.jsxs("section",{className:"detail-main",style:{marginTop:"1.5rem"},children:[r.jsx("h2",{children:e("profile.security.title")}),r.jsxs("div",{style:{marginTop:"0.7rem"},children:[r.jsxs("p",{className:"muted",children:[r.jsxs("strong",{children:[e("profile.security.emailLabel"),":"]})," ",t.email]}),r.jsxs("p",{className:"muted",children:[r.jsxs("strong",{children:[e("profile.security.loginMethodLabel"),":"]})," ",H]})]}),t.hasPassword?r.jsxs("form",{className:"form",style:{marginTop:"1rem"},onSubmit:ve,children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("profile.password.current.label")}),r.jsx("input",{type:"password",value:w,onChange:J=>j(J.target.value)})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("profile.password.new.label")}),r.jsx("input",{type:"password",value:C,onChange:J=>k(J.target.value)}),r.jsx("span",{children:e("profile.password.new.help")})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("profile.password.confirm.label")}),r.jsx("input",{type:"password",value:E,onChange:J=>O(J.target.value)})]}),r.jsx("div",{children:r.jsx("button",{className:"btn-secondary",type:"submit",disabled:l,children:e(l?"profile.password.actions.updating":"profile.password.actions.change")})})]}):r.jsxs("p",{className:"muted",style:{marginTop:"1rem"},children:[e("profile.security.googleOnlyNoteStrongPrefix")," ",r.jsx("strong",{children:e("profile.security.googleSignInStrong")}),"."," ",e("profile.security.googleOnlyNoteSuffix")]})]}),r.jsxs("section",{className:"detail-main",style:{marginTop:"1.5rem"},children:[r.jsx("h2",{children:e("profile.mfa.title")}),r.jsx("p",{className:"muted",style:{marginTop:"0.5rem"},children:e("profile.mfa.subtitle")}),T&&r.jsx("div",{className:"form-error",style:{marginTop:"0.75rem"},children:T}),r.jsx("div",{style:{marginTop:"1rem"},children:r.jsxs("p",{className:"muted",children:[r.jsxs("strong",{children:[e("profile.mfa.statusLabel"),":"]})," ",t.mfaEnabled?r.jsx("span",{className:"badge badge-success",children:e("profile.mfa.status.enabled")}):r.jsx("span",{className:"badge badge-muted",children:e("profile.mfa.status.disabled")})]})}),!t.mfaEnabled&&!L&&r.jsxs("div",{style:{marginTop:"1rem"},children:[r.jsx("p",{className:"muted",children:e("profile.mfa.recommendation")}),r.jsx("button",{className:"btn-secondary",type:"button",disabled:M,onClick:He,children:e(M?"profile.mfa.actions.preparing":"profile.mfa.actions.enable")})]}),!t.mfaEnabled&&L&&r.jsxs("div",{className:"mfa-setup-grid",style:{marginTop:"1.25rem",display:"grid",gap:"1.25rem"},children:[r.jsxs("div",{children:[r.jsx("h3",{style:{marginTop:0},children:e("profile.mfa.setup.step1Title")}),r.jsx("p",{className:"muted",children:e("profile.mfa.setup.step1Body")}),r.jsx("div",{style:{marginTop:"0.75rem",padding:"0.75rem",borderRadius:"0.75rem",border:"1px solid var(--border-subtle)",display:"inline-block",background:"var(--bg-subtle)"},children:I&&r.jsx(Yk,{value:I,width:160,height:160})}),F&&r.jsxs("div",{style:{marginTop:"0.75rem"},children:[r.jsx("p",{className:"muted",style:{marginBottom:"0.25rem"},children:e("profile.mfa.setup.manualSecretLabel")}),r.jsx("code",{style:{display:"inline-block",padding:"0.25rem 0.5rem",borderRadius:"0.5rem",background:"var(--bg-subtle)"},children:F})]})]}),r.jsxs("div",{children:[r.jsx("h3",{style:{marginTop:0},children:e("profile.mfa.setup.step2Title")}),r.jsx("p",{className:"muted",children:e("profile.mfa.setup.step2Body")}),r.jsxs("form",{className:"form",style:{marginTop:"0.75rem"},onSubmit:W,children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("profile.mfa.setup.codeLabel")}),r.jsx("input",{type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:6,value:z,onChange:J=>U(J.target.value),required:!0})]}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[r.jsx("button",{className:"btn-primary",type:"submit",disabled:M,children:e(M?"profile.mfa.actions.verifying":"profile.mfa.actions.confirmEnable")}),r.jsx("button",{type:"button",className:"btn-ghost",disabled:M,onClick:()=>{_(null),D(null),R(null),U(""),Z([])},children:e("profile.common.cancel")})]})]})]})]}),t.mfaEnabled&&r.jsxs("div",{style:{marginTop:"1.25rem"},children:[r.jsx("p",{className:"muted",children:e("profile.mfa.enabledNote")}),K.length>0&&r.jsxs("div",{className:"mfa-backup-codes",style:{marginTop:"1rem",padding:"1rem",borderRadius:"0.75rem",border:"1px dashed var(--border-subtle)",background:"var(--bg-subtle)"},children:[r.jsx("h3",{style:{marginTop:0},children:e("profile.mfa.backupCodes.title")}),r.jsx("p",{className:"muted",children:e("profile.mfa.backupCodes.body")}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"0.4rem",marginTop:"0.75rem"},children:K.map(J=>r.jsx("code",{style:{display:"inline-block",padding:"0.35rem 0.5rem",borderRadius:"0.5rem",textAlign:"center",background:"var(--bg-elevated)"},children:J},J))}),r.jsx("button",{type:"button",className:"btn-secondary",style:{marginTop:"0.75rem"},onClick:Te,children:e("profile.mfa.backupCodes.copyAll")})]}),r.jsx("div",{className:"mfa-disable",style:{marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid var(--border-subtle)"},children:oe?r.jsxs("form",{className:"form",style:{marginTop:"0.75rem"},onSubmit:le,children:[r.jsx("p",{className:"muted",children:e("profile.mfa.disable.confirmBody")}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("profile.mfa.disable.codeLabel")}),r.jsx("input",{type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:6,value:V,onChange:J=>G(J.target.value)})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("profile.mfa.disable.backupCodeLabel")}),r.jsx("input",{type:"text",value:$,onChange:J=>ae(J.target.value)})]}),r.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[r.jsx("button",{className:"btn-danger",type:"submit",disabled:M,children:e(M?"profile.mfa.actions.disabling":"profile.mfa.disable.confirm")}),r.jsx("button",{type:"button",className:"btn-ghost",disabled:M,onClick:()=>{fe(!1),G(""),ae("")},children:e("profile.common.cancel")})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"muted",children:e("profile.mfa.disable.intro")}),r.jsx("button",{type:"button",className:"btn-danger",onClick:()=>{fe(!0),G(""),ae(""),S(null),A(null)},children:e("profile.mfa.disable.open")})]})})]})]}),r.jsxs("section",{className:"detail-main",style:{marginTop:"1.5rem"},children:[r.jsx("h2",{children:e("profile.danger.title")}),r.jsx("p",{className:"muted",style:{marginTop:"0.5rem"},children:e("profile.danger.subtitle")}),t.hasPassword?r.jsxs("form",{className:"form",style:{marginTop:"1rem"},onSubmit:re,children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:e("profile.danger.passwordConfirm.label")}),r.jsx("input",{type:"password",value:Q,onChange:J=>ie(J.target.value)}),r.jsx("span",{children:e("profile.danger.passwordConfirm.help")})]}),r.jsx("div",{children:r.jsx("button",{className:"btn-danger",type:"submit",disabled:ye||!Q,children:e(ye?"profile.danger.actions.deleting":"profile.danger.actions.delete")})})]}):t.authProvider==="google"?r.jsxs("div",{style:{marginTop:"1rem"},children:[r.jsx("p",{className:"muted",children:e("profile.danger.googleNote")}),r.jsx("div",{style:{marginTop:"0.8rem"},children:r.jsx("div",{ref:X})}),ye&&r.jsx("p",{className:"muted",style:{marginTop:"0.5rem"},children:e("profile.danger.actions.deletingInline")})]}):r.jsx("div",{className:"alert-warning",style:{marginTop:"1rem"},children:e("profile.danger.unsupported")})]})]})]})};function Qk(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Qk(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Re(){for(var e,t,n=0,a="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Qk(e))&&(a&&(a+=" "),a+=t);return a}var Gz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function mv(e){if(typeof e!="string")return!1;var t=Gz;return t.includes(e)}var Yz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Qz=new Set(Yz);function Zk(e){return typeof e!="string"?!1:Qz.has(e)}function Xk(e){return typeof e=="string"&&e.startsWith("data-")}function ra(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Zk(n)||Xk(n))&&(t[n]=e[n]);return t}function pl(e){if(e==null)return null;if(m.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ra(t)}return typeof e=="object"&&!Array.isArray(e)?ra(e):null}function Zt(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Zk(n)||Xk(n)||mv(n))&&(t[n]=e[n]);return t}function Zz(e){return e==null?null:m.isValidElement(e)?Zt(e.props):typeof e=="object"&&!Array.isArray(e)?Zt(e):null}var Xz=["children","width","height","viewBox","className","style","title","desc"];function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},nf.apply(null,arguments)}function Jz(e,t){if(e==null)return{};var n,a,i=e_(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function e_(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var hv=m.forwardRef((e,t)=>{var{children:n,width:a,height:i,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=Jz(e,Xz),p=s||{width:a,height:i,x:0,y:0},h=Re("recharts-surface",o);return m.createElement("svg",nf({},Zt(d),{className:h,width:a,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),m.createElement("title",null,c),m.createElement("desc",null,u),n)}),t_=["children","className"];function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},af.apply(null,arguments)}function n_(e,t){if(e==null)return{};var n,a,i=a_(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a_(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Rn=m.forwardRef((e,t)=>{var{children:n,className:a}=e,i=n_(e,t_),s=Re("recharts-layer",a);return m.createElement("g",af({className:s},Zt(i),{ref:t}),n)}),Jk=m.createContext(null),r_=()=>m.useContext(Jk);function Ue(e){return function(){return e}}const eP=Math.cos,ju=Math.sin,la=Math.sqrt,Cu=Math.PI,Dd=2*Cu,rf=Math.PI,sf=2*rf,Ur=1e-6,i_=sf-Ur;function tP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function s_(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tP;const n=10**t;return function(a){this._+=a[0];for(let i=1,s=a.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+a[i]}}class o_{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tP:s_(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,i){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+i}`}bezierCurveTo(t,n,a,i,s,o){this._append`C${+t},${+n},${+a},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,a,i,s){if(t=+t,n=+n,a=+a,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=a-t,u=i-n,d=o-t,p=l-n,h=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Ur)if(!(Math.abs(p*c-u*d)>Ur)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let f=a-o,g=i-l,v=c*c+u*u,y=f*f+g*g,b=Math.sqrt(v),x=Math.sqrt(h),w=s*Math.tan((rf-Math.acos((v+h-y)/(2*b*x)))/2),j=w/x,C=w/b;Math.abs(j-1)>Ur&&this._append`L${t+j*d},${n+j*p}`,this._append`A${s},${s},0,0,${+(p*f>d*g)},${this._x1=t+C*c},${this._y1=n+C*u}`}}arc(t,n,a,i,s,o){if(t=+t,n=+n,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(i),c=a*Math.sin(i),u=t+l,d=n+c,p=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ur||Math.abs(this._y1-d)>Ur)&&this._append`L${u},${d}`,a&&(h<0&&(h=h%sf+sf),h>i_?this._append`A${a},${a},0,1,${p},${t-l},${n-c}A${a},${a},0,1,${p},${this._x1=u},${this._y1=d}`:h>Ur&&this._append`A${a},${a},0,${+(h>=rf)},${p},${this._x1=t+a*Math.cos(s)},${this._y1=n+a*Math.sin(s)}`)}rect(t,n,a,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+i}h${-a}Z`}toString(){return this._}}function fv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new o_(t)}function gv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nP(e){this._context=e}nP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Fd(e){return new nP(e)}function aP(e){return e[0]}function rP(e){return e[1]}function iP(e,t){var n=Ue(!0),a=null,i=Fd,s=null,o=fv(l);e=typeof e=="function"?e:e===void 0?aP:Ue(e),t=typeof t=="function"?t:t===void 0?rP:Ue(t);function l(c){var u,d=(c=gv(c)).length,p,h=!1,f;for(a==null&&(s=i(f=o())),u=0;u<=d;++u)!(u<d&&n(p=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(p,u,c),+t(p,u,c));if(f)return s=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ue(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ue(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ue(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,a!=null&&(s=i(a)),l):i},l.context=function(c){return arguments.length?(c==null?a=s=null:s=i(a=c),l):a},l}function ic(e,t,n){var a=null,i=Ue(!0),s=null,o=Fd,l=null,c=fv(u);e=typeof e=="function"?e:e===void 0?aP:Ue(+e),t=typeof t=="function"?t:Ue(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?rP:Ue(+n);function u(p){var h,f,g,v=(p=gv(p)).length,y,b=!1,x,w=new Array(v),j=new Array(v);for(s==null&&(l=o(x=c())),h=0;h<=v;++h){if(!(h<v&&i(y=p[h],h,p))===b)if(b=!b)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=f;--g)l.point(w[g],j[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(y,h,p),j[h]=+t(y,h,p),l.point(a?+a(y,h,p):w[h],n?+n(y,h,p):j[h]))}if(x)return l=null,x+""||null}function d(){return iP().defined(i).curve(o).context(s)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ue(+p),a=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ue(+p),u):e},u.x1=function(p){return arguments.length?(a=p==null?null:typeof p=="function"?p:Ue(+p),u):a},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:Ue(+p),n=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Ue(+p),u):t},u.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ue(+p),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(a).y(t)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ue(!!p),u):i},u.curve=function(p){return arguments.length?(o=p,s!=null&&(l=o(s)),u):o},u.context=function(p){return arguments.length?(p==null?s=l=null:l=o(s=p),u):s},u}class sP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function l_(e){return new sP(e,!0)}function c_(e){return new sP(e,!1)}const vv={draw(e,t){const n=la(t/Cu);e.moveTo(n,0),e.arc(0,0,n,0,Dd)}},u_={draw(e,t){const n=la(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},oP=la(1/3),d_=oP*2,p_={draw(e,t){const n=la(t/d_),a=n*oP;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},m_={draw(e,t){const n=la(t),a=-n/2;e.rect(a,a,n,n)}},h_=.8908130915292852,lP=ju(Cu/10)/ju(7*Cu/10),f_=ju(Dd/10)*lP,g_=-eP(Dd/10)*lP,v_={draw(e,t){const n=la(t*h_),a=f_*n,i=g_*n;e.moveTo(0,-n),e.lineTo(a,i);for(let s=1;s<5;++s){const o=Dd*s/5,l=eP(o),c=ju(o);e.lineTo(c*n,-l*n),e.lineTo(l*a-c*i,c*a+l*i)}e.closePath()}},jm=la(3),b_={draw(e,t){const n=-la(t/(jm*3));e.moveTo(0,n*2),e.lineTo(-jm*n,-n),e.lineTo(jm*n,-n),e.closePath()}},Pn=-.5,An=la(3)/2,of=1/la(12),y_=(of/2+1)*3,x_={draw(e,t){const n=la(t/y_),a=n/2,i=n*of,s=a,o=n*of+n,l=-s,c=o;e.moveTo(a,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Pn*a-An*i,An*a+Pn*i),e.lineTo(Pn*s-An*o,An*s+Pn*o),e.lineTo(Pn*l-An*c,An*l+Pn*c),e.lineTo(Pn*a+An*i,Pn*i-An*a),e.lineTo(Pn*s+An*o,Pn*o-An*s),e.lineTo(Pn*l+An*c,Pn*c-An*l),e.closePath()}};function w_(e,t){let n=null,a=fv(i);e=typeof e=="function"?e:Ue(e||vv),t=typeof t=="function"?t:Ue(t===void 0?64:+t);function i(){let s;if(n||(n=s=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ue(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ue(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Su(){}function Nu(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function cP(e){this._context=e}cP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j_(e){return new cP(e)}function uP(e){this._context=e}uP.prototype={areaStart:Su,areaEnd:Su,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C_(e){return new uP(e)}function dP(e){this._context=e}dP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:Nu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S_(e){return new dP(e)}function pP(e){this._context=e}pP.prototype={areaStart:Su,areaEnd:Su,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function N_(e){return new pP(e)}function ew(e){return e<0?-1:1}function tw(e,t,n){var a=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(a||i<0&&-0),o=(n-e._y1)/(i||a<0&&-0),l=(s*i+o*a)/(a+i);return(ew(s)+ew(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function nw(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Cm(e,t,n){var a=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-a)/3;e._context.bezierCurveTo(a+l,i+l*t,s-l,o-l*n,s,o)}function ku(e){this._context=e}ku.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cm(this,this._t0,nw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Cm(this,nw(this,n=tw(this,e,t)),n);break;default:Cm(this,this._t0,n=tw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function mP(e){this._context=new hP(e)}(mP.prototype=Object.create(ku.prototype)).point=function(e,t){ku.prototype.point.call(this,t,e)};function hP(e){this._context=e}hP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,i,s){this._context.bezierCurveTo(t,e,a,n,s,i)}};function k_(e){return new ku(e)}function P_(e){return new mP(e)}function fP(e){this._context=e}fP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var a=aw(e),i=aw(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(a[0][s],i[0][s],a[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function aw(e){var t,n=e.length-1,a,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)a=i[t]/s[t-1],s[t]-=a,o[t]-=a*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function A_(e){return new fP(e)}function zd(e,t){this._context=e,this._t=t}zd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function E_(e){return new zd(e,.5)}function T_(e){return new zd(e,0)}function I_(e){return new zd(e,1)}function us(e,t){if((o=e.length)>1)for(var n=1,a,i,s=e[t[0]],o,l=s.length;n<o;++n)for(i=s,s=e[t[n]],a=0;a<l;++a)s[a][1]+=s[a][0]=isNaN(i[a][1])?i[a][0]:i[a][1]}function lf(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function O_(e,t){return e[t]}function M_(e){const t=[];return t.key=e,t}function L_(){var e=Ue([]),t=lf,n=us,a=O_;function i(s){var o=Array.from(e.apply(this,arguments),M_),l,c=o.length,u=-1,d;for(const p of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+a(p,o[l].key,u,s)]).data=p;for(l=0,d=gv(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ue(Array.from(s)),i):e},i.value=function(s){return arguments.length?(a=typeof s=="function"?s:Ue(+s),i):a},i.order=function(s){return arguments.length?(t=s==null?lf:typeof s=="function"?s:Ue(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??us,i):n},i}function D_(e,t){if((a=e.length)>0){for(var n,a,i=0,s=e[0].length,o;i<s;++i){for(o=n=0;n<a;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<a;++n)e[n][i][1]/=o}us(e,t)}}function F_(e,t){if((i=e.length)>0){for(var n=0,a=e[t[0]],i,s=a.length;n<s;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;a[n][1]+=a[n][0]=-l/2}us(e,t)}}function z_(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,a=1,i,s,o;a<s;++a){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],p=d[a][1]||0,h=d[a-1][1]||0,f=(p-h)/2,g=0;g<l;++g){var v=e[t[g]],y=v[a][1]||0,b=v[a-1][1]||0;f+=y-b}c+=p,u+=f*p}i[a-1][1]+=i[a-1][0]=n,c&&(n-=u/c)}i[a-1][1]+=i[a-1][0]=n,us(e,t)}}var _d={},gP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(gP);var bv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(bv);var Rd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;return typeof n=="string"||typeof n=="symbol"?n:Object.is((a=n==null?void 0:n.valueOf)==null?void 0:a.call(n),-0)?"-0":String(n)}e.toKey=t})(Rd);var Bd={},vP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const a=String(n);return a==="0"&&Object.is(Number(n),-0)?"-0":a}e.toString=t})(vP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP,n=Rd;function a(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],o=i.length;if(o===0)return s;let l=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<o;){const p=i[l];u?p==="\\"&&l+1<o?(l++,c+=i[l]):p===u?u="":c+=p:d?p==='"'||p==="'"?u=p:p==="]"?(d=!1,s.push(c),c=""):c+=p:p==="["?(d=!0,c&&(s.push(c),c="")):p==="."?c&&(s.push(c),c=""):c+=p,l++}return c&&s.push(c),s}e.toPath=a})(Bd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gP,n=bv,a=Rd,i=Bd;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?n.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=a.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let p=0;p<c.length;p++){if(d==null||t.isUnsafeProperty(c[p]))return u;d=d[c[p]]}return d===void 0?u:d}e.get=s})(_d);var __=_d.get;const ds=wa(__);var ln=e=>e===0?0:e>0?1:-1,ia=e=>typeof e=="number"&&e!=+e,$a=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ge=e=>(typeof e=="number"||e instanceof Number)&&!ia(e),ba=e=>ge(e)||typeof e=="string",R_=0,qo=e=>{var t=++R_;return"".concat(e||"").concat(t)},sa=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&typeof t!="string")return a;var s;if($a(t)){if(n==null)return a;var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return ia(s)&&(s=a),i&&n!=null&&s>n&&(s=n),s},bP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},a=0;a<t;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1};function it(e,t,n){return ge(e)&&ge(t)?e+n*(t-e):t}function yP(e,t,n){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):ds(a,t))===n)}var Xe=e=>e===null||typeof e>"u",ml=e=>Xe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function B_(e){return e!=null}function hl(){}var $_=["type","size","sizeType"];function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cf.apply(null,arguments)}function rw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function iw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(n),!0).forEach(function(a){U_(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rw(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function U_(e,t,n){return(t=W_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W_(e){var t=H_(e,"string");return typeof t=="symbol"?t:t+""}function H_(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q_(e,t){if(e==null)return{};var n,a,i=K_(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function K_(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var xP={symbolCircle:vv,symbolCross:u_,symbolDiamond:p_,symbolSquare:m_,symbolStar:v_,symbolTriangle:b_,symbolWye:x_},V_=Math.PI/180,G_=e=>{var t="symbol".concat(ml(e));return xP[t]||vv},Y_=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*V_;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Q_=(e,t)=>{xP["symbol".concat(ml(e))]=t},yv=e=>{var{type:t="circle",size:n=64,sizeType:a="area"}=e,i=q_(e,$_),s=iw(iw({},i),{},{type:t,size:n,sizeType:a}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=G_(o),f=w_().type(h).size(Y_(n,a,o)),g=f();if(g!==null)return g},{className:c,cx:u,cy:d}=s,p=Zt(s);return ge(u)&&ge(d)&&ge(n)?m.createElement("path",cf({},p,{className:Re("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};yv.registerSymbol=Q_;var wP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,xv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(m.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{mv(i)&&(a[i]=s=>n[i](n,s))}),a},Z_=(e,t,n)=>a=>(e(t,n,a),null),$d=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(i=>{var s=e[i];mv(i)&&typeof s=="function"&&(a||(a={}),a[i]=Z_(s,t,n))}),a};function sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function X_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(n),!0).forEach(function(a){J_(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sw(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function J_(e,t,n){return(t=e2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e2(e){var t=t2(e,"string");return typeof t=="symbol"?t:t+""}function t2(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zt(e,t){var n=X_({},e),a=t,i=Object.keys(t),s=i.reduce((o,l)=>(o[l]===void 0&&a[l]!==void 0&&(o[l]=a[l]),o),n);return s}function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pu.apply(null,arguments)}function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function n2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ow(Object(n),!0).forEach(function(a){a2(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function a2(e,t,n){return(t=r2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r2(e){var t=i2(e,"string");return typeof t=="symbol"?t:t+""}function i2(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tn=32,s2={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function o2(e){var{data:t,iconType:n,inactiveColor:a}=e,i=Tn/2,s=Tn/6,o=Tn/3,l=t.inactive?a:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline"){var u;return m.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Tn,y2:i,className:"recharts-legend-icon"})}if(c==="line")return m.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Tn,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return m.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Tn/8,"h").concat(Tn,"v").concat(Tn*3/4,"h").concat(-Tn,"z"),className:"recharts-legend-icon"});if(m.isValidElement(t.legendIcon)){var d=n2({},t);return delete d.legendIcon,m.cloneElement(t.legendIcon,d)}return m.createElement(yv,{fill:l,cx:i,cy:i,size:Tn,sizeType:"diameter",type:c})}function l2(e){var{payload:t,iconSize:n,layout:a,formatter:i,inactiveColor:s,iconType:o}=e,l={x:0,y:0,width:Tn,height:Tn},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,p)=>{var h=d.formatter||i,f=Re({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?s:d.color,v=h?h(d.value,d,p):d.value;return m.createElement("li",Pu({className:f,style:c,key:"legend-item-".concat(p)},$d(e,d,p)),m.createElement(hv,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(v," legend icon")},m.createElement(o2,{data:d,iconType:o,inactiveColor:s})),m.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},v))})}var c2=e=>{var t=zt(e,s2),{payload:n,layout:a,align:i}=t;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?i:"left"};return m.createElement("ul",{className:"recharts-default-legend",style:s},m.createElement(l2,Pu({},t,{payload:n})))},jP={},CP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a){const i=new Map;for(let s=0;s<n.length;s++){const o=n[s],l=a(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(CP);var wv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(wv);var SP={},Ud={},NP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(NP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NP;function n(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=n})(Ud);var kP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(kP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ud,n=kP;function a(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=a})(SP);var PP={},AP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_d;function n(a){return function(i){return t.get(i,a)}}e.property=n})(AP);var EP={},jv={},TP={},Cv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Cv);var Sv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Sv);var Nv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a){return n===a||Number.isNaN(n)&&Number.isNaN(a)}e.eq=t})(Nv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cv,n=Sv,a=Nv;function i(d,p,h){return typeof h!="function"?i(d,p,()=>{}):s(d,p,function f(g,v,y,b,x,w){const j=h(g,v,y,b,x,w);return j!==void 0?!!j:s(g,v,f,w)},new Map)}function s(d,p,h,f){if(p===d)return!0;switch(typeof p){case"object":return o(d,p,h,f);case"function":return Object.keys(p).length>0?s(d,{...p},h,f):a.eq(d,p);default:return t.isObject(d)?typeof p=="string"?p==="":!0:a.eq(d,p)}}function o(d,p,h,f){if(p==null)return!0;if(Array.isArray(p))return c(d,p,h,f);if(p instanceof Map)return l(d,p,h,f);if(p instanceof Set)return u(d,p,h,f);const g=Object.keys(p);if(d==null)return g.length===0;if(g.length===0)return!0;if(f!=null&&f.has(p))return f.get(p)===d;f==null||f.set(p,d);try{for(let v=0;v<g.length;v++){const y=g[v];if(!n.isPrimitive(d)&&!(y in d)||p[y]===void 0&&d[y]!==void 0||p[y]===null&&d[y]!==null||!h(d[y],p[y],y,d,p,f))return!1}return!0}finally{f==null||f.delete(p)}}function l(d,p,h,f){if(p.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,v]of p.entries()){const y=d.get(g);if(h(y,v,g,d,p,f)===!1)return!1}return!0}function c(d,p,h,f){if(p.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let v=0;v<p.length;v++){const y=p[v];let b=!1;for(let x=0;x<d.length;x++){if(g.has(x))continue;const w=d[x];let j=!1;if(h(w,y,v,d,p,f)&&(j=!0),j){g.add(x),b=!0;break}}if(!b)return!1}return!0}function u(d,p,h,f){return p.size===0?!0:d instanceof Set?c([...d],[...p],h,f):!1}e.isMatchWith=i,e.isSetMatch=u})(TP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TP;function n(a,i){return t.isMatchWith(a,i,()=>{})}e.isMatch=n})(jv);var IP={},kv={},OP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(a=>Object.prototype.propertyIsEnumerable.call(n,a))}e.getSymbols=t})(OP);var Pv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Pv);var Av={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",a="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",p="[object Function]",h="[object ArrayBuffer]",f="[object Object]",g="[object Error]",v="[object DataView]",y="[object Uint8Array]",b="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",C="[object Int8Array]",k="[object Int16Array]",E="[object Int32Array]",O="[object BigInt64Array]",M="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=v,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=M,e.float64ArrayTag=P,e.functionTag=p,e.int16ArrayTag=k,e.int32ArrayTag=E,e.int8ArrayTag=C,e.mapTag=c,e.numberTag=a,e.objectTag=f,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=b})(Av);var MP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(MP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OP,n=Pv,a=Av,i=Sv,s=MP;function o(d,p){return l(d,void 0,d,new Map,p)}function l(d,p,h,f=new Map,g=void 0){const v=g==null?void 0:g(d,p,h,f);if(v!==void 0)return v;if(i.isPrimitive(d))return d;if(f.has(d))return f.get(d);if(Array.isArray(d)){const y=new Array(d.length);f.set(d,y);for(let b=0;b<d.length;b++)y[b]=l(d[b],b,h,f,g);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;f.set(d,y);for(const[b,x]of d)y.set(b,l(x,b,h,f,g));return y}if(d instanceof Set){const y=new Set;f.set(d,y);for(const b of d)y.add(l(b,void 0,h,f,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);f.set(d,y);for(let b=0;b<d.length;b++)y[b]=l(d[b],b,h,f,g);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return f.set(d,y),c(y,d,h,f,g),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return f.set(d,y),c(y,d,h,f,g),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return f.set(d,y),c(y,d,h,f,g),y}if(d instanceof Error){const y=new d.constructor;return f.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,h,f,g),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return f.set(d,y),c(y,d,h,f,g),y}if(d instanceof Number){const y=new Number(d.valueOf());return f.set(d,y),c(y,d,h,f,g),y}if(d instanceof String){const y=new String(d.valueOf());return f.set(d,y),c(y,d,h,f,g),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return f.set(d,y),c(y,d,h,f,g),y}return d}function c(d,p,h=d,f,g){const v=[...Object.keys(p),...t.getSymbols(p)];for(let y=0;y<v.length;y++){const b=v[y],x=Object.getOwnPropertyDescriptor(d,b);(x==null||x.writable)&&(d[b]=l(p[b],b,h,f,g))}}function u(d){switch(n.getTag(d)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(kv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kv;function n(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=n})(IP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jv,n=IP;function a(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=a})(EP);var LP={},DP={},FP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kv,n=Av;function a(i,s){return t.cloneDeepWith(i,(o,l,c,u)=>{const d=s==null?void 0:s(o,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=a})(FP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FP;function n(a){return t.cloneDeepWith(a)}e.cloneDeep=n})(DP);var zP={},Ev={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(a,i=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<i;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=n})(Ev);var _P={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pv;function n(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=n})(_P);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bv,n=Ev,a=_P,i=Bd;function s(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const p=c[d];if((u==null||!Object.hasOwn(u,p))&&!((Array.isArray(u)||a.isArguments(u))&&n.isIndex(p)&&p<u.length))return!1;u=u[p]}return!0}e.has=s})(zP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jv,n=Rd,a=DP,i=_d,s=zP;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=a.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(LP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wv,n=AP,a=EP,i=LP;function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):a.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=s})(PP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CP,n=wv,a=SP,i=PP;function s(o,l=n.identity){return a.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=s})(jP);var u2=jP.uniqBy;const lw=wa(u2);function RP(e,t,n){return t===!0?lw(e,n):typeof t=="function"?lw(e,t):e}var BP={exports:{}},$P={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd=m,d2=mk;function p2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var m2=typeof Object.is=="function"?Object.is:p2,h2=d2.useSyncExternalStore,f2=Wd.useRef,g2=Wd.useEffect,v2=Wd.useMemo,b2=Wd.useDebugValue;$P.useSyncExternalStoreWithSelector=function(e,t,n,a,i){var s=f2(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=v2(function(){function c(f){if(!u){if(u=!0,d=f,f=a(f),i!==void 0&&o.hasValue){var g=o.value;if(i(g,f))return p=g}return p=f}if(g=p,m2(d,f))return g;var v=a(f);return i!==void 0&&i(g,v)?(d=f,g):(d=f,p=v)}var u=!1,d,p,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,a,i]);var l=h2(e,s[0],s[1]);return g2(function(){o.hasValue=!0,o.value=l},[l]),b2(l),l};BP.exports=$P;var y2=BP.exports,Tv=m.createContext(null),x2=e=>e,nt=()=>{var e=m.useContext(Tv);return e?e.store.dispatch:x2},$c=()=>{},w2=()=>$c,j2=(e,t)=>e===t;function be(e){var t=m.useContext(Tv);return y2.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:w2,t?t.store.getState:$c,t?t.store.getState:$c,t?e:$c,j2)}function C2(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function S2(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function N2(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${n}]`)}}var cw=e=>Array.isArray(e)?e:[e];function k2(e){const t=Array.isArray(e[0])?e[0]:e;return N2(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function P2(e,t){const n=[],{length:a}=e;for(let i=0;i<a;i++)n.push(e[i].apply(null,t));return n}var A2=class{constructor(e){this.value=e}deref(){return this.value}},E2=typeof WeakRef<"u"?WeakRef:A2,T2=0,uw=1;function sc(){return{s:T2,v:void 0,o:null,p:null}}function UP(e,t={}){let n=sc();const{resultEqualityCheck:a}=t;let i,s=0;function o(){var p;let l=n;const{length:c}=arguments;for(let h=0,f=c;h<f;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const y=v.get(g);y===void 0?(l=sc(),v.set(g,l)):l=y}else{let v=l.p;v===null&&(l.p=v=new Map);const y=v.get(g);y===void 0?(l=sc(),v.set(g,l)):l=y}}const u=l;let d;if(l.s===uw)d=l.v;else if(d=e.apply(null,arguments),s++,a){const h=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;h!=null&&a(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new E2(d):d}return u.s=uw,u.v=d,d}return o.clearCache=()=>{n=sc(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function I2(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...i)=>{let s=0,o=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),C2(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:p,memoizeOptions:h=[],argsMemoize:f=UP,argsMemoizeOptions:g=[]}=d,v=cw(h),y=cw(g),b=k2(i),x=p(function(){return s++,u.apply(null,arguments)},...v),w=f(function(){o++;const C=P2(b,arguments);return l=x.apply(null,C),l},...y);return Object.assign(w,{resultFunc:u,memoizedResultFunc:x,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:f})};return Object.assign(a,{withTypes:()=>a}),a}var q=I2(UP),O2=Object.assign((e,t=q)=>{S2(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),a=n.map(s=>e[s]);return t(a,(...s)=>s.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>O2}),WP={},HP={},qP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const n=(a,i,s)=>{if(a!==i){const o=t(a),l=t(i);if(o===l&&o===0){if(a<i)return s==="desc"?1:-1;if(a>i)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};e.compareValues=n})(qP);var KP={},Iv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Iv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(a.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=i})(KP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qP,n=KP,a=Bd;function i(s,o,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(f=>String(f));const u=(f,g)=>{let v=f;for(let y=0;y<g.length&&v!=null;++y)v=v[g[y]];return v},d=(f,g)=>g==null||f==null?g:typeof f=="object"&&"key"in f?Object.hasOwn(g,f.key)?g[f.key]:u(g,f.path):typeof f=="function"?f(g):Array.isArray(f)?u(g,f):typeof g=="object"?g[f]:g,p=o.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||n.isKey(f)?f:{key:f,path:a.toPath(f)}));return s.map(f=>({original:f,criteria:p.map(g=>d(g,f))})).slice().sort((f,g)=>{for(let v=0;v<p.length;v++){const y=t.compareValues(f.criteria[v],g.criteria[v],l[v]);if(y!==0)return y}return 0}).map(f=>f.original)}e.orderBy=i})(HP);var VP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a=1){const i=[],s=Math.floor(a),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?o(d,c+1):i.push(d)}};return o(n,0),i}e.flatten=t})(VP);var Ov={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ev,n=Ud,a=Cv,i=Nv;function s(o,l,c){return a.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],o):!1}e.isIterateeCall=s})(Ov);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HP,n=VP,a=Ov;function i(s,...o){const l=o.length;return l>1&&a.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&a.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,n.flatten(o),["asc"])}e.sortBy=i})(WP);var M2=WP.sortBy;const Hd=wa(M2);var GP=e=>e.legend.settings,L2=e=>e.legend.size,D2=e=>e.legend.payload,F2=q([D2,GP],(e,t)=>{var{itemSorter:n}=t,a=e.flat(1);return n?Hd(a,n):a});function z2(){return be(F2)}var oc=1;function YP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=m.useState({height:0,left:0,top:0,width:0}),a=m.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>oc||Math.abs(o.left-t.left)>oc||Math.abs(o.top-t.top)>oc||Math.abs(o.width-t.width)>oc)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function It(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _2=typeof Symbol=="function"&&Symbol.observable||"@@observable",dw=_2,Sm=()=>Math.random().toString(36).substring(7).split("").join("."),R2={INIT:`@@redux/INIT${Sm()}`,REPLACE:`@@redux/REPLACE${Sm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sm()}`},Au=R2;function Mv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QP(e,t,n){if(typeof e!="function")throw new Error(It(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(It(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(It(1));return n(QP)(e,t)}let a=e,i=t,s=new Map,o=s,l=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((y,b)=>{o.set(b,y)}))}function d(){if(c)throw new Error(It(3));return i}function p(y){if(typeof y!="function")throw new Error(It(4));if(c)throw new Error(It(5));let b=!0;u();const x=l++;return o.set(x,y),function(){if(b){if(c)throw new Error(It(6));b=!1,u(),o.delete(x),s=null}}}function h(y){if(!Mv(y))throw new Error(It(7));if(typeof y.type>"u")throw new Error(It(8));if(typeof y.type!="string")throw new Error(It(17));if(c)throw new Error(It(9));try{c=!0,i=a(i,y)}finally{c=!1}return(s=o).forEach(x=>{x()}),y}function f(y){if(typeof y!="function")throw new Error(It(10));a=y,h({type:Au.REPLACE})}function g(){const y=p;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(It(11));function x(){const j=b;j.next&&j.next(d())}return x(),{unsubscribe:y(x)}},[dw](){return this}}}return h({type:Au.INIT}),{dispatch:h,subscribe:p,getState:d,replaceReducer:f,[dw]:g}}function B2(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Au.INIT})>"u")throw new Error(It(12));if(typeof n(void 0,{type:Au.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(It(13))})}function ZP(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const a=Object.keys(n);let i;try{B2(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<a.length;d++){const p=a[d],h=n[p],f=o[p],g=h(f,l);if(typeof g>"u")throw l&&l.type,new Error(It(14));u[p]=g,c=c||g!==f}return c=c||a.length!==Object.keys(o).length,c?u:o}}function Eu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...a)=>t(n(...a)))}function $2(...e){return t=>(n,a)=>{const i=t(n,a);let s=()=>{throw new Error(It(15))};const o={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(o));return s=Eu(...l)(i.dispatch),{...i,dispatch:s}}}function XP(e){return Mv(e)&&"type"in e&&typeof e.type=="string"}var JP=Symbol.for("immer-nothing"),pw=Symbol.for("immer-draftable"),Xt=Symbol.for("immer-state");function Qn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xn=Object,ps=xn.getPrototypeOf,Tu="constructor",qd="prototype",uf="configurable",Iu="enumerable",Uc="writable",Ko="value",Ua=e=>!!e&&!!e[Xt];function oa(e){var t;return e?eA(e)||Kd(e)||!!e[pw]||!!((t=e[Tu])!=null&&t[pw])||Vd(e)||Gd(e):!1}var U2=xn[qd][Tu].toString(),mw=new WeakMap;function eA(e){if(!e||!Lv(e))return!1;const t=ps(e);if(t===null||t===xn[qd])return!0;const n=xn.hasOwnProperty.call(t,Tu)&&t[Tu];if(n===Object)return!0;if(!Ei(n))return!1;let a=mw.get(n);return a===void 0&&(a=Function.toString.call(n),mw.set(n,a)),a===U2}function fl(e,t,n=!0){gl(e)===0?(n?Reflect.ownKeys(e):xn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((a,i)=>t(i,a,e))}function gl(e){const t=e[Xt];return t?t.type_:Kd(e)?1:Vd(e)?2:Gd(e)?3:0}var hw=(e,t,n=gl(e))=>n===2?e.has(t):xn[qd].hasOwnProperty.call(e,t),df=(e,t,n=gl(e))=>n===2?e.get(t):e[t],Ou=(e,t,n,a=gl(e))=>{a===2?e.set(t,n):a===3?e.add(n):e[t]=n};function W2(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Kd=Array.isArray,Vd=e=>e instanceof Map,Gd=e=>e instanceof Set,Lv=e=>typeof e=="object",Ei=e=>typeof e=="function",Nm=e=>typeof e=="boolean",ka=e=>e.copy_||e.base_,Dv=e=>e.modified_?e.copy_:e.base_;function pf(e,t){if(Vd(e))return new Map(e);if(Gd(e))return new Set(e);if(Kd(e))return Array[qd].slice.call(e);const n=eA(e);if(t===!0||t==="class_only"&&!n){const a=xn.getOwnPropertyDescriptors(e);delete a[Xt];let i=Reflect.ownKeys(a);for(let s=0;s<i.length;s++){const o=i[s],l=a[o];l[Uc]===!1&&(l[Uc]=!0,l[uf]=!0),(l.get||l.set)&&(a[o]={[uf]:!0,[Uc]:!0,[Iu]:l[Iu],[Ko]:e[o]})}return xn.create(ps(e),a)}else{const a=ps(e);if(a!==null&&n)return{...e};const i=xn.create(a);return xn.assign(i,e)}}function Fv(e,t=!1){return Yd(e)||Ua(e)||!oa(e)||(gl(e)>1&&xn.defineProperties(e,{set:lc,add:lc,clear:lc,delete:lc}),xn.freeze(e),t&&fl(e,(n,a)=>{Fv(a,!0)},!1)),e}function H2(){Qn(2)}var lc={[Ko]:H2};function Yd(e){return e===null||!Lv(e)?!0:xn.isFrozen(e)}var Mu="MapSet",mf="Patches",tA={};function ms(e){const t=tA[e];return t||Qn(0,e),t}var q2=e=>!!tA[e],Vo,nA=()=>Vo,K2=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:q2(Mu)?ms(Mu):void 0});function fw(e,t){t&&(e.patchPlugin_=ms(mf),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hf(e){ff(e),e.drafts_.forEach(V2),e.drafts_=null}function ff(e){e===Vo&&(Vo=e.parent_)}var gw=e=>Vo=K2(Vo,e);function V2(e){const t=e[Xt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function vw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Xt].modified_&&(hf(t),Qn(4)),oa(e)&&(e=bw(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Xt].base_,e,t)}else e=bw(t,n);return G2(t,e,!0),hf(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==JP?e:void 0}function bw(e,t){if(Yd(t))return t;const n=t[Xt];if(!n)return zv(t,e.handledSet_,e);if(!Qd(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:a}=n;if(a)for(;a.length>0;)a.pop()(e);iA(n,e)}return n.copy_}function G2(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fv(t,n)}function aA(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Qd=(e,t)=>e.scope_===t,Y2=[];function rA(e,t,n,a){const i=ka(e),s=e.type_;if(a!==void 0&&df(i,a,s)===t){Ou(i,a,n,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;fl(i,(c,u)=>{if(Ua(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const o=e.draftLocations_.get(t)??Y2;for(const l of o)Ou(i,l,n,s)}function Q2(e,t,n){e.callbacks_.push(function(i){var l;const s=t;if(!s||!Qd(s,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(s);const o=Dv(s);rA(e,s.draft_??s,o,n),iA(s,i)})}function iA(e,t){var a;if(e.modified_&&!e.finalized_&&(e.type_===3||(((a=e.assigned_)==null?void 0:a.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const s=i.getPath(e);s&&i.generatePatches_(e,s,t)}aA(e)}}function Z2(e,t,n){const{scope_:a}=e;if(Ua(n)){const i=n[Xt];Qd(i,a)&&i.callbacks_.push(function(){Wc(e);const o=Dv(i);rA(e,n,o,t)})}else oa(n)&&e.callbacks_.push(function(){const s=ka(e);df(s,t,e.type_)===n&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&zv(df(e.copy_,t,e.type_),a.handledSet_,a)})}function zv(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ua(e)||t.has(e)||!oa(e)||Yd(e)||(t.add(e),fl(e,(a,i)=>{if(Ua(i)){const s=i[Xt];if(Qd(s,n)){const o=Dv(s);Ou(e,a,o,e.type_),aA(s)}}else oa(i)&&zv(i,t,n)})),e}function X2(e,t){const n=Kd(e),a={type_:n?1:0,scope_:t?t.scope_:nA(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=a,s=_v;n&&(i=[a],s=Go);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return a.draft_=l,a.revoke_=o,[l,a]}var _v={get(e,t){if(t===Xt)return e;const n=ka(e);if(!hw(n,t,e.type_))return J2(e,n,t);const a=n[t];if(e.finalized_||!oa(a))return a;if(a===km(e.base_,t)){Wc(e);const i=e.type_===1?+t:t,s=vf(e.scope_,a,e,i);return e.copy_[i]=s}return a},has(e,t){return t in ka(e)},ownKeys(e){return Reflect.ownKeys(ka(e))},set(e,t,n){const a=sA(ka(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,n),!0;if(!e.modified_){const i=km(ka(e),t),s=i==null?void 0:i[Xt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(W2(n,i)&&(n!==void 0||hw(e.base_,t,e.type_)))return!0;Wc(e),gf(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Z2(e,t,n)),!0},deleteProperty(e,t){return Wc(e),km(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),gf(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ka(e),a=Reflect.getOwnPropertyDescriptor(n,t);return a&&{[Uc]:!0,[uf]:e.type_!==1||t!=="length",[Iu]:a[Iu],[Ko]:n[t]}},defineProperty(){Qn(11)},getPrototypeOf(e){return ps(e.base_)},setPrototypeOf(){Qn(12)}},Go={};fl(_v,(e,t)=>{Go[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Go.deleteProperty=function(e,t){return Go.set.call(this,e,t,void 0)};Go.set=function(e,t,n){return _v.set.call(this,e[0],t,n,e[0])};function km(e,t){const n=e[Xt];return(n?ka(n):e)[t]}function J2(e,t,n){var i;const a=sA(t,n);return a?Ko in a?a[Ko]:(i=a.get)==null?void 0:i.call(e.draft_):void 0}function sA(e,t){if(!(t in e))return;let n=ps(e);for(;n;){const a=Object.getOwnPropertyDescriptor(n,t);if(a)return a;n=ps(n)}}function gf(e){e.modified_||(e.modified_=!0,e.parent_&&gf(e.parent_))}function Wc(e){e.copy_||(e.assigned_=new Map,e.copy_=pf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var eR=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,a,i)=>{if(Ei(n)&&!Ei(a)){const o=a;a=n;const l=this;return function(u=o,...d){return l.produce(u,p=>a.call(this,p,...d))}}Ei(a)||Qn(6),i!==void 0&&!Ei(i)&&Qn(7);let s;if(oa(n)){const o=gw(this),l=vf(o,n,void 0);let c=!0;try{s=a(l),c=!1}finally{c?hf(o):ff(o)}return fw(o,i),vw(s,o)}else if(!n||!Lv(n)){if(s=a(n),s===void 0&&(s=n),s===JP&&(s=void 0),this.autoFreeze_&&Fv(s,!0),i){const o=[],l=[];ms(mf).generateReplacementPatches_(n,s,{patches_:o,inversePatches_:l}),i(o,l)}return s}else Qn(1,n)},this.produceWithPatches=(n,a)=>{if(Ei(n))return(l,...c)=>this.produceWithPatches(l,u=>n(u,...c));let i,s;return[this.produce(n,a,(l,c)=>{i=l,s=c}),i,s]},Nm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Nm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Nm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){oa(t)||Qn(8),Ua(t)&&(t=ta(t));const n=gw(this),a=vf(n,t,void 0);return a[Xt].isManual_=!0,ff(n),a}finishDraft(t,n){const a=t&&t[Xt];(!a||!a.isManual_)&&Qn(9);const{scope_:i}=a;return fw(i,n),vw(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let a;for(a=n.length-1;a>=0;a--){const s=n[a];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}a>-1&&(n=n.slice(a+1));const i=ms(mf).applyPatches_;return Ua(t)?i(t,n):this.produce(t,s=>i(s,n))}};function vf(e,t,n,a){const[i,s]=Vd(t)?ms(Mu).proxyMap_(t,n):Gd(t)?ms(Mu).proxySet_(t,n):X2(t,n);return((n==null?void 0:n.scope_)??nA()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=a,n&&a!==void 0?Q2(n,s,a):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),i}function ta(e){return Ua(e)||Qn(10,e),oA(e)}function oA(e){if(!oa(e)||Yd(e))return e;const t=e[Xt];let n,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=pf(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else n=pf(e,!0);return fl(n,(i,s)=>{Ou(n,i,oA(s))},a),t&&(t.finalized_=!1),n}var tR=new eR,lA=tR.produce;function cA(e){return({dispatch:n,getState:a})=>i=>s=>typeof s=="function"?s(n,a,e):i(s)}var nR=cA(),aR=cA,rR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eu:Eu.apply(null,arguments)};function Bn(e,t){function n(...a){if(t){let i=t(...a);if(!i)throw new Error(jn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:a[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=a=>XP(a)&&a.type===e,n}var uA=class lo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,lo.prototype)}static get[Symbol.species](){return lo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new lo(...t[0].concat(this)):new lo(...t.concat(this))}};function yw(e){return oa(e)?lA(e,()=>{}):e}function cc(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function iR(e){return typeof e=="boolean"}var sR=()=>function(t){const{thunk:n=!0,immutableCheck:a=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new uA;return n&&(iR(n)?o.push(nR):o.push(aR(n.extraArgument))),o},dA="RTK_autoBatch",Ye=()=>e=>({payload:e,meta:{[dA]:!0}}),xw=e=>t=>{setTimeout(t,e)},pA=(e={type:"raf"})=>t=>(...n)=>{const a=t(...n);let i=!0,s=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xw(10):e.type==="callback"?e.queueNotification:xw(e.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},a,{subscribe(d){const p=()=>i&&d(),h=a.subscribe(p);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var p;try{return i=!((p=d==null?void 0:d.meta)!=null&&p[dA]),s=!i,s&&(o||(o=!0,c(u))),a.dispatch(d)}finally{i=!0}}})},oR=e=>function(n){const{autoBatch:a=!0}=n??{};let i=new uA(e);return a&&i.push(pA(typeof a=="object"?a:void 0)),i};function lR(e){const t=sR(),{reducer:n=void 0,middleware:a,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Mv(n))l=ZP(n);else throw new Error(jn(1));let c;typeof a=="function"?c=a(t):c=t();let u=Eu;i&&(u=rR({trace:!1,...typeof i=="object"&&i}));const d=$2(...c),p=oR(d);let h=typeof o=="function"?o(p):p();const f=u(...h);return QP(l,s,f)}function mA(e){const t={},n=[];let a;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(jn(28));if(l in t)throw new Error(jn(29));return t[l]=o,i},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return a=s,i}};return e(i),[t,n,a]}function cR(e){return typeof e=="function"}function uR(e,t){let[n,a,i]=mA(t),s;if(cR(e))s=()=>yw(e());else{const l=yw(e);s=()=>l}function o(l=s(),c){let u=[n[c.type],...a.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,p)=>{if(p)if(Ua(d)){const f=p(d,c);return f===void 0?d:f}else{if(oa(d))return lA(d,h=>p(h,c));{const h=p(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=s,o}var dR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pR=(e=21)=>{let t="",n=e;for(;n--;)t+=dR[Math.random()*64|0];return t},mR=Symbol.for("rtk-slice-createasyncthunk");function hR(e,t){return`${e}/${t}`}function fR({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[mR];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(jn(11));const l=(typeof i.reducers=="function"?i.reducers(vR()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,C){const k=typeof j=="string"?j:j.type;if(!k)throw new Error(jn(12));if(k in u.sliceCaseReducersByType)throw new Error(jn(13));return u.sliceCaseReducersByType[k]=C,d},addMatcher(j,C){return u.sliceMatchers.push({matcher:j,reducer:C}),d},exposeAction(j,C){return u.actionCreators[j]=C,d},exposeCaseReducer(j,C){return u.sliceCaseReducersByName[j]=C,d}};c.forEach(j=>{const C=l[j],k={reducerName:j,type:hR(s,j),createNotation:typeof i.reducers=="function"};yR(C)?wR(k,C,d,t):bR(k,C,d)});function p(){const[j={},C=[],k=void 0]=typeof i.extraReducers=="function"?mA(i.extraReducers):[i.extraReducers],E={...j,...u.sliceCaseReducersByType};return uR(i.initialState,O=>{for(let M in E)O.addCase(M,E[M]);for(let M of u.sliceMatchers)O.addMatcher(M.matcher,M.reducer);for(let M of C)O.addMatcher(M.matcher,M.reducer);k&&O.addDefaultCase(k)})}const h=j=>j,f=new Map,g=new WeakMap;let v;function y(j,C){return v||(v=p()),v(j,C)}function b(){return v||(v=p()),v.getInitialState()}function x(j,C=!1){function k(O){let M=O[j];return typeof M>"u"&&C&&(M=cc(g,k,b)),M}function E(O=h){const M=cc(f,C,()=>new WeakMap);return cc(M,O,()=>{const P={};for(const[T,S]of Object.entries(i.selectors??{}))P[T]=gR(S,O,()=>cc(g,O,b),C);return P})}return{reducerPath:j,getSelectors:E,get selectors(){return E(k)},selectSlice:k}}const w={name:s,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...x(o),injectInto(j,{reducerPath:C,...k}={}){const E=C??o;return j.inject({reducerPath:E,reducer:y},k),{...w,...x(E,!0)}}};return w}}function gR(e,t,n,a){function i(s,...o){let l=t(s);return typeof l>"u"&&a&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var fn=fR();function vR(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function bR({type:e,reducerName:t,createNotation:n},a,i){let s,o;if("reducer"in a){if(n&&!xR(a))throw new Error(jn(17));s=a.reducer,o=a.prepare}else s=a;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Bn(e,o):Bn(e))}function yR(e){return e._reducerDefinitionType==="asyncThunk"}function xR(e){return e._reducerDefinitionType==="reducerWithPrepare"}function wR({type:e,reducerName:t},n,a,i){if(!i)throw new Error(jn(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=n,p=i(e,s,d);a.exposeAction(t,p),o&&a.addCase(p.fulfilled,o),l&&a.addCase(p.pending,l),c&&a.addCase(p.rejected,c),u&&a.addMatcher(p.settled,u),a.exposeCaseReducer(t,{fulfilled:o||uc,pending:l||uc,rejected:c||uc,settled:u||uc})}function uc(){}var jR="task",hA="listener",fA="completed",Rv="cancelled",CR=`task-${Rv}`,SR=`task-${fA}`,bf=`${hA}-${Rv}`,NR=`${hA}-${fA}`,Zd=class{constructor(e){Bp(this,"name","TaskAbortError");Bp(this,"message");this.code=e,this.message=`${jR} ${Rv} (reason: ${e})`}},Bv=(e,t)=>{if(typeof e!="function")throw new TypeError(jn(32))},Lu=()=>{},gA=(e,t=Lu)=>(e.catch(t),e),vA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ei=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ti=e=>{if(e.aborted){const{reason:t}=e;throw new Zd(t)}};function bA(e,t){let n=Lu;return new Promise((a,i)=>{const s=()=>i(new Zd(e.reason));if(e.aborted){s();return}n=vA(e,s),t.finally(()=>n()).then(a,i)}).finally(()=>{n=Lu})}var kR=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Zd?"cancelled":"rejected",error:n}}finally{t==null||t()}},Du=e=>t=>gA(bA(e,t).then(n=>(ti(e),n))),yA=e=>{const t=Du(e);return n=>t(new Promise(a=>setTimeout(a,n)))},{assign:es}=Object,ww={},Xd="listenerMiddleware",PR=(e,t)=>{const n=a=>vA(e,()=>ei(a,e.reason));return(a,i)=>{Bv(a);const s=new AbortController;n(s);const o=kR(async()=>{ti(e),ti(s.signal);const l=await a({pause:Du(s.signal),delay:yA(s.signal),signal:s.signal});return ti(s.signal),l},()=>ei(s,SR));return i!=null&&i.autoJoin&&t.push(o.catch(Lu)),{result:Du(e)(o),cancel(){ei(s,CR)}}}},AR=(e,t)=>{const n=async(a,i)=>{ti(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:a,effect:(p,h)=>{h.unsubscribe(),c([p,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await bA(t,Promise.race(l));return ti(t),c}finally{s()}};return(a,i)=>gA(n(a,i))},xA=e=>{let{type:t,actionCreator:n,matcher:a,predicate:i,effect:s}=e;if(t)i=Bn(t).match;else if(n)t=n.type,i=n.match;else if(a)i=a;else if(!i)throw new Error(jn(21));return Bv(s),{predicate:i,type:t,effect:s}},wA=es(e=>{const{type:t,predicate:n,effect:a}=xA(e);return{id:pR(),effect:a,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(jn(22))}}},{withTypes:()=>wA}),jw=(e,t)=>{const{type:n,effect:a,predicate:i}=xA(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===a)},yf=e=>{e.pending.forEach(t=>{ei(t,bf)})},ER=(e,t)=>()=>{for(const n of t.keys())yf(n);e.clear()},Cw=(e,t,n)=>{try{e(t,n)}catch(a){setTimeout(()=>{throw a},0)}},jA=es(Bn(`${Xd}/add`),{withTypes:()=>jA}),TR=Bn(`${Xd}/removeAll`),CA=es(Bn(`${Xd}/remove`),{withTypes:()=>CA}),IR=(...e)=>{console.error(`${Xd}/error`,...e)},vl=(e={})=>{const t=new Map,n=new Map,a=f=>{const g=n.get(f)??0;n.set(f,g+1)},i=f=>{const g=n.get(f)??1;g===1?n.delete(f):n.set(f,g-1)},{extra:s,onError:o=IR}=e;Bv(o);const l=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),g=>{f.unsubscribe(),g!=null&&g.cancelActive&&yf(f)}),c=f=>{const g=jw(t,f)??wA(f);return l(g)};es(c,{withTypes:()=>c});const u=f=>{const g=jw(t,f);return g&&(g.unsubscribe(),f.cancelActive&&yf(g)),!!g};es(u,{withTypes:()=>u});const d=async(f,g,v,y)=>{const b=new AbortController,x=AR(c,b.signal),w=[];try{f.pending.add(b),a(f),await Promise.resolve(f.effect(g,es({},v,{getOriginalState:y,condition:(j,C)=>x(j,C).then(Boolean),take:x,delay:yA(b.signal),pause:Du(b.signal),extra:s,signal:b.signal,fork:PR(b.signal,w),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((j,C,k)=>{j!==b&&(ei(j,bf),k.delete(j))})},cancel:()=>{ei(b,bf),f.pending.delete(b)},throwIfCancelled:()=>{ti(b.signal)}})))}catch(j){j instanceof Zd||Cw(o,j,{raisedBy:"effect"})}finally{await Promise.all(w),ei(b,NR),i(f),f.pending.delete(b)}},p=ER(t,n);return{middleware:f=>g=>v=>{if(!XP(v))return g(v);if(jA.match(v))return c(v.payload);if(TR.match(v)){p();return}if(CA.match(v))return u(v.payload);let y=f.getState();const b=()=>{if(y===ww)throw new Error(jn(23));return y};let x;try{if(x=g(v),t.size>0){const w=f.getState(),j=Array.from(t.values());for(const C of j){let k=!1;try{k=C.predicate(v,w,y)}catch(E){k=!1,Cw(o,E,{raisedBy:"predicate"})}k&&d(C,v,f,b)}}}finally{y=ww}return x},startListening:c,stopListening:u,clearListeners:p}};function jn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var OR={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},SA=fn({name:"chartLayout",initialState:OR,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,a,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:MR,setLayout:LR,setChartSize:DR,setScale:FR}=SA.actions,zR=SA.reducer;function NA(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(n),!0).forEach(function(a){_R(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function _R(e,t,n){return(t=RR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RR(e){var t=BR(e,"string");return typeof t=="symbol"?t:t+""}function BR(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vt(e,t,n){return Xe(e)||Xe(t)?n:ba(t)?ds(e,t,n):typeof t=="function"?t(e):n}var $R=(e,t,n)=>{if(t&&n){var{width:a,height:i}=n,{align:s,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&ge(e[s]))return Ki(Ki({},e),{},{[s]:e[s]+(a||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&ge(e[o]))return Ki(Ki({},e),{},{[o]:e[o]+(i||0)})}return e},Fr=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",kA=(e,t,n,a)=>{if(a)return e.map(l=>l.coordinate);var i,s,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||o.push(t),s||o.push(n),o},PA=(e,t,n)=>{if(!e)return null;var{duplicateDomain:a,type:i,range:s,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:p,niceTicks:h,axisType:f}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=i==="category"&&o.bandwidth?o.bandwidth()/g:0;if(v=f==="angleAxis"&&s&&s.length>=2?ln(s[0]-s[1])*2*v:v,p||h){var y=(p||h||[]).map((b,x)=>{var w=a?a.indexOf(b):b;return{coordinate:o(w)+v,value:b,offset:v,index:x}});return y.filter(b=>!ia(b.coordinate))}return c&&u?u.map((b,x)=>({coordinate:o(b)+v,value:b,index:x,offset:v})):o.ticks&&d!=null?o.ticks(d).map((b,x)=>({coordinate:o(b)+v,value:b,offset:v,index:x})):o.domain().map((b,x)=>({coordinate:o(b)+v,value:a?a[b]:b,index:x,offset:v}))},Nw=1e-4,UR=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,a=e.range(),i=Math.min(a[0],a[1])-Nw,s=Math.max(a[0],a[1])+Nw,o=e(t[0]),l=e(t[n-1]);(o<i||o>s||l<i||l>s)&&e.domain([t[0],t[n-1]])}},WR=(e,t)=>{if(!t||t.length!==2||!ge(t[0])||!ge(t[1]))return e;var n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ge(e[0])||e[0]<n)&&(i[0]=n),(!ge(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},HR=e=>{var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,o=0;o<t;++o){var l=ia(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1])}},qR=e=>{var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<t;++s){var o=ia(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},KR={sign:HR,expand:D_,none:us,silhouette:F_,wiggle:z_,positive:qR},VR=(e,t,n)=>{var a=KR[n],i=L_().keys(t).value((s,o)=>Number(vt(s,o,0))).order(lf).offset(a);return i(e)};function GR(e){return e==null?void 0:String(e)}function kw(e){var{axis:t,ticks:n,bandSize:a,entry:i,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Xe(i[t.dataKey])){var l=yP(n,"value",i[t.dataKey]);if(l)return l.coordinate+a/2}return n[s]?n[s].coordinate+a/2:null}var c=vt(i,Xe(o)?t.dataKey:o);return Xe(c)?null:t.scale(c)}var Pw=e=>{var{axis:t,ticks:n,offset:a,bandSize:i,entry:s,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+a:null;var l=vt(s,t.dataKey,t.scale.domain()[o]);return Xe(l)?null:t.scale(l)-i/2+a},YR=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},QR=e=>{var t=e.flat(2).filter(ge);return[Math.min(...t),Math.max(...t)]},ZR=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],XR=(e,t,n)=>{if(e!=null)return ZR(Object.keys(e).reduce((a,i)=>{var s=e[i],{stackedData:o}=s,l=o.reduce((c,u)=>{var d=NA(u,t,n),p=QR(d);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]))},Aw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ew=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hs=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&t&&t.length>=2){for(var i=Hd(t,d=>d.coordinate),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function Tw(e){var{tooltipEntrySettings:t,dataKey:n,payload:a,value:i,name:s}=e;return Ki(Ki({},t),{},{dataKey:n,payload:a,value:i,name:s})}function Jd(e,t){if(e)return String(e);if(typeof t=="string")return t}var JR=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},eB=(e,t)=>t==="centric"?e.angle:e.radius,Qa=e=>e.layout.width,Za=e=>e.layout.height,tB=e=>e.layout.scale,AA=e=>e.layout.margin,ep=q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),tp=q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),nB="data-recharts-item-index",aB="data-recharts-item-data-key",bl=60;function Iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(n),!0).forEach(function(a){rB(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iw(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rB(e,t,n){return(t=iB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iB(e){var t=sB(e,"string");return typeof t=="symbol"?t:t+""}function sB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oB=e=>e.brush.height;function lB(e){var t=tp(e);return t.reduce((n,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var i=typeof a.width=="number"?a.width:bl;return n+i}return n},0)}function cB(e){var t=tp(e);return t.reduce((n,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var i=typeof a.width=="number"?a.width:bl;return n+i}return n},0)}function uB(e){var t=ep(e);return t.reduce((n,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?n+a.height:n,0)}function dB(e){var t=ep(e);return t.reduce((n,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?n+a.height:n,0)}var Et=q([Qa,Za,AA,oB,lB,cB,uB,dB,GP,L2],(e,t,n,a,i,s,o,l,c,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},h=dc(dc({},p),d),f=h.bottom;h.bottom+=a,h=$R(h,c,u);var g=e-h.left-h.right,v=t-h.top-h.bottom;return dc(dc({brushBottom:f},h),{},{width:Math.max(g,0),height:Math.max(v,0)})}),pB=q(Et,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),$v=q(Qa,Za,(e,t)=>({x:0,y:0,width:e,height:t})),mB=m.createContext(null),qt=()=>m.useContext(mB)!=null,np=e=>e.brush,ap=q([np,Et,AA],(e,t,n)=>({height:e.height,x:ge(e.x)?e.x:t.left,y:ge(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ge(e.width)?e.width:t.width})),EA={},TA={},IA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a,{signal:i,edges:s}={}){let o,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{u&&d(),v()};let h=null;const f=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,p()},a)},g=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{g(),o=void 0,l=null},y=()=>{d()},b=function(...x){if(i!=null&&i.aborted)return;o=this,l=x;const w=h==null;f(),c&&w&&d()};return b.schedule=f,b.cancel=v,b.flush=y,i==null||i.addEventListener("abort",v,{once:!0}),b}e.debounce=t})(IA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IA;function n(a,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,p=null;const h=t.debounce(function(...v){d=a.apply(this,v),p=null},i,{edges:u}),f=function(...v){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(d=a.apply(this,v),p=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},g=()=>(h.flush(),d);return f.cancel=h.cancel,f.flush=g,f}e.debounce=n})(TA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TA;function n(a,i=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return t.debounce(a,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(EA);var hB=EA.throttle;const fB=wa(hB);var Fu=function(t,n){for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},OA=(e,t,n)=>{var{width:a="100%",height:i="100%",aspect:s,maxHeight:o}=n,l=$a(a)?e:Number(a),c=$a(i)?t:Number(i);return s&&s>0&&(l?c=l/s:c&&(l=c*s),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},gB={width:0,height:0,overflow:"visible"},vB={width:0,overflowX:"visible"},bB={height:0,overflowY:"visible"},yB={},xB=e=>{var{width:t,height:n}=e,a=$a(t),i=$a(n);return a&&i?gB:a?vB:i?bB:yB};function wB(e){var{width:t,height:n,aspect:a}=e,i=t,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=a&&a>0?void 0:"100%":s===void 0&&(s=a&&a>0?void 0:"100%"),{width:i,height:s}}function ut(e){return Number.isFinite(e)}function ya(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xf.apply(null,arguments)}function Ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Mw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(n),!0).forEach(function(a){jB(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ow(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function jB(e,t,n){return(t=CB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CB(e){var t=SB(e,"string");return typeof t=="symbol"?t:t+""}function SB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MA=m.createContext({width:-1,height:-1});function NB(e){return ya(e.width)&&ya(e.height)}function LA(e){var{children:t,width:n,height:a}=e,i=m.useMemo(()=>({width:n,height:a}),[n,a]);return NB(i)?m.createElement(MA.Provider,{value:i},t):null}var Uv=()=>m.useContext(MA),kB=m.forwardRef((e,t)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:i,height:s,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:p,className:h,onResize:f,style:g={}}=e,v=m.useRef(null),y=m.useRef();y.current=f,m.useImperativeHandle(t,()=>v.current);var[b,x]=m.useState({containerWidth:a.width,containerHeight:a.height}),w=m.useCallback((O,M)=>{x(P=>{var T=Math.round(O),S=Math.round(M);return P.containerWidth===T&&P.containerHeight===S?P:{containerWidth:T,containerHeight:S}})},[]);m.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return hl;var O=S=>{var N,{width:A,height:L}=S[0].contentRect;w(A,L),(N=y.current)===null||N===void 0||N.call(y,A,L)};d>0&&(O=fB(O,d,{trailing:!0,leading:!1}));var M=new ResizeObserver(O),{width:P,height:T}=v.current.getBoundingClientRect();return w(P,T),M.observe(v.current),()=>{M.disconnect()}},[w,d]);var{containerWidth:j,containerHeight:C}=b;Fu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:E}=OA(j,C,{width:i,height:s,aspect:n,maxHeight:c});return Fu(k!=null&&k>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,E,i,s,o,l,n),m.createElement("div",{id:p?"".concat(p):void 0,className:Re("recharts-responsive-container",h),style:Mw(Mw({},g),{},{width:i,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:v},m.createElement("div",{style:xB({width:i,height:s})},m.createElement(LA,{width:k,height:E},u)))}),Ks=m.forwardRef((e,t)=>{var n=Uv();if(ya(n.width)&&ya(n.height))return e.children;var{width:a,height:i}=wB({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=OA(void 0,void 0,{width:a,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ge(s)&&ge(o)?m.createElement(LA,{width:s,height:o},e.children):m.createElement(kB,xf({},e,{width:a,height:i,ref:t}))});function DA(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var rp=()=>{var e,t=qt(),n=be(pB),a=be(ap),i=(e=be(np))===null||e===void 0?void 0:e.padding;return!t||!a||!i?n:{width:a.width-i.left-i.right,height:a.height-i.top-i.bottom,x:i.left,y:i.top}},PB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},FA=()=>{var e;return(e=be(Et))!==null&&e!==void 0?e:PB},Wv=()=>be(Qa),Hv=()=>be(Za),AB=()=>be(e=>e.layout.margin),De=e=>e.layout.layoutType,yl=()=>be(De),EB=()=>{var e=yl();return e!==void 0},ip=e=>{var t=nt(),n=qt(),{width:a,height:i}=e,s=Uv(),o=a,l=i;return s&&(o=s.width>0?s.width:a,l=s.height>0?s.height:i),m.useEffect(()=>{!n&&ya(o)&&ya(l)&&t(DR({width:o,height:l}))},[t,n,o,l]),null},zA=Symbol.for("immer-nothing"),Lw=Symbol.for("immer-draftable"),Sn=Symbol.for("immer-state");function Zn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Yo=Object.getPrototypeOf;function fs(e){return!!e&&!!e[Sn]}function di(e){var t;return e?_A(e)||Array.isArray(e)||!!e[Lw]||!!((t=e.constructor)!=null&&t[Lw])||xl(e)||op(e):!1}var TB=Object.prototype.constructor.toString(),Dw=new WeakMap;function _A(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let a=Dw.get(n);return a===void 0&&(a=Function.toString.call(n),Dw.set(n,a)),a===TB}function zu(e,t,n=!0){sp(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((a,i)=>t(i,a,e))}function sp(e){const t=e[Sn];return t?t.type_:Array.isArray(e)?1:xl(e)?2:op(e)?3:0}function wf(e,t){return sp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function RA(e,t,n){const a=sp(e);a===2?e.set(t,n):a===3?e.add(n):e[t]=n}function IB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xl(e){return e instanceof Map}function op(e){return e instanceof Set}function Wr(e){return e.copy_||e.base_}function jf(e,t){if(xl(e))return new Map(e);if(op(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=_A(e);if(t===!0||t==="class_only"&&!n){const a=Object.getOwnPropertyDescriptors(e);delete a[Sn];let i=Reflect.ownKeys(a);for(let s=0;s<i.length;s++){const o=i[s],l=a[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Yo(e),a)}else{const a=Yo(e);if(a!==null&&n)return{...e};const i=Object.create(a);return Object.assign(i,e)}}function qv(e,t=!1){return lp(e)||fs(e)||!di(e)||(sp(e)>1&&Object.defineProperties(e,{set:pc,add:pc,clear:pc,delete:pc}),Object.freeze(e),t&&Object.values(e).forEach(n=>qv(n,!0))),e}function OB(){Zn(2)}var pc={value:OB};function lp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var MB={};function pi(e){const t=MB[e];return t||Zn(0,e),t}var Qo;function BA(){return Qo}function LB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Fw(e,t){t&&(pi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Cf(e){Sf(e),e.drafts_.forEach(DB),e.drafts_=null}function Sf(e){e===Qo&&(Qo=e.parent_)}function zw(e){return Qo=LB(Qo,e)}function DB(e){const t=e[Sn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function _w(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Sn].modified_&&(Cf(t),Zn(4)),di(e)&&(e=_u(t,e),t.parent_||Ru(t,e)),t.patches_&&pi("Patches").generateReplacementPatches_(n[Sn].base_,e,t.patches_,t.inversePatches_)):e=_u(t,n,[]),Cf(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zA?e:void 0}function _u(e,t,n){if(lp(t))return t;const a=e.immer_.shouldUseStrictIteration(),i=t[Sn];if(!i)return zu(t,(s,o)=>Rw(e,i,t,s,o,n),a),t;if(i.scope_!==e)return t;if(!i.modified_)return Ru(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,l=!1;i.type_===3&&(o=new Set(s),s.clear(),l=!0),zu(o,(c,u)=>Rw(e,i,s,c,u,n,l),a),Ru(e,s,!1),n&&e.patches_&&pi("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function Rw(e,t,n,a,i,s,o){if(i==null||typeof i!="object"&&!o)return;const l=lp(i);if(!(l&&!o)){if(fs(i)){const c=s&&t&&t.type_!==3&&!wf(t.assigned_,a)?s.concat(a):void 0,u=_u(e,i,c);if(RA(n,a,u),fs(u))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(di(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===i&&l)return;_u(e,i),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(xl(n)?n.has(a):Object.prototype.propertyIsEnumerable.call(n,a))&&Ru(e,i)}}}function Ru(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qv(t,n)}function FB(e,t){const n=Array.isArray(e),a={type_:n?1:0,scope_:t?t.scope_:BA(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=a,s=Kv;n&&(i=[a],s=Zo);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return a.draft_=l,a.revoke_=o,l}var Kv={get(e,t){if(t===Sn)return e;const n=Wr(e);if(!wf(n,t))return zB(e,n,t);const a=n[t];return e.finalized_||!di(a)?a:a===Pm(e.base_,t)?(Am(e),e.copy_[t]=kf(a,e)):a},has(e,t){return t in Wr(e)},ownKeys(e){return Reflect.ownKeys(Wr(e))},set(e,t,n){const a=$A(Wr(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,n),!0;if(!e.modified_){const i=Pm(Wr(e),t),s=i==null?void 0:i[Sn];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(IB(n,i)&&(n!==void 0||wf(e.base_,t)))return!0;Am(e),Nf(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Pm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Am(e),Nf(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Wr(e),a=Reflect.getOwnPropertyDescriptor(n,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:n[t]}},defineProperty(){Zn(11)},getPrototypeOf(e){return Yo(e.base_)},setPrototypeOf(){Zn(12)}},Zo={};zu(Kv,(e,t)=>{Zo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Zo.deleteProperty=function(e,t){return Zo.set.call(this,e,t,void 0)};Zo.set=function(e,t,n){return Kv.set.call(this,e[0],t,n,e[0])};function Pm(e,t){const n=e[Sn];return(n?Wr(n):e)[t]}function zB(e,t,n){var i;const a=$A(t,n);return a?"value"in a?a.value:(i=a.get)==null?void 0:i.call(e.draft_):void 0}function $A(e,t){if(!(t in e))return;let n=Yo(e);for(;n;){const a=Object.getOwnPropertyDescriptor(n,t);if(a)return a;n=Yo(n)}}function Nf(e){e.modified_||(e.modified_=!0,e.parent_&&Nf(e.parent_))}function Am(e){e.copy_||(e.copy_=jf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _B=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,a)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(c=s,...u){return o.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&Zn(6),a!==void 0&&typeof a!="function"&&Zn(7);let i;if(di(t)){const s=zw(this),o=kf(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?Cf(s):Sf(s)}return Fw(s,a),_w(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===zA&&(i=void 0),this.autoFreeze_&&qv(i,!0),a){const s=[],o=[];pi("Patches").generateReplacementPatches_(t,i,s,o),a(s,o)}return i}else Zn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let a,i;return[this.produce(t,n,(o,l)=>{a=o,i=l}),a,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){di(e)||Zn(8),fs(e)&&(e=RB(e));const t=zw(this),n=kf(e,void 0);return n[Sn].isManual_=!0,Sf(t),n}finishDraft(e,t){const n=e&&e[Sn];(!n||!n.isManual_)&&Zn(9);const{scope_:a}=n;return Fw(a,t),_w(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const a=pi("Patches").applyPatches_;return fs(e)?a(e,t):this.produce(e,i=>a(i,t))}};function kf(e,t){const n=xl(e)?pi("MapSet").proxyMap_(e,t):op(e)?pi("MapSet").proxySet_(e,t):FB(e,t);return(t?t.scope_:BA()).drafts_.push(n),n}function RB(e){return fs(e)||Zn(10,e),UA(e)}function UA(e){if(!di(e)||lp(e))return e;const t=e[Sn];let n,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=jf(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else n=jf(e,!0);return zu(n,(i,s)=>{RA(n,i,UA(s))},a),t&&(t.finalized_=!1),n}var BB=new _B;BB.produce;var $B={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},WA=fn({name:"legend",initialState:$B,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ye()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:a}=t.payload,i=ta(e).payload.indexOf(n);i>-1&&(e.payload[i]=a)},prepare:Ye()},removeLegendPayload:{reducer(e,t){var n=ta(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Ye()}}}),{setLegendSize:Bw,setLegendSettings:UB,addLegendPayload:WB,replaceLegendPayload:HB,removeLegendPayload:qB}=WA.actions,KB=WA.reducer,VB=["contextPayload"];function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pf.apply(null,arguments)}function $w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(n),!0).forEach(function(a){GB(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$w(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function GB(e,t,n){return(t=YB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YB(e){var t=QB(e,"string");return typeof t=="symbol"?t:t+""}function QB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZB(e,t){if(e==null)return{};var n,a,i=XB(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XB(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function JB(e){return e.value}function e$(e){var{contextPayload:t}=e,n=ZB(e,VB),a=RP(t,e.payloadUniqBy,JB),i=gs(gs({},n),{},{payload:a});return m.isValidElement(e.content)?m.cloneElement(e.content,i):typeof e.content=="function"?m.createElement(e.content,i):m.createElement(c2,i)}function t$(e,t,n,a,i,s){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((a||0)-s.width)/2}:u=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-s.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),gs(gs({},u),d)}function n$(e){var t=nt();return m.useEffect(()=>{t(UB(e))},[t,e]),null}function a$(e){var t=nt();return m.useEffect(()=>(t(Bw(e)),()=>{t(Bw({width:0,height:0}))}),[t,e]),null}function r$(e,t,n,a){return e==="vertical"&&ge(t)?{height:t}:e==="horizontal"?{width:n||a}:null}var i$={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function co(e){var t=zt(e,i$),n=z2(),a=r_(),i=AB(),{width:s,height:o,wrapperStyle:l,portal:c}=t,[u,d]=YP([n]),p=Wv(),h=Hv();if(p==null||h==null)return null;var f=p-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=r$(t.layout,o,s,f),v=c?l:gs(gs({position:"absolute",width:(g==null?void 0:g.width)||s||"auto",height:(g==null?void 0:g.height)||o||"auto"},t$(l,t,i,p,h,u)),l),y=c??a;if(y==null||n==null)return null;var b=m.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},m.createElement(n$,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&m.createElement(a$,{width:u.width,height:u.height}),m.createElement(e$,Pf({},t,g,{margin:i,chartWidth:p,chartHeight:h,contextPayload:n})));return Id.createPortal(b,y)}co.displayName="Legend";function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Af.apply(null,arguments)}function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Em(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(n),!0).forEach(function(a){s$(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function s$(e,t,n){return(t=o$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o$(e){var t=l$(e,"string");return typeof t=="symbol"?t:t+""}function l$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c$(e){return Array.isArray(e)&&ba(e[0])&&ba(e[1])?e.join(" ~ "):e}var u$=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:a={},labelStyle:i={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:p,accessibilityLayer:h=!1}=e,f=()=>{if(s&&s.length){var C={padding:0,margin:0},k=(l?Hd(s,l):s).map((E,O)=>{if(E.type==="none")return null;var M=E.formatter||o||c$,{value:P,name:T}=E,S=P,N=T;if(M){var A=M(P,T,E,O,s);if(Array.isArray(A))[S,N]=A;else if(A!=null)S=A;else return null}var L=Em({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},a);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:L},ba(N)?m.createElement("span",{className:"recharts-tooltip-item-name"},N):null,ba(N)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},S),m.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:C},k)}return null},g=Em({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=Em({margin:0},i),y=!Xe(d),b=y?d:"",x=Re("recharts-default-tooltip",c),w=Re("recharts-tooltip-label",u);y&&p&&s!==void 0&&s!==null&&(b=p(d,s));var j=h?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",Af({className:x,style:g},j),m.createElement("p",{className:w,style:v},m.isValidElement(b)?b:"".concat(b)),f())},Vs="recharts-tooltip-wrapper",d$={visibility:"hidden"};function p$(e){var{coordinate:t,translateX:n,translateY:a}=e;return Re(Vs,{["".concat(Vs,"-right")]:ge(n)&&t&&ge(t.x)&&n>=t.x,["".concat(Vs,"-left")]:ge(n)&&t&&ge(t.x)&&n<t.x,["".concat(Vs,"-bottom")]:ge(a)&&t&&ge(t.y)&&a>=t.y,["".concat(Vs,"-top")]:ge(a)&&t&&ge(t.y)&&a<t.y})}function Ww(e){var{allowEscapeViewBox:t,coordinate:n,key:a,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&ge(s[a]))return s[a];var d=n[a]-l-(i>0?i:0),p=n[a]+i;if(t[a])return o[a]?d:p;var h=c[a];if(h==null)return 0;if(o[a]){var f=d,g=h;return f<g?Math.max(p,h):Math.max(d,h)}if(u==null)return 0;var v=p+l,y=h+u;return v>y?Math.max(d,h):Math.max(p,h)}function m$(e){var{translateX:t,translateY:n,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function h$(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,p;return o.height>0&&o.width>0&&n?(d=Ww({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=Ww({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=m$({translateX:d,translateY:p,useTranslate3d:l})):u=d$,{cssProperties:u,cssClasses:p$({translateX:d,translateY:p,coordinate:n})}}function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function mc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(n),!0).forEach(function(a){Ef(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ef(e,t,n){return(t=f$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f$(e){var t=g$(e,"string");return typeof t=="symbol"?t:t+""}function g$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class v$ extends m.PureComponent{constructor(){super(...arguments),Ef(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ef(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,a,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,children:s,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:p,useTranslate3d:h,viewBox:f,wrapperStyle:g,lastBoundingBox:v,innerRef:y,hasPortalFromProps:b}=this.props,{cssClasses:x,cssProperties:w}=h$({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:p,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:f}),j=b?{}:mc(mc({transition:c&&t?"transform ".concat(a,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),C=mc(mc({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:C,ref:y},s)}}var HA=()=>{var e;return(e=be(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Tf(){return Tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Tf.apply(null,arguments)}function qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Kw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(n),!0).forEach(function(a){b$(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function b$(e,t,n){return(t=y$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y$(e){var t=x$(e,"string");return typeof t=="symbol"?t:t+""}function x$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vw={curveBasisClosed:C_,curveBasisOpen:S_,curveBasis:j_,curveBumpX:l_,curveBumpY:c_,curveLinearClosed:N_,curveLinear:Fd,curveMonotoneX:k_,curveMonotoneY:P_,curveNatural:A_,curveStep:E_,curveStepAfter:I_,curveStepBefore:T_},Bu=e=>ut(e.x)&&ut(e.y),Gw=e=>e.base!=null&&Bu(e.base)&&Bu(e),Gs=e=>e.x,Ys=e=>e.y,w$=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(ml(e));return(n==="curveMonotone"||n==="curveBump")&&t?Vw["".concat(n).concat(t==="vertical"?"Y":"X")]:Vw[n]||Fd},j$=e=>{var{type:t="linear",points:n=[],baseLine:a,layout:i,connectNulls:s=!1}=e,o=w$(t,i),l=s?n.filter(Bu):n,c;if(Array.isArray(a)){var u=n.map((f,g)=>Kw(Kw({},f),{},{base:a[g]}));i==="vertical"?c=ic().y(Ys).x1(Gs).x0(f=>f.base.x):c=ic().x(Gs).y1(Ys).y0(f=>f.base.y);var d=c.defined(Gw).curve(o),p=s?u.filter(Gw):u;return d(p)}i==="vertical"&&ge(a)?c=ic().y(Ys).x1(Gs).x0(a):ge(a)?c=ic().x(Gs).y1(Ys).y0(a):c=iP().x(Gs).y(Ys);var h=c.defined(Bu).curve(o);return h(l)},qA=e=>{var{className:t,points:n,path:a,pathRef:i}=e;if((!n||!n.length)&&!a)return null;var s=n&&n.length?j$(e):a;return m.createElement("path",Tf({},ra(e),xv(e),{className:Re("recharts-curve",t),d:s===null?void 0:s,ref:i}))},C$=["x","y","top","left","width","height","className"];function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},If.apply(null,arguments)}function Yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function S$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(n),!0).forEach(function(a){N$(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yw(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function N$(e,t,n){return(t=k$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k$(e){var t=P$(e,"string");return typeof t=="symbol"?t:t+""}function P$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A$(e,t){if(e==null)return{};var n,a,i=E$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function E$(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var T$=(e,t,n,a,i,s)=>"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(t,"h").concat(n),I$=e=>{var{x:t=0,y:n=0,top:a=0,left:i=0,width:s=0,height:o=0,className:l}=e,c=A$(e,C$),u=S$({x:t,y:n,top:a,left:i,width:s,height:o},c);return!ge(t)||!ge(n)||!ge(s)||!ge(o)||!ge(a)||!ge(i)?null:m.createElement("path",If({},Zt(u),{className:Re("recharts-cross",l),d:T$(t,n,s,o,a,i)}))};function O$(e,t,n,a){var i=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function Qw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Zw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(n),!0).forEach(function(a){M$(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qw(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function M$(e,t,n){return(t=L$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L$(e){var t=D$(e,"string");return typeof t=="symbol"?t:t+""}function D$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F$=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),KA=(e,t,n)=>e.map(a=>"".concat(F$(a)," ").concat(t,"ms ").concat(n)).join(","),z$=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,a)=>n.filter(i=>a.includes(i))),Xo=(e,t)=>Object.keys(t).reduce((n,a)=>Zw(Zw({},n),{},{[a]:e(a,t[a])}),{});function Xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(n),!0).forEach(function(a){_$(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function _$(e,t,n){return(t=R$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R$(e){var t=B$(e,"string");return typeof t=="symbol"?t:t+""}function B$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $u=(e,t,n)=>e+(t-e)*n,Of=e=>{var{from:t,to:n}=e;return t!==n},VA=(e,t,n)=>{var a=Xo((i,s)=>{if(Of(s)){var[o,l]=e(s.from,s.to,s.velocity);return ft(ft({},s),{},{from:o,velocity:l})}return s},t);return n<1?Xo((i,s)=>Of(s)?ft(ft({},s),{},{velocity:$u(s.velocity,a[i].velocity,n),from:$u(s.from,a[i].from,n)}):s,t):VA(e,a,n-1)};function $$(e,t,n,a,i,s){var o,l=a.reduce((h,f)=>ft(ft({},h),{},{[f]:{from:e[f],velocity:0,to:t[f]}}),{}),c=()=>Xo((h,f)=>f.from,l),u=()=>!Object.values(l).filter(Of).length,d=null,p=h=>{o||(o=h);var f=h-o,g=f/n.dt;l=VA(n,l,g),i(ft(ft(ft({},e),t),c())),o=h,u()||(d=s.setTimeout(p))};return()=>(d=s.setTimeout(p),()=>{var h;(h=d)===null||h===void 0||h()})}function U$(e,t,n,a,i,s,o){var l=null,c=i.reduce((p,h)=>ft(ft({},p),{},{[h]:[e[h],t[h]]}),{}),u,d=p=>{u||(u=p);var h=(p-u)/a,f=Xo((v,y)=>$u(...y,n(h)),c);if(s(ft(ft(ft({},e),t),f)),h<1)l=o.setTimeout(d);else{var g=Xo((v,y)=>$u(...y,n(1)),c);s(ft(ft(ft({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{var p;(p=l)===null||p===void 0||p()})}const W$=(e,t,n,a,i,s)=>{var o=z$(e,t);return n==null?()=>(i(ft(ft({},e),t)),()=>{}):n.isStepper===!0?$$(e,t,n,o,i,s):U$(e,t,n,a,o,i,s)};var Uu=1e-4,GA=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],YA=(e,t)=>e.map((n,a)=>n*t**a).reduce((n,a)=>n+a),Jw=(e,t)=>n=>{var a=GA(e,t);return YA(a,n)},H$=(e,t)=>n=>{var a=GA(e,t),i=[...a.map((s,o)=>s*o).slice(1),0];return YA(i,n)},q$=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=s[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},K$=(e,t,n,a)=>{var i=Jw(e,n),s=Jw(t,a),o=H$(e,n),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,p=d,h=0;h<8;++h){var f=i(p)-d,g=o(p);if(Math.abs(f-d)<Uu||g<Uu)return s(p);p=l(p-f/g)}return s(p)};return c.isStepper=!1,c},ej=function(){return K$(...q$(...arguments))},V$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:a=8,dt:i=17}=t,s=(o,l,c)=>{var u=-(o-l)*n,d=c*a,p=c+(u-d)*i/1e3,h=c*i/1e3+o;return Math.abs(h-l)<Uu&&Math.abs(p)<Uu?[l,0]:[h,p]};return s.isStepper=!0,s.dt=i,s},G$=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ej(e);case"spring":return V$();default:if(e.split("(")[0]==="cubic-bezier")return ej(e)}return typeof e=="function"?e:null};function Y$(e){var t,n=()=>null,a=!1,i=null,s=o=>{if(!a){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{a=!0},start:o=>{a=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class Q${setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),i=null,s=o=>{o-a>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Z$(){return Y$(new Q$)}var X$=m.createContext(Z$);function J$(e,t){var n=m.useContext(X$);return m.useMemo(()=>t??n(e),[e,t,n])}var eU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),wl={devToolsEnabled:!1,isSsr:eU()},tU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},tj={t:0},Tm={t:1};function cp(e){var t=zt(e,tU),{isActive:n,canBegin:a,duration:i,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=n==="auto"?!wl.isSsr:n,p=J$(t.animationId,t.animationManager),[h,f]=m.useState(d?tj:Tm),g=m.useRef(null);return m.useEffect(()=>{d||f(Tm)},[d]),m.useEffect(()=>{if(!d||!a)return hl;var v=W$(tj,Tm,G$(s),i,f,p.getTimeoutController()),y=()=>{g.current=v()};return p.start([c,o,y,i,l]),()=>{p.stop(),g.current&&g.current(),l()}},[d,a,i,s,o,c,l,p]),u(h.t)}function up(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=m.useRef(qo(t)),a=m.useRef(e);return a.current!==e&&(n.current=qo(t),a.current=e),n.current}var nU=["radius"],aU=["radius"];function nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function aj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(n),!0).forEach(function(a){rU(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rU(e,t,n){return(t=iU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iU(e){var t=sU(e,"string");return typeof t=="symbol"?t:t+""}function sU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wu.apply(null,arguments)}function rj(e,t){if(e==null)return{};var n,a,i=oU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oU(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var ij=(e,t,n,a,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,h=4;p<h;p++)d[p]=i[p]>s?s:i[p];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+n-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+o*d[1])),u+="L ".concat(e+n,",").concat(t+a-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-l*d[2],",").concat(t+a)),u+="L ".concat(e+l*d[3],",").concat(t+a),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+a-o*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var f=Math.min(s,i);u="M ".concat(e,",").concat(t+o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,`
            L `).concat(e+n-l*f,",").concat(t,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*f,`
            L `).concat(e+n,",").concat(t+a-o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n-l*f,",").concat(t+a,`
            L `).concat(e+l*f,",").concat(t+a,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+a-o*f," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},sj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QA=e=>{var t=zt(e,sj),n=m.useRef(null),[a,i]=m.useState(-1);m.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&i(I)}catch{}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:p,animationDuration:h,animationBegin:f,isAnimationActive:g,isUpdateAnimationActive:v}=t,y=m.useRef(l),b=m.useRef(c),x=m.useRef(s),w=m.useRef(o),j=m.useMemo(()=>({x:s,y:o,width:l,height:c,radius:u}),[s,o,l,c,u]),C=up(j,"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var k=Re("recharts-rectangle",d);if(!v){var E=Zt(t),{radius:O}=E,M=rj(E,nU);return m.createElement("path",Wu({},M,{radius:typeof u=="number"?u:void 0,className:k,d:ij(s,o,l,c,u)}))}var P=y.current,T=b.current,S=x.current,N=w.current,A="0px ".concat(a===-1?1:a,"px"),L="".concat(a,"px 0px"),_=KA(["strokeDasharray"],h,typeof p=="string"?p:sj.animationEasing);return m.createElement(cp,{animationId:C,key:C,canBegin:a>0,duration:h,easing:p,isActive:v,begin:f},I=>{var D=it(P,l,I),F=it(T,c,I),R=it(S,s,I),z=it(N,o,I);n.current&&(y.current=D,b.current=F,x.current=R,w.current=z);var U;g?I>0?U={transition:_,strokeDasharray:L}:U={strokeDasharray:A}:U={strokeDasharray:L};var K=Zt(t),{radius:Z}=K,oe=rj(K,aU);return m.createElement("path",Wu({},oe,{radius:typeof u=="number"?u:void 0,className:k,d:ij(R,z,D,F,u),ref:n,style:aj(aj({},U),t.style)}))})};function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function lj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(a){lU(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lU(e,t,n){return(t=cU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cU(e){var t=uU(e,"string");return typeof t=="symbol"?t:t+""}function uU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hu=Math.PI/180,dU=e=>e*180/Math.PI,Mt=(e,t,n,a)=>({x:e+Math.cos(-Hu*a)*n,y:t+Math.sin(-Hu*a)*n}),pU=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},mU=(e,t)=>{var{x:n,y:a}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(a-s)**2)},hU=(e,t)=>{var{x:n,y:a}=e,{cx:i,cy:s}=t,o=mU({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:dU(c),angleInRadian:c}},fU=e=>{var{startAngle:t,endAngle:n}=e,a=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:t-s*360,endAngle:n-s*360}},gU=(e,t)=>{var{startAngle:n,endAngle:a}=t,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return e+o*360},vU=(e,t)=>{var{chartX:n,chartY:a}=e,{radius:i,angle:s}=hU({x:n,y:a},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:u}=fU(t),d=s,p;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;p=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=c}return p?lj(lj({},t),{},{radius:i,angle:gU(d,t)}):null};function ZA(e){var{cx:t,cy:n,radius:a,startAngle:i,endAngle:s}=e,o=Mt(t,n,a,i),l=Mt(t,n,a,s);return{points:[o,l],cx:t,cy:n,radius:a,startAngle:i,endAngle:s}}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mf.apply(null,arguments)}var bU=(e,t)=>{var n=ln(t-e),a=Math.min(Math.abs(t-e),359.999);return n*a},hc=e=>{var{cx:t,cy:n,radius:a,angle:i,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+a,d=Math.asin(l/u)/Hu,p=c?i:i+s*d,h=Mt(t,n,u,p),f=Mt(t,n,a,p),g=c?i-s*d:i,v=Mt(t,n,u*Math.cos(d*Hu),g);return{center:h,circleTangency:f,lineTangency:v,theta:d}},XA=e=>{var{cx:t,cy:n,innerRadius:a,outerRadius:i,startAngle:s,endAngle:o}=e,l=bU(s,o),c=s+l,u=Mt(t,n,i,s),d=Mt(t,n,i,c),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var h=Mt(t,n,a,s),f=Mt(t,n,a,c);p+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},yU=e=>{var{cx:t,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=ln(u-c),{circleTangency:p,lineTangency:h,theta:f}=hc({cx:t,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:g,lineTangency:v,theta:y}=hc({cx:t,cy:n,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),b=l?Math.abs(c-u):Math.abs(c-u)-f-y;if(b<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):XA({cx:t,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var{circleTangency:w,lineTangency:j,theta:C}=hc({cx:t,cy:n,radius:a,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:k,lineTangency:E,theta:O}=hc({cx:t,cy:n,radius:a,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),M=l?Math.abs(c-u):Math.abs(c-u)-C-O;if(M<0&&s===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x},xU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JA=e=>{var t=zt(e,xU),{cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:p}=t;if(s<i||u===d)return null;var h=Re("recharts-sector",p),f=s-i,g=sa(o,f,0,!0),v;return g>0&&Math.abs(u-d)<360?v=yU({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,f/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=XA({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),m.createElement("path",Mf({},Zt(t),{className:h,d:v}))};function wU(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(wP(t)){if(e==="centric"){var{cx:a,cy:i,innerRadius:s,outerRadius:o,angle:l}=t,c=Mt(a,i,s,l),u=Mt(a,i,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return ZA(t)}}var e1={},t1={},n1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv;function n(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=n})(n1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n1;function n(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=n})(t1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ov,n=t1;function a(i,s,o){o&&typeof o!="number"&&t.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((s-i)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=o;return c}e.range=a})(e1);var jU=e1.range;const a1=wa(jU);function Nr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vv(e){let t,n,a;e.length!==2?(t=Nr,n=(l,c)=>Nr(e(l),c),a=(l,c)=>e(l)-c):(t=e===Nr||e===CU?e:SU,n=e,a=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const p=u+d>>>1;n(l[p],c)<0?u=p+1:d=p}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const p=u+d>>>1;n(l[p],c)<=0?u=p+1:d=p}while(u<d)}return u}function o(l,c,u=0,d=l.length){const p=i(l,c,u,d-1);return p>u&&a(l[p-1],c)>-a(l[p],c)?p-1:p}return{left:i,center:o,right:s}}function SU(){return 0}function r1(e){return e===null?NaN:+e}function*NU(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const kU=Vv(Nr),jl=kU.right;Vv(r1).center;class cj extends Map{constructor(t,n=EU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,i]of t)this.set(a,i)}get(t){return super.get(uj(this,t))}has(t){return super.has(uj(this,t))}set(t,n){return super.set(PU(this,t),n)}delete(t){return super.delete(AU(this,t))}}function uj({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function PU({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function AU({_intern:e,_key:t},n){const a=t(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function EU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function TU(e=Nr){if(e===Nr)return i1;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||a===0?a:(e(n,n)===0)-(e(t,t)===0)}}function i1(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const IU=Math.sqrt(50),OU=Math.sqrt(10),MU=Math.sqrt(2);function qu(e,t,n){const a=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(a)),s=a/Math.pow(10,i),o=s>=IU?10:s>=OU?5:s>=MU?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?qu(e,t,n*2):[l,c,u]}function Lf(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const a=t<e,[i,s,o]=a?qu(t,e,n):qu(e,t,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(a)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function Df(e,t,n){return t=+t,e=+e,n=+n,qu(e,t,n)[2]}function Ff(e,t,n){t=+t,e=+e,n=+n;const a=t<e,i=a?Df(t,e,n):Df(e,t,n);return(a?-1:1)*(i<0?1/-i:i)}function dj(e,t){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function pj(e,t){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function s1(e,t,n=0,a=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(i=i===void 0?i1:TU(i);a>n;){if(a-n>600){const c=a-n+1,u=t-n+1,d=Math.log(c),p=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*p*(c-p)/c)*(u-c/2<0?-1:1),f=Math.max(n,Math.floor(t-u*p/c+h)),g=Math.min(a,Math.floor(t+(c-u)*p/c+h));s1(e,t,f,g,i)}const s=e[t];let o=n,l=a;for(Qs(e,n,t),i(e[a],s)>0&&Qs(e,n,a);o<l;){for(Qs(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[n],s)===0?Qs(e,n,l):(++l,Qs(e,l,a)),l<=t&&(n=l+1),t<=l&&(a=l-1)}return e}function Qs(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function LU(e,t,n){if(e=Float64Array.from(NU(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return pj(e);if(t>=1)return dj(e);var a,i=(a-1)*t,s=Math.floor(i),o=dj(s1(e,s).subarray(0,s+1)),l=pj(e.subarray(s+1));return o+(l-o)*(i-s)}}function DU(e,t,n=r1){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,i=(a-1)*t,s=Math.floor(i),o=+n(e[s],s,e),l=+n(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function FU(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var a=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++a<i;)s[a]=e+a*n;return s}function Un(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zf=Symbol("implicit");function Gv(){var e=new cj,t=[],n=[],a=zf;function i(s){let o=e.get(s);if(o===void 0){if(a!==zf)return a;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new cj;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return Gv(t,n).unknown(a)},Un.apply(i,arguments),i}function Yv(){var e=Gv().unknown(void 0),t=e.domain,n=e.range,a=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function p(){var h=t().length,f=i<a,g=f?i:a,v=f?a:i;s=(v-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(v-g-s*(h-c))*d,o=s*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=FU(h).map(function(b){return g+s*b});return n(f?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),p()):t()},e.range=function(h){return arguments.length?([a,i]=h,a=+a,i=+i,p()):[a,i]},e.rangeRound=function(h){return[a,i]=h,a=+a,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,p()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),p()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),p()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,p()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),p()):d},e.copy=function(){return Yv(t(),[a,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Un.apply(p(),arguments)}function o1(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return o1(t())},e}function zU(){return o1(Yv.apply(null,arguments).paddingInner(1))}function Qv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function l1(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function Cl(){}var Jo=.7,Ku=1/Jo,ts="\\s*([+-]?\\d+)\\s*",el="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_U=/^#([0-9a-f]{3,8})$/,RU=new RegExp(`^rgb\\(${ts},${ts},${ts}\\)$`),BU=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),$U=new RegExp(`^rgba\\(${ts},${ts},${ts},${el}\\)$`),UU=new RegExp(`^rgba\\(${va},${va},${va},${el}\\)$`),WU=new RegExp(`^hsl\\(${el},${va},${va}\\)$`),HU=new RegExp(`^hsla\\(${el},${va},${va},${el}\\)$`),mj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qv(Cl,tl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hj,formatHex:hj,formatHex8:qU,formatHsl:KU,formatRgb:fj,toString:fj});function hj(){return this.rgb().formatHex()}function qU(){return this.rgb().formatHex8()}function KU(){return c1(this).formatHsl()}function fj(){return this.rgb().formatRgb()}function tl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=_U.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?gj(t):n===3?new cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?fc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?fc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RU.exec(e))?new cn(t[1],t[2],t[3],1):(t=BU.exec(e))?new cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$U.exec(e))?fc(t[1],t[2],t[3],t[4]):(t=UU.exec(e))?fc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=WU.exec(e))?yj(t[1],t[2]/100,t[3]/100,1):(t=HU.exec(e))?yj(t[1],t[2]/100,t[3]/100,t[4]):mj.hasOwnProperty(e)?gj(mj[e]):e==="transparent"?new cn(NaN,NaN,NaN,0):null}function gj(e){return new cn(e>>16&255,e>>8&255,e&255,1)}function fc(e,t,n,a){return a<=0&&(e=t=n=NaN),new cn(e,t,n,a)}function VU(e){return e instanceof Cl||(e=tl(e)),e?(e=e.rgb(),new cn(e.r,e.g,e.b,e.opacity)):new cn}function _f(e,t,n,a){return arguments.length===1?VU(e):new cn(e,t,n,a??1)}function cn(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}Qv(cn,_f,l1(Cl,{brighter(e){return e=e==null?Ku:Math.pow(Ku,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cn(ni(this.r),ni(this.g),ni(this.b),Vu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vj,formatHex:vj,formatHex8:GU,formatRgb:bj,toString:bj}));function vj(){return`#${Yr(this.r)}${Yr(this.g)}${Yr(this.b)}`}function GU(){return`#${Yr(this.r)}${Yr(this.g)}${Yr(this.b)}${Yr((isNaN(this.opacity)?1:this.opacity)*255)}`}function bj(){const e=Vu(this.opacity);return`${e===1?"rgb(":"rgba("}${ni(this.r)}, ${ni(this.g)}, ${ni(this.b)}${e===1?")":`, ${e})`}`}function Vu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ni(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yr(e){return e=ni(e),(e<16?"0":"")+e.toString(16)}function yj(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Xn(e,t,n,a)}function c1(e){if(e instanceof Xn)return new Xn(e.h,e.s,e.l,e.opacity);if(e instanceof Cl||(e=tl(e)),!e)return new Xn;if(e instanceof Xn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,i=Math.min(t,n,a),s=Math.max(t,n,a),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(n-a)/l+(n<a)*6:n===s?o=(a-t)/l+2:o=(t-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Xn(o,l,c,e.opacity)}function YU(e,t,n,a){return arguments.length===1?c1(e):new Xn(e,t,n,a??1)}function Xn(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}Qv(Xn,YU,l1(Cl,{brighter(e){return e=e==null?Ku:Math.pow(Ku,e),new Xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jo:Math.pow(Jo,e),new Xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,i=2*n-a;return new cn(Im(e>=240?e-240:e+120,i,a),Im(e,i,a),Im(e<120?e+240:e-120,i,a),this.opacity)},clamp(){return new Xn(xj(this.h),gc(this.s),gc(this.l),Vu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vu(this.opacity);return`${e===1?"hsl(":"hsla("}${xj(this.h)}, ${gc(this.s)*100}%, ${gc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xj(e){return e=(e||0)%360,e<0?e+360:e}function gc(e){return Math.max(0,Math.min(1,e||0))}function Im(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Zv=e=>()=>e;function QU(e,t){return function(n){return e+n*t}}function ZU(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function XU(e){return(e=+e)==1?u1:function(t,n){return n-t?ZU(t,n,e):Zv(isNaN(t)?n:t)}}function u1(e,t){var n=t-e;return n?QU(e,n):Zv(isNaN(e)?t:e)}const wj=function e(t){var n=XU(t);function a(i,s){var o=n((i=_f(i)).r,(s=_f(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=u1(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return a.gamma=e,a}(1);function JU(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),i;return function(s){for(i=0;i<n;++i)a[i]=e[i]*(1-s)+t[i]*s;return a}}function eW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tW(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),s=new Array(n),o;for(o=0;o<a;++o)i[o]=ks(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(l){for(o=0;o<a;++o)s[o]=i[o](l);return s}}function nW(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function Gu(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function aW(e,t){var n={},a={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ks(e[i],t[i]):a[i]=t[i];return function(s){for(i in n)a[i]=n[i](s);return a}}var Rf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Om=new RegExp(Rf.source,"g");function rW(e){return function(){return e}}function iW(e){return function(t){return e(t)+""}}function sW(e,t){var n=Rf.lastIndex=Om.lastIndex=0,a,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=Rf.exec(e))&&(i=Om.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(a=a[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Gu(a,i)})),n=Om.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?iW(c[0].x):rW(t):(t=c.length,function(u){for(var d=0,p;d<t;++d)l[(p=c[d]).i]=p.x(u);return l.join("")})}function ks(e,t){var n=typeof t,a;return t==null||n==="boolean"?Zv(t):(n==="number"?Gu:n==="string"?(a=tl(t))?(t=a,wj):sW:t instanceof tl?wj:t instanceof Date?nW:eW(t)?JU:Array.isArray(t)?tW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?aW:Gu)(e,t)}function Xv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function oW(e,t){t===void 0&&(t=e,e=ks);for(var n=0,a=t.length-1,i=t[0],s=new Array(a<0?0:a);n<a;)s[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return s[l](o-l)}}function lW(e){return function(){return e}}function Yu(e){return+e}var jj=[0,1];function Yt(e){return e}function Bf(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:lW(isNaN(t)?NaN:.5)}function cW(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function uW(e,t,n){var a=e[0],i=e[1],s=t[0],o=t[1];return i<a?(a=Bf(i,a),s=n(o,s)):(a=Bf(a,i),s=n(s,o)),function(l){return s(a(l))}}function dW(e,t,n){var a=Math.min(e.length,t.length)-1,i=new Array(a),s=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)i[o]=Bf(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(l){var c=jl(e,l,1,a)-1;return s[c](i[c](l))}}function Sl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dp(){var e=jj,t=jj,n=ks,a,i,s,o=Yt,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Yt&&(o=cW(e[0],e[h-1])),l=h>2?dW:uW,c=u=null,p}function p(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(a),t,n)))(a(o(h)))}return p.invert=function(h){return o(i((u||(u=l(t,e.map(a),Gu)))(h)))},p.domain=function(h){return arguments.length?(e=Array.from(h,Yu),d()):e.slice()},p.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},p.rangeRound=function(h){return t=Array.from(h),n=Xv,d()},p.clamp=function(h){return arguments.length?(o=h?!0:Yt,d()):o!==Yt},p.interpolate=function(h){return arguments.length?(n=h,d()):n},p.unknown=function(h){return arguments.length?(s=h,p):s},function(h,f){return a=h,i=f,d()}}function Jv(){return dp()(Yt,Yt)}function pW(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qu(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function vs(e){return e=Qu(Math.abs(e)),e?e[1]:NaN}function mW(e,t){return function(n,a){for(var i=n.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>a));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function hW(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var fW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nl(e){if(!(t=fW.exec(e)))throw new Error("invalid format: "+e);var t;return new eb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nl.prototype=eb.prototype;function eb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gW(e){e:for(var t=e.length,n=1,a=-1,i;n<t;++n)switch(e[n]){case".":a=i=n;break;case"0":a===0&&(a=n),i=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(i+1):e}var d1;function vW(e,t){var n=Qu(e,t);if(!n)return e+"";var a=n[0],i=n[1],s=i-(d1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=a.length;return s===o?a:s>o?a+new Array(s-o+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+Qu(e,Math.max(0,t+s-1))[0]}function Cj(e,t){var n=Qu(e,t);if(!n)return e+"";var a=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}const Sj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pW,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Cj(e*100,t),r:Cj,s:vW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Nj(e){return e}var kj=Array.prototype.map,Pj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bW(e){var t=e.grouping===void 0||e.thousands===void 0?Nj:mW(kj.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Nj:hW(kj.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(p){p=nl(p);var h=p.fill,f=p.align,g=p.sign,v=p.symbol,y=p.zero,b=p.width,x=p.comma,w=p.precision,j=p.trim,C=p.type;C==="n"?(x=!0,C="g"):Sj[C]||(w===void 0&&(w=12),j=!0,C="g"),(y||h==="0"&&f==="=")&&(y=!0,h="0",f="=");var k=v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",E=v==="$"?a:/[%p]/.test(C)?o:"",O=Sj[C],M=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(T){var S=k,N=E,A,L,_;if(C==="c")N=O(T)+N,T="";else{T=+T;var I=T<0||1/T<0;if(T=isNaN(T)?c:O(Math.abs(T),w),j&&(T=gW(T)),I&&+T==0&&g!=="+"&&(I=!1),S=(I?g==="("?g:l:g==="-"||g==="("?"":g)+S,N=(C==="s"?Pj[8+d1/3]:"")+N+(I&&g==="("?")":""),M){for(A=-1,L=T.length;++A<L;)if(_=T.charCodeAt(A),48>_||_>57){N=(_===46?i+T.slice(A+1):T.slice(A))+N,T=T.slice(0,A);break}}}x&&!y&&(T=t(T,1/0));var D=S.length+T.length+N.length,F=D<b?new Array(b-D+1).join(h):"";switch(x&&y&&(T=t(F+T,F.length?b-N.length:1/0),F=""),f){case"<":T=S+T+N+F;break;case"=":T=S+F+T+N;break;case"^":T=F.slice(0,D=F.length>>1)+S+T+N+F.slice(D);break;default:T=F+S+T+N;break}return s(T)}return P.toString=function(){return p+""},P}function d(p,h){var f=u((p=nl(p),p.type="f",p)),g=Math.max(-8,Math.min(8,Math.floor(vs(h)/3)))*3,v=Math.pow(10,-g),y=Pj[8+g/3];return function(b){return f(v*b)+y}}return{format:u,formatPrefix:d}}var vc,tb,p1;yW({thousands:",",grouping:[3],currency:["$",""]});function yW(e){return vc=bW(e),tb=vc.format,p1=vc.formatPrefix,vc}function xW(e){return Math.max(0,-vs(Math.abs(e)))}function wW(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vs(t)/3)))*3-vs(Math.abs(e)))}function jW(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vs(t)-vs(e))+1}function m1(e,t,n,a){var i=Ff(e,t,n),s;switch(a=nl(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(s=wW(i,o))&&(a.precision=s),p1(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(s=jW(i,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=s-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(s=xW(i))&&(a.precision=s-(a.type==="%")*2);break}}return tb(a)}function zr(e){var t=e.domain;return e.ticks=function(n){var a=t();return Lf(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var i=t();return m1(i[0],i[i.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),i=0,s=a.length-1,o=a[i],l=a[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=Df(o,l,n),u===c)return a[i]=o,a[s]=l,t(a);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function h1(){var e=Jv();return e.copy=function(){return Sl(e,h1())},Un.apply(e,arguments),zr(e)}function f1(e){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,Yu),n):e.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return f1(e).unknown(t)},e=arguments.length?Array.from(e,Yu):[0,1],zr(n)}function g1(e,t){e=e.slice();var n=0,a=e.length-1,i=e[n],s=e[a],o;return s<i&&(o=n,n=a,a=o,o=i,i=s,s=o),e[n]=t.floor(i),e[a]=t.ceil(s),e}function Aj(e){return Math.log(e)}function Ej(e){return Math.exp(e)}function CW(e){return-Math.log(-e)}function SW(e){return-Math.exp(-e)}function NW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kW(e){return e===10?NW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function PW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Tj(e){return(t,n)=>-e(-t,n)}function nb(e){const t=e(Aj,Ej),n=t.domain;let a=10,i,s;function o(){return i=PW(a),s=kW(a),n()[0]<0?(i=Tj(i),s=Tj(s),e(CW,SW)):e(Aj,Ej),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const p=d<u;p&&([u,d]=[d,u]);let h=i(u),f=i(d),g,v;const y=l==null?10:+l;let b=[];if(!(a%1)&&f-h<y){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(g=1;g<a;++g)if(v=h<0?g/s(-h):g*s(h),!(v<u)){if(v>d)break;b.push(v)}}else for(;h<=f;++h)for(g=a-1;g>=1;--g)if(v=h>0?g/s(-h):g*s(h),!(v<u)){if(v>d)break;b.push(v)}b.length*2<y&&(b=Lf(u,d,y))}else b=Lf(h,f,Math.min(f-h,y)).map(s);return p?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=nl(c)).precision==null&&(c.trim=!0),c=tb(c)),l===1/0)return c;const u=Math.max(1,a*l/t.ticks().length);return d=>{let p=d/s(Math.round(i(d)));return p*a<a-.5&&(p*=a),p<=u?c(d):""}},t.nice=()=>n(g1(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function v1(){const e=nb(dp()).domain([1,10]);return e.copy=()=>Sl(e,v1()).base(e.base()),Un.apply(e,arguments),e}function Ij(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Oj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ab(e){var t=1,n=e(Ij(t),Oj(t));return n.constant=function(a){return arguments.length?e(Ij(t=+a),Oj(t)):t},zr(n)}function b1(){var e=ab(dp());return e.copy=function(){return Sl(e,b1()).constant(e.constant())},Un.apply(e,arguments)}function Mj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function AW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EW(e){return e<0?-e*e:e*e}function rb(e){var t=e(Yt,Yt),n=1;function a(){return n===1?e(Yt,Yt):n===.5?e(AW,EW):e(Mj(n),Mj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,a()):n},zr(t)}function ib(){var e=rb(dp());return e.copy=function(){return Sl(e,ib()).exponent(e.exponent())},Un.apply(e,arguments),e}function TW(){return ib.apply(null,arguments).exponent(.5)}function Lj(e){return Math.sign(e)*e*e}function IW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function y1(){var e=Jv(),t=[0,1],n=!1,a;function i(s){var o=IW(e(s));return isNaN(o)?a:n?Math.round(o):o}return i.invert=function(s){return e.invert(Lj(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Yu)).map(Lj)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return y1(e.domain(),t).round(n).clamp(e.clamp()).unknown(a)},Un.apply(i,arguments),zr(i)}function x1(){var e=[],t=[],n=[],a;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=DU(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?a:t[jl(n,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Nr),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.quantiles=function(){return n.slice()},s.copy=function(){return x1().domain(e).range(t).unknown(a)},Un.apply(s,arguments)}function w1(){var e=0,t=1,n=1,a=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[jl(a,c,0,n)]:s}function l(){var c=-1;for(a=new Array(n);++c<n;)a[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,a[0]]:u>=n?[a[n-1],t]:[a[u-1],a[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return w1().domain([e,t]).range(i).unknown(s)},Un.apply(zr(o),arguments)}function j1(){var e=[.5],t=[0,1],n,a=1;function i(s){return s!=null&&s<=s?t[jl(e,s,0,a)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),a=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),a=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return j1().domain(e).range(t).unknown(n)},Un.apply(i,arguments)}const Mm=new Date,Lm=new Date;function bt(e,t,n,a){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>bt(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(Mm.setTime(+s),Lm.setTime(+o),e(Mm),e(Lm),Math.floor(n(Mm,Lm))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(a?o=>a(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Zu=bt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?bt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Zu);Zu.range;const Oa=1e3,Ln=Oa*60,Ma=Ln*60,Wa=Ma*24,sb=Wa*7,Dj=Wa*30,Dm=Wa*365,Qr=bt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Oa)},(e,t)=>(t-e)/Oa,e=>e.getUTCSeconds());Qr.range;const ob=bt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oa)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getMinutes());ob.range;const lb=bt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCMinutes());lb.range;const cb=bt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oa-e.getMinutes()*Ln)},(e,t)=>{e.setTime(+e+t*Ma)},(e,t)=>(t-e)/Ma,e=>e.getHours());cb.range;const ub=bt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ma)},(e,t)=>(t-e)/Ma,e=>e.getUTCHours());ub.range;const Nl=bt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ln)/Wa,e=>e.getDate()-1);Nl.range;const pp=bt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wa,e=>e.getUTCDate()-1);pp.range;const C1=bt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wa,e=>Math.floor(e/Wa));C1.range;function yi(e){return bt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ln)/sb)}const mp=yi(0),Xu=yi(1),OW=yi(2),MW=yi(3),bs=yi(4),LW=yi(5),DW=yi(6);mp.range;Xu.range;OW.range;MW.range;bs.range;LW.range;DW.range;function xi(e){return bt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/sb)}const hp=xi(0),Ju=xi(1),FW=xi(2),zW=xi(3),ys=xi(4),_W=xi(5),RW=xi(6);hp.range;Ju.range;FW.range;zW.range;ys.range;_W.range;RW.range;const db=bt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());db.range;const pb=bt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pb.range;const Ha=bt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ha.range;const qa=bt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});qa.range;function S1(e,t,n,a,i,s){const o=[[Qr,1,Oa],[Qr,5,5*Oa],[Qr,15,15*Oa],[Qr,30,30*Oa],[s,1,Ln],[s,5,5*Ln],[s,15,15*Ln],[s,30,30*Ln],[i,1,Ma],[i,3,3*Ma],[i,6,6*Ma],[i,12,12*Ma],[a,1,Wa],[a,2,2*Wa],[n,1,sb],[t,1,Dj],[t,3,3*Dj],[e,1,Dm]];function l(u,d,p){const h=d<u;h&&([u,d]=[d,u]);const f=p&&typeof p.range=="function"?p:c(u,d,p),g=f?f.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,p){const h=Math.abs(d-u)/p,f=Vv(([,,y])=>y).right(o,h);if(f===o.length)return e.every(Ff(u/Dm,d/Dm,p));if(f===0)return Zu.every(Math.max(Ff(u,d,p),1));const[g,v]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return g.every(v)}return[l,c]}const[BW,$W]=S1(qa,pb,hp,C1,ub,lb),[UW,WW]=S1(Ha,db,mp,Nl,cb,ob);function Fm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function zm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zs(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function HW(e){var t=e.dateTime,n=e.date,a=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Xs(i),d=Js(i),p=Xs(s),h=Js(s),f=Xs(o),g=Js(o),v=Xs(l),y=Js(l),b=Xs(c),x=Js(c),w={a:I,A:D,b:F,B:R,c:null,d:$j,e:$j,f:m3,g:C3,G:N3,H:u3,I:d3,j:p3,L:N1,m:h3,M:f3,p:z,q:U,Q:Hj,s:qj,S:g3,u:v3,U:b3,V:y3,w:x3,W:w3,x:null,X:null,y:j3,Y:S3,Z:k3,"%":Wj},j={a:K,A:Z,b:oe,B:fe,c:null,d:Uj,e:Uj,f:T3,g:B3,G:U3,H:P3,I:A3,j:E3,L:P1,m:I3,M:O3,p:V,q:G,Q:Hj,s:qj,S:M3,u:L3,U:D3,V:F3,w:z3,W:_3,x:null,X:null,y:R3,Y:$3,Z:W3,"%":Wj},C={a:P,A:T,b:S,B:N,c:A,d:Rj,e:Rj,f:s3,g:_j,G:zj,H:Bj,I:Bj,j:n3,L:i3,m:t3,M:a3,p:M,q:e3,Q:l3,s:c3,S:r3,u:YW,U:QW,V:ZW,w:GW,W:XW,x:L,X:_,y:_j,Y:zj,Z:JW,"%":o3};w.x=k(n,w),w.X=k(a,w),w.c=k(t,w),j.x=k(n,j),j.X=k(a,j),j.c=k(t,j);function k($,ae){return function(de){var Q=[],ie=-1,ye=0,Se=$.length,X,he,B;for(de instanceof Date||(de=new Date(+de));++ie<Se;)$.charCodeAt(ie)===37&&(Q.push($.slice(ye,ie)),(he=Fj[X=$.charAt(++ie)])!=null?X=$.charAt(++ie):he=X==="e"?" ":"0",(B=ae[X])&&(X=B(de,he)),Q.push(X),ye=ie+1);return Q.push($.slice(ye,ie)),Q.join("")}}function E($,ae){return function(de){var Q=Zs(1900,void 0,1),ie=O(Q,$,de+="",0),ye,Se;if(ie!=de.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ae&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(ye=zm(Zs(Q.y,0,1)),Se=ye.getUTCDay(),ye=Se>4||Se===0?Ju.ceil(ye):Ju(ye),ye=pp.offset(ye,(Q.V-1)*7),Q.y=ye.getUTCFullYear(),Q.m=ye.getUTCMonth(),Q.d=ye.getUTCDate()+(Q.w+6)%7):(ye=Fm(Zs(Q.y,0,1)),Se=ye.getDay(),ye=Se>4||Se===0?Xu.ceil(ye):Xu(ye),ye=Nl.offset(ye,(Q.V-1)*7),Q.y=ye.getFullYear(),Q.m=ye.getMonth(),Q.d=ye.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),Se="Z"in Q?zm(Zs(Q.y,0,1)).getUTCDay():Fm(Zs(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(Se+5)%7:Q.w+Q.U*7-(Se+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,zm(Q)):Fm(Q)}}function O($,ae,de,Q){for(var ie=0,ye=ae.length,Se=de.length,X,he;ie<ye;){if(Q>=Se)return-1;if(X=ae.charCodeAt(ie++),X===37){if(X=ae.charAt(ie++),he=C[X in Fj?ae.charAt(ie++):X],!he||(Q=he($,de,Q))<0)return-1}else if(X!=de.charCodeAt(Q++))return-1}return Q}function M($,ae,de){var Q=u.exec(ae.slice(de));return Q?($.p=d.get(Q[0].toLowerCase()),de+Q[0].length):-1}function P($,ae,de){var Q=f.exec(ae.slice(de));return Q?($.w=g.get(Q[0].toLowerCase()),de+Q[0].length):-1}function T($,ae,de){var Q=p.exec(ae.slice(de));return Q?($.w=h.get(Q[0].toLowerCase()),de+Q[0].length):-1}function S($,ae,de){var Q=b.exec(ae.slice(de));return Q?($.m=x.get(Q[0].toLowerCase()),de+Q[0].length):-1}function N($,ae,de){var Q=v.exec(ae.slice(de));return Q?($.m=y.get(Q[0].toLowerCase()),de+Q[0].length):-1}function A($,ae,de){return O($,t,ae,de)}function L($,ae,de){return O($,n,ae,de)}function _($,ae,de){return O($,a,ae,de)}function I($){return o[$.getDay()]}function D($){return s[$.getDay()]}function F($){return c[$.getMonth()]}function R($){return l[$.getMonth()]}function z($){return i[+($.getHours()>=12)]}function U($){return 1+~~($.getMonth()/3)}function K($){return o[$.getUTCDay()]}function Z($){return s[$.getUTCDay()]}function oe($){return c[$.getUTCMonth()]}function fe($){return l[$.getUTCMonth()]}function V($){return i[+($.getUTCHours()>=12)]}function G($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var ae=k($+="",w);return ae.toString=function(){return $},ae},parse:function($){var ae=E($+="",!1);return ae.toString=function(){return $},ae},utcFormat:function($){var ae=k($+="",j);return ae.toString=function(){return $},ae},utcParse:function($){var ae=E($+="",!0);return ae.toString=function(){return $},ae}}}var Fj={"-":"",_:" ",0:"0"},Tt=/^\s*\d+/,qW=/^%/,KW=/[\\^$*+?|[\]().{}]/g;function Me(e,t,n){var a=e<0?"-":"",i=(a?-e:e)+"",s=i.length;return a+(s<n?new Array(n-s+1).join(t)+i:i)}function VW(e){return e.replace(KW,"\\$&")}function Xs(e){return new RegExp("^(?:"+e.map(VW).join("|")+")","i")}function Js(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function GW(e,t,n){var a=Tt.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function YW(e,t,n){var a=Tt.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function QW(e,t,n){var a=Tt.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function ZW(e,t,n){var a=Tt.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function XW(e,t,n){var a=Tt.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function zj(e,t,n){var a=Tt.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function _j(e,t,n){var a=Tt.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function JW(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function e3(e,t,n){var a=Tt.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function t3(e,t,n){var a=Tt.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function Rj(e,t,n){var a=Tt.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function n3(e,t,n){var a=Tt.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function Bj(e,t,n){var a=Tt.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function a3(e,t,n){var a=Tt.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function r3(e,t,n){var a=Tt.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function i3(e,t,n){var a=Tt.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function s3(e,t,n){var a=Tt.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function o3(e,t,n){var a=qW.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function l3(e,t,n){var a=Tt.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function c3(e,t,n){var a=Tt.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function $j(e,t){return Me(e.getDate(),t,2)}function u3(e,t){return Me(e.getHours(),t,2)}function d3(e,t){return Me(e.getHours()%12||12,t,2)}function p3(e,t){return Me(1+Nl.count(Ha(e),e),t,3)}function N1(e,t){return Me(e.getMilliseconds(),t,3)}function m3(e,t){return N1(e,t)+"000"}function h3(e,t){return Me(e.getMonth()+1,t,2)}function f3(e,t){return Me(e.getMinutes(),t,2)}function g3(e,t){return Me(e.getSeconds(),t,2)}function v3(e){var t=e.getDay();return t===0?7:t}function b3(e,t){return Me(mp.count(Ha(e)-1,e),t,2)}function k1(e){var t=e.getDay();return t>=4||t===0?bs(e):bs.ceil(e)}function y3(e,t){return e=k1(e),Me(bs.count(Ha(e),e)+(Ha(e).getDay()===4),t,2)}function x3(e){return e.getDay()}function w3(e,t){return Me(Xu.count(Ha(e)-1,e),t,2)}function j3(e,t){return Me(e.getFullYear()%100,t,2)}function C3(e,t){return e=k1(e),Me(e.getFullYear()%100,t,2)}function S3(e,t){return Me(e.getFullYear()%1e4,t,4)}function N3(e,t){var n=e.getDay();return e=n>=4||n===0?bs(e):bs.ceil(e),Me(e.getFullYear()%1e4,t,4)}function k3(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Me(t/60|0,"0",2)+Me(t%60,"0",2)}function Uj(e,t){return Me(e.getUTCDate(),t,2)}function P3(e,t){return Me(e.getUTCHours(),t,2)}function A3(e,t){return Me(e.getUTCHours()%12||12,t,2)}function E3(e,t){return Me(1+pp.count(qa(e),e),t,3)}function P1(e,t){return Me(e.getUTCMilliseconds(),t,3)}function T3(e,t){return P1(e,t)+"000"}function I3(e,t){return Me(e.getUTCMonth()+1,t,2)}function O3(e,t){return Me(e.getUTCMinutes(),t,2)}function M3(e,t){return Me(e.getUTCSeconds(),t,2)}function L3(e){var t=e.getUTCDay();return t===0?7:t}function D3(e,t){return Me(hp.count(qa(e)-1,e),t,2)}function A1(e){var t=e.getUTCDay();return t>=4||t===0?ys(e):ys.ceil(e)}function F3(e,t){return e=A1(e),Me(ys.count(qa(e),e)+(qa(e).getUTCDay()===4),t,2)}function z3(e){return e.getUTCDay()}function _3(e,t){return Me(Ju.count(qa(e)-1,e),t,2)}function R3(e,t){return Me(e.getUTCFullYear()%100,t,2)}function B3(e,t){return e=A1(e),Me(e.getUTCFullYear()%100,t,2)}function $3(e,t){return Me(e.getUTCFullYear()%1e4,t,4)}function U3(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ys(e):ys.ceil(e),Me(e.getUTCFullYear()%1e4,t,4)}function W3(){return"+0000"}function Wj(){return"%"}function Hj(e){return+e}function qj(e){return Math.floor(+e/1e3)}var Ci,E1,T1;H3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function H3(e){return Ci=HW(e),E1=Ci.format,Ci.parse,T1=Ci.utcFormat,Ci.utcParse,Ci}function q3(e){return new Date(e)}function K3(e){return e instanceof Date?+e:+new Date(+e)}function mb(e,t,n,a,i,s,o,l,c,u){var d=Jv(),p=d.invert,h=d.domain,f=u(".%L"),g=u(":%S"),v=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),x=u("%b %d"),w=u("%B"),j=u("%Y");function C(k){return(c(k)<k?f:l(k)<k?g:o(k)<k?v:s(k)<k?y:a(k)<k?i(k)<k?b:x:n(k)<k?w:j)(k)}return d.invert=function(k){return new Date(p(k))},d.domain=function(k){return arguments.length?h(Array.from(k,K3)):h().map(q3)},d.ticks=function(k){var E=h();return e(E[0],E[E.length-1],k??10)},d.tickFormat=function(k,E){return E==null?C:u(E)},d.nice=function(k){var E=h();return(!k||typeof k.range!="function")&&(k=t(E[0],E[E.length-1],k??10)),k?h(g1(E,k)):d},d.copy=function(){return Sl(d,mb(e,t,n,a,i,s,o,l,c,u))},d}function V3(){return Un.apply(mb(UW,WW,Ha,db,mp,Nl,cb,ob,Qr,E1).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function G3(){return Un.apply(mb(BW,$W,qa,pb,hp,pp,ub,lb,Qr,T1).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fp(){var e=0,t=1,n,a,i,s,o=Yt,l=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(s(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,n=s(e=+e),a=s(t=+t),i=n===a?0:1/(a-n),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function d(p){return function(h){var f,g;return arguments.length?([f,g]=h,o=p(f,g),u):[o(0),o(1)]}}return u.range=d(ks),u.rangeRound=d(Xv),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return s=p,n=p(e),a=p(t),i=n===a?0:1/(a-n),u}}function _r(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function I1(){var e=zr(fp()(Yt));return e.copy=function(){return _r(e,I1())},Xa.apply(e,arguments)}function O1(){var e=nb(fp()).domain([1,10]);return e.copy=function(){return _r(e,O1()).base(e.base())},Xa.apply(e,arguments)}function M1(){var e=ab(fp());return e.copy=function(){return _r(e,M1()).constant(e.constant())},Xa.apply(e,arguments)}function hb(){var e=rb(fp());return e.copy=function(){return _r(e,hb()).exponent(e.exponent())},Xa.apply(e,arguments)}function Y3(){return hb.apply(null,arguments).exponent(.5)}function L1(){var e=[],t=Yt;function n(a){if(a!=null&&!isNaN(a=+a))return t((jl(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let i of a)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Nr),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return e.map((a,i)=>t(i/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(i,s)=>LU(e,s/a))},n.copy=function(){return L1(t).domain(e)},Xa.apply(n,arguments)}function gp(){var e=0,t=.5,n=1,a=1,i,s,o,l,c,u=Yt,d,p=!1,h;function f(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-s)*(a*v<a*s?l:c),u(p?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([e,t,n]=v,i=d(e=+e),s=d(t=+t),o=d(n=+n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),a=s<i?-1:1,f):[e,t,n]},f.clamp=function(v){return arguments.length?(p=!!v,f):p},f.interpolator=function(v){return arguments.length?(u=v,f):u};function g(v){return function(y){var b,x,w;return arguments.length?([b,x,w]=y,u=oW(v,[b,x,w]),f):[u(0),u(.5),u(1)]}}return f.range=g(ks),f.rangeRound=g(Xv),f.unknown=function(v){return arguments.length?(h=v,f):h},function(v){return d=v,i=v(e),s=v(t),o=v(n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),a=s<i?-1:1,f}}function D1(){var e=zr(gp()(Yt));return e.copy=function(){return _r(e,D1())},Xa.apply(e,arguments)}function F1(){var e=nb(gp()).domain([.1,1,10]);return e.copy=function(){return _r(e,F1()).base(e.base())},Xa.apply(e,arguments)}function z1(){var e=ab(gp());return e.copy=function(){return _r(e,z1()).constant(e.constant())},Xa.apply(e,arguments)}function fb(){var e=rb(gp());return e.copy=function(){return _r(e,fb()).exponent(e.exponent())},Xa.apply(e,arguments)}function Q3(){return fb.apply(null,arguments).exponent(.5)}const uo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yv,scaleDiverging:D1,scaleDivergingLog:F1,scaleDivergingPow:fb,scaleDivergingSqrt:Q3,scaleDivergingSymlog:z1,scaleIdentity:f1,scaleImplicit:zf,scaleLinear:h1,scaleLog:v1,scaleOrdinal:Gv,scalePoint:zU,scalePow:ib,scaleQuantile:x1,scaleQuantize:w1,scaleRadial:y1,scaleSequential:I1,scaleSequentialLog:O1,scaleSequentialPow:hb,scaleSequentialQuantile:L1,scaleSequentialSqrt:Y3,scaleSequentialSymlog:M1,scaleSqrt:TW,scaleSymlog:b1,scaleThreshold:j1,scaleTime:V3,scaleUtc:G3,tickFormat:m1},Symbol.toStringTag,{value:"Module"}));var Rr=e=>e.chartData,Z3=q([Rr],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),vp=(e,t,n,a)=>a?Z3(e):Rr(e);function Ar(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(ut(t)&&ut(n))return!0}return!1}function Kj(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function _1(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,a]=e,i,s;if(ut(n))i=n;else if(typeof n=="function")return;if(ut(a))s=a;else if(typeof a=="function")return;var o=[i,s];if(Ar(o))return o}}function X3(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,n);if(Ar(a))return Kj(a,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(ge(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Aw.test(i)){var c=Aw.exec(i);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(ge(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&Ew.test(s)){var d=Ew.exec(s);if(d==null||t==null)l=void 0;else{var p=+d[1];l=t[1]+p}}else l=t==null?void 0:t[1];var h=[o,l];if(Ar(h))return t==null?h:Kj(h,t,n)}}}var Ps=1e9,J3={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vb,Ze=!0,$n="[DecimalError] ",ai=$n+"Invalid argument: ",gb=$n+"Exponent out of range: ",As=Math.floor,Hr=Math.pow,e5=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn,Nt=1e7,Ke=7,R1=9007199254740991,ed=As(R1/Ke),me={};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};me.comparedTo=me.cmp=function(e){var t,n,a,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(a=s.d.length,i=e.d.length,t=0,n=a<i?a:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return a===i?0:a>i^s.s<0?1:-1};me.decimalPlaces=me.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ke;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(e){return Da(this,new this.constructor(e))};me.dividedToIntegerBy=me.idiv=function(e){var t=this,n=t.constructor;return Be(Da(t,new n(e),0,1),n.precision)};me.equals=me.eq=function(e){return!this.cmp(e)};me.exponent=function(){return mt(this)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){return this.cmp(e)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,n=this,a=n.constructor,i=a.precision,s=i+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(bn))throw Error($n+"NaN");if(n.s<1)throw Error($n+(n.s?"NaN":"-Infinity"));return n.eq(bn)?new a(0):(Ze=!1,t=Da(al(n,s),al(e,s),s),Ze=!0,Be(t,i))};me.minus=me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?U1(t,e):B1(t,(e.s=-e.s,e))};me.modulo=me.mod=function(e){var t,n=this,a=n.constructor,i=a.precision;if(e=new a(e),!e.s)throw Error($n+"NaN");return n.s?(Ze=!1,t=Da(n,e,0,1).times(e),Ze=!0,n.minus(t)):Be(new a(n),i)};me.naturalExponential=me.exp=function(){return $1(this)};me.naturalLogarithm=me.ln=function(){return al(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};me.plus=me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?B1(t,e):U1(t,(e.s=-e.s,e))};me.precision=me.sd=function(e){var t,n,a,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ai+e);if(t=mt(i)+1,a=i.d.length-1,n=a*Ke+1,a=i.d[a],a){for(;a%10==0;a/=10)n--;for(a=i.d[0];a>=10;a/=10)n++}return e&&t>n?t:n};me.squareRoot=me.sqrt=function(){var e,t,n,a,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error($n+"NaN")}for(e=mt(l),Ze=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=ha(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=As((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=a,a=s.plus(Da(l,s,o+2)).times(.5),ha(s.d).slice(0,o)===(t=ha(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Be(s,n+1,0),s.times(s).eq(l)){a=s;break}}else if(t!="9999")break;o+=4}return Ze=!0,Be(a,n)};me.times=me.mul=function(e){var t,n,a,i,s,o,l,c,u,d=this,p=d.constructor,h=d.d,f=(e=new p(e)).d;if(!d.s||!e.s)return new p(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=f.length,c<u&&(s=h,h=f,f=s,o=c,c=u,u=o),s=[],o=c+u,a=o;a--;)s.push(0);for(a=u;--a>=0;){for(t=0,i=c+a;i>a;)l=s[i]+f[a]*h[i-a-1]+t,s[i--]=l%Nt|0,t=l/Nt|0;s[i]=(s[i]+t)%Nt|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,Ze?Be(e,p.precision):e};me.toDecimalPlaces=me.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(xa(e,0,Ps),t===void 0?t=a.rounding:xa(t,0,8),Be(n,e+mt(n)+1,t))};me.toExponential=function(e,t){var n,a=this,i=a.constructor;return e===void 0?n=mi(a,!0):(xa(e,0,Ps),t===void 0?t=i.rounding:xa(t,0,8),a=Be(new i(a),e+1,t),n=mi(a,!0,e+1)),n};me.toFixed=function(e,t){var n,a,i=this,s=i.constructor;return e===void 0?mi(i):(xa(e,0,Ps),t===void 0?t=s.rounding:xa(t,0,8),a=Be(new s(i),e+mt(i)+1,t),n=mi(a.abs(),!1,e+mt(a)+1),i.isneg()&&!i.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var e=this,t=e.constructor;return Be(new t(e),mt(e)+1,t.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(e){var t,n,a,i,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(bn);if(l=new c(l),!l.s){if(e.s<1)throw Error($n+"Infinity");return l}if(l.eq(bn))return l;if(a=c.precision,e.eq(bn))return Be(l,a);if(t=e.e,n=e.d.length-1,o=t>=n,s=l.s,o){if((n=d<0?-d:d)<=R1){for(i=new c(bn),t=Math.ceil(a/Ke+4),Ze=!1;n%2&&(i=i.times(l),Gj(i.d,t)),n=As(n/2),n!==0;)l=l.times(l),Gj(l.d,t);return Ze=!0,e.s<0?new c(bn).div(i):Be(i,a)}}else if(s<0)throw Error($n+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Ze=!1,i=e.times(al(l,a+u)),Ze=!0,i=$1(i),i.s=s,i};me.toPrecision=function(e,t){var n,a,i=this,s=i.constructor;return e===void 0?(n=mt(i),a=mi(i,n<=s.toExpNeg||n>=s.toExpPos)):(xa(e,1,Ps),t===void 0?t=s.rounding:xa(t,0,8),i=Be(new s(i),e,t),n=mt(i),a=mi(i,e<=n||n<=s.toExpNeg,e)),a};me.toSignificantDigits=me.tosd=function(e,t){var n=this,a=n.constructor;return e===void 0?(e=a.precision,t=a.rounding):(xa(e,1,Ps),t===void 0?t=a.rounding:xa(t,0,8)),Be(new a(n),e,t)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mt(e),n=e.constructor;return mi(e,t<=n.toExpNeg||t>=n.toExpPos)};function B1(e,t){var n,a,i,s,o,l,c,u,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ze?Be(t,p):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(a=c,s=-s,l=u.length):(a=u,i=o,l=c.length),o=Math.ceil(p/Ke),l=o>l?o+1:l+1,s>l&&(s=l,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,a=u,u=c,c=a),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/Nt|0,c[s]%=Nt;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Ze?Be(t,p):t}function xa(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ai+e)}function ha(e){var t,n,a,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)a=e[t]+"",n=Ke-a.length,n&&(s+=or(n)),s+=a;o=e[t],a=o+"",n=Ke-a.length,n&&(s+=or(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Da=function(){function e(a,i){var s,o=0,l=a.length;for(a=a.slice();l--;)s=a[l]*i+o,a[l]=s%Nt|0,o=s/Nt|0;return o&&a.unshift(o),a}function t(a,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(a[l]!=i[l]){c=a[l]>i[l]?1:-1;break}return c}function n(a,i,s){for(var o=0;s--;)a[s]-=o,o=a[s]<i[s]?1:0,a[s]=o*Nt+a[s]-i[s];for(;!a[0]&&a.length>1;)a.shift()}return function(a,i,s,o){var l,c,u,d,p,h,f,g,v,y,b,x,w,j,C,k,E,O,M=a.constructor,P=a.s==i.s?1:-1,T=a.d,S=i.d;if(!a.s)return new M(a);if(!i.s)throw Error($n+"Division by zero");for(c=a.e-i.e,E=S.length,C=T.length,f=new M(P),g=f.d=[],u=0;S[u]==(T[u]||0);)++u;if(S[u]>(T[u]||0)&&--c,s==null?x=s=M.precision:o?x=s+(mt(a)-mt(i))+1:x=s,x<0)return new M(0);if(x=x/Ke+2|0,u=0,E==1)for(d=0,S=S[0],x++;(u<C||d)&&x--;u++)w=d*Nt+(T[u]||0),g[u]=w/S|0,d=w%S|0;else{for(d=Nt/(S[0]+1)|0,d>1&&(S=e(S,d),T=e(T,d),E=S.length,C=T.length),j=E,v=T.slice(0,E),y=v.length;y<E;)v[y++]=0;O=S.slice(),O.unshift(0),k=S[0],S[1]>=Nt/2&&++k;do d=0,l=t(S,v,E,y),l<0?(b=v[0],E!=y&&(b=b*Nt+(v[1]||0)),d=b/k|0,d>1?(d>=Nt&&(d=Nt-1),p=e(S,d),h=p.length,y=v.length,l=t(p,v,h,y),l==1&&(d--,n(p,E<h?O:S,h))):(d==0&&(l=d=1),p=S.slice()),h=p.length,h<y&&p.unshift(0),n(v,p,y),l==-1&&(y=v.length,l=t(S,v,E,y),l<1&&(d++,n(v,E<y?O:S,y))),y=v.length):l===0&&(d++,v=[0]),g[u++]=d,l&&v[0]?v[y++]=T[j]||0:(v=[T[j]],y=1);while((j++<C||v[0]!==void 0)&&x--)}return g[0]||g.shift(),f.e=c,Be(f,o?s+mt(f)+1:s)}}();function $1(e,t){var n,a,i,s,o,l,c=0,u=0,d=e.constructor,p=d.precision;if(mt(e)>16)throw Error(gb+mt(e));if(!e.s)return new d(bn);for(Ze=!1,l=p,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(a=Math.log(Hr(2,u))/Math.LN10*2+5|0,l+=a,n=i=s=new d(bn),d.precision=l;;){if(i=Be(i.times(e),l),n=n.times(++c),o=s.plus(Da(i,n,l)),ha(o.d).slice(0,l)===ha(s.d).slice(0,l)){for(;u--;)s=Be(s.times(s),l);return d.precision=p,t==null?(Ze=!0,Be(s,p)):s}s=o}}function mt(e){for(var t=e.e*Ke,n=e.d[0];n>=10;n/=10)t++;return t}function _m(e,t,n){if(t>e.LN10.sd())throw Ze=!0,n&&(e.precision=n),Error($n+"LN10 precision limit exceeded");return Be(new e(e.LN10),t)}function or(e){for(var t="";e--;)t+="0";return t}function al(e,t){var n,a,i,s,o,l,c,u,d,p=1,h=10,f=e,g=f.d,v=f.constructor,y=v.precision;if(f.s<1)throw Error($n+(f.s?"NaN":"-Infinity"));if(f.eq(bn))return new v(0);if(t==null?(Ze=!1,u=y):u=t,f.eq(10))return t==null&&(Ze=!0),_m(v,u);if(u+=h,v.precision=u,n=ha(g),a=n.charAt(0),s=mt(f),Math.abs(s)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)f=f.times(e),n=ha(f.d),a=n.charAt(0),p++;s=mt(f),a>1?(f=new v("0."+n),s++):f=new v(a+"."+n.slice(1))}else return c=_m(v,u+2,y).times(s+""),f=al(new v(a+"."+n.slice(1)),u-h).plus(c),v.precision=y,t==null?(Ze=!0,Be(f,y)):f;for(l=o=f=Da(f.minus(bn),f.plus(bn),u),d=Be(f.times(f),u),i=3;;){if(o=Be(o.times(d),u),c=l.plus(Da(o,new v(i),u)),ha(c.d).slice(0,u)===ha(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(_m(v,u+2,y).times(s+""))),l=Da(l,new v(p),u),v.precision=y,t==null?(Ze=!0,Be(l,y)):l;l=c,i+=2}}function Vj(e,t){var n,a,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(a,i),t){if(i-=a,n=n-a-1,e.e=As(n/Ke),e.d=[],a=(n+1)%Ke,n<0&&(a+=Ke),a<i){for(a&&e.d.push(+t.slice(0,a)),i-=Ke;a<i;)e.d.push(+t.slice(a,a+=Ke));t=t.slice(a),a=Ke-t.length}else a-=i;for(;a--;)t+="0";if(e.d.push(+t),Ze&&(e.e>ed||e.e<-ed))throw Error(gb+n)}else e.s=0,e.e=0,e.d=[0];return e}function Be(e,t,n){var a,i,s,o,l,c,u,d,p=e.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(a=t-o,a<0)a+=Ke,i=t,u=p[d=0];else{if(d=Math.ceil((a+1)/Ke),s=p.length,d>=s)return e;for(u=s=p[d],o=1;s>=10;s/=10)o++;a%=Ke,i=a-Ke+o}if(n!==void 0&&(s=Hr(10,o-i-1),l=u/s%10|0,c=t<0||p[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(a>0?i>0?u/Hr(10,o-i):0:p[d-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return c?(s=mt(e),p.length=1,t=t-s-1,p[0]=Hr(10,(Ke-t%Ke)%Ke),e.e=As(-t/Ke)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(a==0?(p.length=d,s=1,d--):(p.length=d+1,s=Hr(10,Ke-a),p[d]=i>0?(u/Hr(10,o-i)%Hr(10,i)|0)*s:0),c)for(;;)if(d==0){(p[0]+=s)==Nt&&(p[0]=1,++e.e);break}else{if(p[d]+=s,p[d]!=Nt)break;p[d--]=0,s=1}for(a=p.length;p[--a]===0;)p.pop();if(Ze&&(e.e>ed||e.e<-ed))throw Error(gb+mt(e));return e}function U1(e,t){var n,a,i,s,o,l,c,u,d,p,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ze?Be(t,f):t;if(c=e.d,p=t.d,a=t.e,u=e.e,c=c.slice(),o=u-a,o){for(d=o<0,d?(n=c,o=-o,l=p.length):(n=p,a=u,l=c.length),i=Math.max(Math.ceil(f/Ke),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}o=0}for(d&&(n=c,c=p,p=n,t.s=-t.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=Nt-1;--c[s],c[i]+=Nt}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,Ze?Be(t,f):t):new h(0)}function mi(e,t,n){var a,i=mt(e),s=ha(e.d),o=s.length;return t?(n&&(a=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+or(a):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+or(-i-1)+s,n&&(a=n-o)>0&&(s+=or(a))):i>=o?(s+=or(i+1-o),n&&(a=n-i-1)>0&&(s=s+"."+or(a))):((a=i+1)<o&&(s=s.slice(0,a)+"."+s.slice(a)),n&&(a=n-o)>0&&(i+1===o&&(s+="."),s+=or(a))),e.s<0?"-"+s:s}function Gj(e,t){if(e.length>t)return e.length=t,!0}function W1(e){var t,n,a;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ai+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Vj(o,s.toString())}else if(typeof s!="string")throw Error(ai+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,e5.test(s))Vj(o,s);else throw Error(ai+s)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=W1,i.config=i.set=t5,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(n=a[t++])||(e[n]=this[n]);return i.config(e),i}function t5(e){if(!e||typeof e!="object")throw Error($n+"Object expected");var t,n,a,i=["precision",1,Ps,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((a=e[n=i[t]])!==void 0)if(As(a)===a&&a>=i[t+1]&&a<=i[t+2])this[n]=a;else throw Error(ai+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(ai+n+": "+a);return this}var vb=W1(J3);bn=new vb(1);const ze=vb;var n5=e=>e,H1={},q1=e=>e===H1,Yj=e=>function t(){return arguments.length===0||arguments.length===1&&q1(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},K1=(e,t)=>e===1?t:Yj(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(o=>o!==H1).length;return s>=e?t(...a):K1(e-s,Yj(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(d=>q1(d)?l.shift():d);return t(...u,...l)}))}),a5=e=>K1(e.length,e),$f=(e,t)=>{for(var n=[],a=e;a<t;++a)n[a-e]=a;return n},r5=a5((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),i5=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return n5;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((l,c)=>c(l),s(...arguments))}},Uf=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function V1(e){var t;return e===0?t=1:t=Math.floor(new ze(e).abs().log(10).toNumber())+1,t}function G1(e,t,n){for(var a=new ze(e),i=0,s=[];a.lt(t)&&i<1e5;)s.push(a.toNumber()),a=a.add(n),i++;return s}var Y1=e=>{var[t,n]=e,[a,i]=[t,n];return t>n&&([a,i]=[n,t]),[a,i]},Q1=(e,t,n)=>{if(e.lte(0))return new ze(0);var a=V1(e.toNumber()),i=new ze(10).pow(a),s=e.div(i),o=a!==1?.05:.1,l=new ze(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?new ze(c.toNumber()):new ze(Math.ceil(c.toNumber()))},s5=(e,t,n)=>{var a=new ze(1),i=new ze(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(a=new ze(10).pow(V1(e)-1),i=new ze(Math.floor(i.div(a).toNumber())).mul(a)):s>1&&(i=new ze(Math.floor(e)))}else e===0?i=new ze(Math.floor((t-1)/2)):n||(i=new ze(Math.floor(e)));var o=Math.floor((t-1)/2),l=i5(r5(c=>i.add(new ze(c-o).mul(a)).toNumber()),$f);return l(0,t)},Z1=function(t,n,a,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(a-1)))return{step:new ze(0),tickMin:new ze(0),tickMax:new ze(0)};var o=Q1(new ze(n).sub(t).div(a-1),i,s),l;t<=0&&n>=0?l=new ze(0):(l=new ze(t).add(n).div(2),l=l.sub(new ze(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new ze(n).sub(l).div(o).toNumber()),d=c+u+1;return d>a?Z1(t,n,a,i,s+1):(d<a&&(u=n>0?u+(a-d):u,c=n>0?c:c+(a-d)),{step:o,tickMin:l.sub(new ze(c).mul(o)),tickMax:l.add(new ze(u).mul(o))})},o5=function(t){var[n,a]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,c]=Y1([n,a]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...$f(0,i-1).map(()=>1/0)]:[...$f(0,i-1).map(()=>-1/0),c];return n>a?Uf(u):u}if(l===c)return s5(l,i,s);var{step:d,tickMin:p,tickMax:h}=Z1(l,c,o,s,0),f=G1(p,h.add(new ze(.1).mul(d)),d);return n>a?Uf(f):f},l5=function(t,n){var[a,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=Y1([a,i]);if(o===-1/0||l===1/0)return[a,i];if(o===l)return[o];var c=Math.max(n,2),u=Q1(new ze(l).sub(o).div(c-1),s,0),d=[...G1(new ze(o),new ze(l),u),l];return s===!1&&(d=d.map(p=>Math.round(p))),a>i?Uf(d):d},X1=e=>e.rootProps.maxBarSize,c5=e=>e.rootProps.barGap,J1=e=>e.rootProps.barCategoryGap,u5=e=>e.rootProps.barSize,bp=e=>e.rootProps.stackOffset,eE=e=>e.rootProps.reverseStackOrder,bb=e=>e.options.chartName,yb=e=>e.rootProps.syncId,tE=e=>e.rootProps.syncMethod,xb=e=>e.options.eventEmitter,Pt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Pa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},vn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},yp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},d5={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Pa.angleAxisId,includeHidden:!1,name:void 0,reversed:Pa.reversed,scale:Pa.scale,tick:Pa.tick,tickCount:void 0,ticks:void 0,type:Pa.type,unit:void 0},p5={allowDataOverflow:vn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:vn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vn.scale,tick:vn.tick,tickCount:vn.tickCount,ticks:void 0,type:vn.type,unit:void 0},m5={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pa.scale,tick:Pa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},h5={allowDataOverflow:vn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:vn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vn.scale,tick:vn.tick,tickCount:vn.tickCount,ticks:void 0,type:"category",unit:void 0},wb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?m5:d5,jb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?h5:p5,xp=e=>e.polarOptions,Cb=q([Qa,Za,Et],pU),nE=q([xp,Cb],(e,t)=>{if(e!=null)return sa(e.innerRadius,t,0)}),aE=q([xp,Cb],(e,t)=>{if(e!=null)return sa(e.outerRadius,t,t*.8)}),f5=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},rE=q([xp],f5);q([wb,rE],yp);var iE=q([Cb,nE,aE],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});q([jb,iE],yp);var sE=q([De,xp,nE,aE,Qa,Za],(e,t,n,a,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||a==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:sa(o,i,i/2),cy:sa(l,s,s/2),innerRadius:n,outerRadius:a,startAngle:c,endAngle:u,clockWise:!1}}}),yt=(e,t)=>t,wp=(e,t,n)=>n;function Sb(e){return e==null?void 0:e.id}function oE(e,t,n){var{chartData:a=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:a;if(!(u==null||u.length===0)){var d=Sb(l);u.forEach((p,h)=>{var f=s==null||i?h:String(vt(p,s,null)),g=vt(p,l.dataKey,0),v;o.has(f)?v=o.get(f):v={},Object.assign(v,{[d]:g}),o.set(f,v)})}}),Array.from(o.values())}function jp(e){return e.stackId!=null&&e.dataKey!=null}var Cp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Sp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function g5(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var xt=e=>{var t=De(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Es=e=>e.tooltip.settings.axisId;function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(a){v5(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function v5(e,t,n){return(t=b5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b5(e){var t=y5(e,"string");return typeof t=="symbol"?t:t+""}function y5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wf=[0,"auto"],Ct={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lE=(e,t)=>e.cartesianAxis.xAxis[t],Ja=(e,t)=>{var n=lE(e,t);return n??Ct},St={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Wf,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bl},cE=(e,t)=>e.cartesianAxis.yAxis[t],er=(e,t)=>{var n=cE(e,t);return n??St},x5={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Nb=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??x5},an=(e,t,n)=>{switch(t){case"xAxis":return Ja(e,n);case"yAxis":return er(e,n);case"zAxis":return Nb(e,n);case"angleAxis":return wb(e,n);case"radiusAxis":return jb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},w5=(e,t,n)=>{switch(t){case"xAxis":return Ja(e,n);case"yAxis":return er(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},kl=(e,t,n)=>{switch(t){case"xAxis":return Ja(e,n);case"yAxis":return er(e,n);case"angleAxis":return wb(e,n);case"radiusAxis":return jb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},uE=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function dE(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Np=e=>e.graphicalItems.cartesianItems,j5=q([yt,wp],dE),pE=(e,t,n)=>e.filter(n).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),Pl=q([Np,an,j5],pE,{memoizeOptions:{resultEqualityCheck:Sp}}),mE=q([Pl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(jp)),hE=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),C5=q([Pl],hE),fE=e=>e.map(t=>t.data).filter(Boolean).flat(1),S5=q([Pl],fE,{memoizeOptions:{resultEqualityCheck:Sp}}),gE=(e,t)=>{var{chartData:n=[],dataStartIndex:a,dataEndIndex:i}=t;return e.length>0?e:n.slice(a,i+1)},kb=q([S5,vp],gE),vE=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:vt(a,t.dataKey)})):n.length>0?n.map(a=>a.dataKey).flatMap(a=>e.map(i=>({value:vt(i,a)}))):e.map(a=>({value:a})),kp=q([kb,an,Pl],vE);function bE(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Hc(e){if(ba(e)||e instanceof Date){var t=Number(e);if(ut(t))return t}}function Zj(e){if(Array.isArray(e)){var t=[Hc(e[0]),Hc(e[1])];return Ar(t)?t:void 0}var n=Hc(e);if(n!=null)return[n,n]}function Ka(e){return e.map(Hc).filter(B_)}function N5(e,t,n){return!n||typeof t!="number"||ia(t)?[]:n.length?Ka(n.flatMap(a=>{var i=vt(e,a.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!ut(s)||!ut(o)))return[t-s,t+o]})):[]}var wt=e=>{var t=xt(e),n=Es(e);return kl(e,t,n)},Al=q([wt],e=>e==null?void 0:e.dataKey),k5=q([mE,vp,wt],oE),yE=(e,t,n,a)=>{var i={},s=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(s).map(o=>{var[l,c]=o,u=a?[...c].reverse():c,d=u.map(Sb);return[l,{stackedData:VR(e,d,n),graphicalItems:u}]}))},Hf=q([k5,mE,bp,eE],yE),xE=(e,t,n,a)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(a==null&&n!=="zAxis"){var o=XR(e,i,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},P5=q([an],e=>e.allowDataOverflow),Pb=e=>{var t;if(e==null||!("domain"in e))return Wf;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ka(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Wf},wE=q([an],Pb),jE=q([wE,P5],_1),A5=q([Hf,Rr,yt,jE],xE,{memoizeOptions:{resultEqualityCheck:Cp}}),Ab=e=>e.errorBars,E5=(e,t,n)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>bE(n,a)),nd=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},CE=(e,t,n,a,i)=>{var s,o;if(n.length>0&&e.forEach(l=>{n.forEach(c=>{var u,d,p=(u=a[c.id])===null||u===void 0?void 0:u.filter(b=>bE(i,b)),h=vt(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),f=N5(l,h,p);if(f.length>=2){var g=Math.min(...f),v=Math.max(...f);(s==null||g<s)&&(s=g),(o==null||v>o)&&(o=v)}var y=Zj(h);y!=null&&(s=s==null?y[0]:Math.min(s,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=Zj(vt(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),ut(s)&&ut(o))return[s,o]},T5=q([kb,an,C5,Ab,yt],CE,{memoizeOptions:{resultEqualityCheck:Cp}});function I5(e){var{value:t}=e;if(ba(t)||t instanceof Date)return t}var O5=(e,t,n)=>{var a=e.map(I5).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&bP(a))?a1(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},SE=e=>e.referenceElements.dots,Ts=(e,t,n)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===n:a.yAxisId===n),M5=q([SE,yt,wp],Ts),NE=e=>e.referenceElements.areas,L5=q([NE,yt,wp],Ts),kE=e=>e.referenceElements.lines,D5=q([kE,yt,wp],Ts),PE=(e,t)=>{var n=Ka(e.map(a=>t==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},F5=q(M5,yt,PE),AE=(e,t)=>{var n=Ka(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},z5=q([L5,yt],AE);function _5(e){var t;if(e.x!=null)return Ka([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return n==null||n.length===0?[]:Ka(n)}function R5(e){var t;if(e.y!=null)return Ka([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return n==null||n.length===0?[]:Ka(n)}var EE=(e,t)=>{var n=e.flatMap(a=>t==="xAxis"?_5(a):R5(a));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},B5=q([D5,yt],EE),$5=q(F5,B5,z5,(e,t,n)=>nd(e,n,t)),TE=(e,t,n,a,i,s,o,l)=>{if(n!=null)return n;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?nd(a,s,i):nd(s,i);return X3(t,u,e.allowDataOverflow)},U5=q([an,wE,jE,A5,T5,$5,De,yt],TE,{memoizeOptions:{resultEqualityCheck:Cp}}),W5=[0,1],IE=(e,t,n,a,i,s,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=Fr(t,s);if(u&&l==null){var d;return a1(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return c==="category"?O5(a,e,u):i==="expand"?W5:o}},Eb=q([an,De,kb,kp,bp,yt,U5],IE),OE=(e,t,n,a,i)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(ml(s));return l in uo?l:"point"}}},El=q([an,De,uE,bb,yt],OE);function H5(e){if(e!=null){if(e in uo)return uo[e]();var t="scale".concat(ml(e));if(t in uo)return uo[t]()}}function Tb(e,t,n,a){if(!(n==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(a);var i=H5(t);if(i!=null){var s=i.domain(n).range(a);return UR(s),s}}}var ME=(e,t,n)=>{var a=Pb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Ar(e))return o5(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ar(e))return l5(e,t.tickCount,t.allowDecimals)}},Ib=q([Eb,kl,El],ME),LE=(e,t,n,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ar(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,s),Math.max(o,l)]}return t},q5=q([an,Eb,Ib,yt],LE),K5=q(kp,an,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,a=Array.from(Ka(e.map(l=>l.value))).sort((l,c)=>l-c);if(a.length<2)return 1/0;var i=a[a.length-1]-a[0];if(i===0)return 1/0;for(var s=0;s<a.length-1;s++){var o=a[s+1]-a[s];n=Math.min(n,o)}return n/i}}),DE=q(K5,De,J1,Et,(e,t,n,a)=>a,(e,t,n,a,i)=>{if(!ut(e))return 0;var s=t==="vertical"?a.height:a.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var o=sa(n,e*s),l=e*s/2;return l-o-(l-o)/s*o}return 0}),V5=(e,t)=>{var n=Ja(e,t);return n==null||typeof n.padding!="string"?0:DE(e,"xAxis",t,n.padding)},G5=(e,t)=>{var n=er(e,t);return n==null||typeof n.padding!="string"?0:DE(e,"yAxis",t,n.padding)},Y5=q(Ja,V5,(e,t)=>{var n,a;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((a=i.right)!==null&&a!==void 0?a:0)+t}}),Q5=q(er,G5,(e,t)=>{var n,a;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((a=i.bottom)!==null&&a!==void 0?a:0)+t}}),Z5=q([Et,Y5,ap,np,(e,t,n)=>n],(e,t,n,a,i)=>{var{padding:s}=a;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),X5=q([Et,De,Q5,ap,np,(e,t,n)=>n],(e,t,n,a,i,s)=>{var{padding:o}=i;return s?[a.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Tl=(e,t,n,a)=>{var i;switch(t){case"xAxis":return Z5(e,n,a);case"yAxis":return X5(e,n,a);case"zAxis":return(i=Nb(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return rE(e);case"radiusAxis":return iE(e,n);default:return}},FE=q([an,Tl],yp),Is=q([an,El,q5,FE],Tb);q([Pl,Ab,yt],E5);function zE(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Pp=(e,t)=>t,Ap=(e,t,n)=>n,J5=q(ep,Pp,Ap,(e,t,n)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===n).sort(zE)),e4=q(tp,Pp,Ap,(e,t,n)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===n).sort(zE)),_E=(e,t)=>({width:e.width,height:t.height}),t4=(e,t)=>{var n=typeof t.width=="number"?t.width:bl;return{width:n,height:e.height}},RE=q(Et,Ja,_E),n4=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},a4=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},r4=q(Za,Et,J5,Pp,Ap,(e,t,n,a,i)=>{var s={},o;return n.forEach(l=>{var c=_E(t,l);o==null&&(o=n4(t,a,e));var u=a==="top"&&!i||a==="bottom"&&i;s[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),s}),i4=q(Qa,Et,e4,Pp,Ap,(e,t,n,a,i)=>{var s={},o;return n.forEach(l=>{var c=t4(t,l);o==null&&(o=a4(t,a,e));var u=a==="left"&&!i||a==="right"&&i;s[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),s}),s4=(e,t)=>{var n=Ja(e,t);if(n!=null)return r4(e,n.orientation,n.mirror)},o4=q([Et,Ja,s4,(e,t)=>t],(e,t,n,a)=>{if(t!=null){var i=n==null?void 0:n[a];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),l4=(e,t)=>{var n=er(e,t);if(n!=null)return i4(e,n.orientation,n.mirror)},c4=q([Et,er,l4,(e,t)=>t],(e,t,n,a)=>{if(t!=null){var i=n==null?void 0:n[a];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),BE=q(Et,er,(e,t)=>{var n=typeof t.width=="number"?t.width:bl;return{width:n,height:e.height}}),Xj=(e,t,n)=>{switch(t){case"xAxis":return RE(e,n).width;case"yAxis":return BE(e,n).height;default:return}},$E=(e,t,n,a)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,l=Fr(e,a),c=t.map(u=>u.value);if(o&&l&&s==="category"&&i&&bP(c))return c}},Ob=q([De,kp,an,yt],$E),UE=(e,t,n,a)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=Fr(e,a);if(o&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},Mb=q([De,kp,kl,yt],UE),Jj=q([De,w5,El,Is,Ob,Mb,Tl,Ib,yt],(e,t,n,a,i,s,o,l,c)=>{if(t!=null){var u=Fr(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:o,realScaleType:n,scale:a}}}),u4=(e,t,n,a,i,s,o,l,c)=>{if(!(t==null||a==null)){var u=Fr(e,c),{type:d,ticks:p,tickCount:h}=t,f=n==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,g=d==="category"&&a.bandwidth?a.bandwidth()/f:0;g=c==="angleAxis"&&s!=null&&s.length>=2?ln(s[0]-s[1])*2*g:g;var v=p||i;if(v){var y=v.map((b,x)=>{var w=o?o.indexOf(b):b;return{index:x,coordinate:a(w)+g,value:b,offset:g}});return y.filter(b=>ut(b.coordinate))}return u&&l?l.map((b,x)=>({coordinate:a(b)+g,value:b,index:x,offset:g})).filter(b=>ut(b.coordinate)):a.ticks?a.ticks(h).map(b=>({coordinate:a(b)+g,value:b,offset:g})):a.domain().map((b,x)=>({coordinate:a(b)+g,value:o?o[b]:b,index:x,offset:g}))}},WE=q([De,kl,El,Is,Ib,Tl,Ob,Mb,yt],u4),d4=(e,t,n,a,i,s,o)=>{if(!(t==null||n==null||a==null||a[0]===a[1])){var l=Fr(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(a==null?void 0:a.length)>=2?ln(a[0]-a[1])*2*u:u,l&&s?s.map((d,p)=>({coordinate:n(d)+u,value:d,index:p,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,p)=>({coordinate:n(d)+u,value:i?i[d]:d,index:p,offset:u}))}},Er=q([De,kl,Is,Tl,Ob,Mb,yt],d4),Tr=q(an,Is,(e,t)=>{if(!(e==null||t==null))return td(td({},e),{},{scale:t})}),p4=q([an,El,Eb,FE],Tb);q((e,t,n)=>Nb(e,n),p4,(e,t)=>{if(!(e==null||t==null))return td(td({},e),{},{scale:t})});var m4=q([De,ep,tp],(e,t,n)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),HE=e=>e.options.defaultTooltipEventType,qE=e=>e.options.validateTooltipEventTypes;function KE(e,t,n){if(e==null)return t;var a=e?"axis":"item";return n==null?t:n.includes(a)?a:t}function Lb(e,t){var n=HE(e),a=qE(e);return KE(t,n,a)}function h4(e){return be(t=>Lb(t,e))}var VE=(e,t)=>{var n,a=Number(t);if(!(ia(a)||t==null))return a>=0?e==null||(n=e[a])===null||n===void 0?void 0:n.value:void 0},f4=e=>e.tooltip.settings,dr={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},g4={itemInteraction:{click:dr,hover:dr},axisInteraction:{click:dr,hover:dr},keyboardInteraction:dr,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},GE=fn({name:"tooltip",initialState:g4,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ye()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:a}=t.payload,i=ta(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=a)},prepare:Ye()},removeTooltipEntrySettings:{reducer(e,t){var n=ta(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Ye()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:v4,replaceTooltipEntrySettings:b4,removeTooltipEntrySettings:y4,setTooltipSettingsState:x4,setActiveMouseOverItemIndex:YE,mouseLeaveItem:w4,mouseLeaveChart:QE,setActiveClickItemIndex:j4,setMouseOverAxisIndex:ZE,setMouseClickAxisIndex:C4,setSyncInteraction:qf,setKeyboardInteraction:Kf}=GE.actions,S4=GE.reducer;function e0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function bc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e0(Object(n),!0).forEach(function(a){N4(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function N4(e,t,n){return(t=k4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k4(e){var t=P4(e,"string");return typeof t=="symbol"?t:t+""}function P4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A4(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function E4(e){return e.index!=null}var XE=(e,t,n,a)=>{if(t==null)return dr;var i=A4(e,t,n);if(i==null)return dr;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(E4(i)){if(s)return bc(bc({},i),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return bc(bc({},dr),{},{coordinate:i.coordinate})};function T4(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function I4(e,t){var n=T4(e),a=t[0],i=t[1];if(n===void 0)return!1;var s=Math.min(a,i),o=Math.max(a,i);return n>=s&&n<=o}function O4(e,t,n){if(n==null||t==null)return!0;var a=vt(e,t);return a==null||!Ar(n)?!0:I4(a,n)}var Db=(e,t,n,a)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!ut(s))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(s,l)),u=t[c];return u==null||O4(u,n,a)?String(c):null},JE=(e,t,n,a,i,s,o,l)=>{if(!(s==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:d.coordinate}}}},eT=(e,t,n,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===i})},Il=e=>e.options.tooltipPayloadSearcher,Os=e=>e.tooltip;function t0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function n0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t0(Object(n),!0).forEach(function(a){M4(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function M4(e,t,n){return(t=L4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L4(e){var t=D4(e,"string");return typeof t=="symbol"?t:t+""}function D4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F4(e,t){return e??t}var tT=(e,t,n,a,i,s,o)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,p=[];return e.reduce((h,f)=>{var g,{dataDefinedOnItem:v,settings:y}=f,b=F4(v,l),x=Array.isArray(b)?NA(b,u,d):b,w=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:a,j=y==null?void 0:y.nameKey,C;if(a&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?C=yP(x,a,i):C=s(x,t,c,j),Array.isArray(C))C.forEach(E=>{var O=n0(n0({},y),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(Tw({tooltipEntrySettings:O,dataKey:E.dataKey,payload:E.payload,value:vt(E.payload,E.dataKey),name:E.name}))});else{var k;h.push(Tw({tooltipEntrySettings:y,dataKey:w,payload:C,value:vt(C,w),name:(k=vt(C,j))!==null&&k!==void 0?k:y==null?void 0:y.name}))}return h},p)}},Fb=q([wt,De,uE,bb,xt],OE),z4=q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),_4=q([xt,Es],dE),Ol=q([z4,wt,_4],pE,{memoizeOptions:{resultEqualityCheck:Sp}}),R4=q([Ol],e=>e.filter(jp)),B4=q([Ol],fE,{memoizeOptions:{resultEqualityCheck:Sp}}),Ms=q([B4,Rr],gE),$4=q([R4,Rr,wt],oE),zb=q([Ms,wt,Ol],vE),nT=q([wt],Pb),U4=q([wt],e=>e.allowDataOverflow),aT=q([nT,U4],_1),W4=q([Ol],e=>e.filter(jp)),H4=q([$4,W4,bp,eE],yE),q4=q([H4,Rr,xt,aT],xE),K4=q([Ol],hE),V4=q([Ms,wt,K4,Ab,xt],CE,{memoizeOptions:{resultEqualityCheck:Cp}}),G4=q([SE,xt,Es],Ts),Y4=q([G4,xt],PE),Q4=q([NE,xt,Es],Ts),Z4=q([Q4,xt],AE),X4=q([kE,xt,Es],Ts),J4=q([X4,xt],EE),eH=q([Y4,J4,Z4],nd),tH=q([wt,nT,aT,q4,V4,eH,De,xt],TE),Ml=q([wt,De,Ms,zb,bp,xt,tH],IE),nH=q([Ml,wt,Fb],ME),aH=q([wt,Ml,nH,xt],LE),rT=e=>{var t=xt(e),n=Es(e),a=!1;return Tl(e,t,n,a)},iT=q([wt,rT],yp),sT=q([wt,Fb,aH,iT],Tb),rH=q([De,zb,wt,xt],$E),iH=q([De,zb,wt,xt],UE),sH=(e,t,n,a,i,s,o,l)=>{if(t){var{type:c}=t,u=Fr(e,l);if(a){var d=n==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,p=c==="category"&&a.bandwidth?a.bandwidth()/d:0;return p=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ln(i[0]-i[1])*2*p:p,u&&o?o.map((h,f)=>({coordinate:a(h)+p,value:h,index:f,offset:p})):a.domain().map((h,f)=>({coordinate:a(h)+p,value:s?s[h]:h,index:f,offset:p}))}}},tr=q([De,wt,Fb,sT,rT,rH,iH,xt],sH),_b=q([HE,qE,f4],(e,t,n)=>KE(n.shared,e,t)),oT=e=>e.tooltip.settings.trigger,Rb=e=>e.tooltip.settings.defaultIndex,Ll=q([Os,_b,oT,Rb],XE),hi=q([Ll,Ms,Al,Ml],Db),lT=q([tr,hi],VE),cT=q([Ll],e=>{if(e)return e.dataKey});q([Ll],e=>{if(e)return e.graphicalItemId});var uT=q([Os,_b,oT,Rb],eT),oH=q([Qa,Za,De,Et,tr,Rb,uT,Il],JE),lH=q([Ll,oH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),cH=q([Ll],e=>e.active),uH=q([uT,hi,Rr,Al,lT,Il,_b],tT),dH=q([uH],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function a0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function r0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a0(Object(n),!0).forEach(function(a){pH(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function pH(e,t,n){return(t=mH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mH(e){var t=hH(e,"string");return typeof t=="symbol"?t:t+""}function hH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fH=()=>be(wt),gH=()=>{var e=fH(),t=be(tr),n=be(sT);return hs(!e||!n?void 0:r0(r0({},e),{},{scale:n}),t)};function i0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i0(Object(n),!0).forEach(function(a){vH(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function vH(e,t,n){return(t=bH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xH=(e,t,n,a)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:i.coordinate}}return{x:0,y:0}},wH=(e,t,n,a)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:o}=a;return Si(Si(Si({},a),Mt(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,{angle:c}=a;return Si(Si(Si({},a),Mt(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function jH(e,t){var{chartX:n,chartY:a}=e;return n>=t.left&&n<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var dT=(e,t,n,a,i)=>{var s,o=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(a==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?n[c-1].coordinate:n[l-1].coordinate,d=n[c].coordinate,p=c>=l-1?n[0].coordinate:n[c+1].coordinate,h=void 0;if(ln(d-u)!==ln(p-d)){var f=[];if(ln(p-d)===ln(i[1]-i[0])){h=p;var g=d+i[1]-i[0];f[0]=Math.min(g,(g+u)/2),f[1]=Math.max(g,(g+u)/2)}else{h=u;var v=p+i[1]-i[0];f[0]=Math.min(d,(v+d)/2),f[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>y[0]&&e<=y[1]||e>=f[0]&&e<=f[1]){({index:o}=n[c]);break}}else{var b=Math.min(u,p),x=Math.max(u,p);if(e>(b+d)/2&&e<=(x+d)/2){({index:o}=n[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},CH=()=>be(bb),Bb=(e,t)=>t,pT=(e,t,n)=>n,$b=(e,t,n,a)=>a,SH=q(tr,e=>Hd(e,t=>t.coordinate)),Ub=q([Os,Bb,pT,$b],XE),Wb=q([Ub,Ms,Al,Ml],Db),NH=(e,t,n)=>{if(t!=null){var a=Os(e);return t==="axis"?n==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:n==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},mT=q([Os,Bb,pT,$b],eT),ad=q([Qa,Za,De,Et,tr,$b,mT,Il],JE),kH=q([Ub,ad],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),hT=q([tr,Wb],VE),PH=q([mT,Wb,Rr,Al,hT,Il,Bb],tT),AH=q([Ub,Wb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),EH=(e,t,n,a,i,s,o)=>{if(!(!e||!n||!a||!i)&&jH(e,o)){var l=JR(e,t),c=dT(l,s,i,n,a),u=xH(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},TH=(e,t,n,a,i,s,o)=>{if(!(!e||!a||!i||!s||!n)){var l=vU(e,n);if(l){var c=eB(l,t),u=dT(c,o,s,a,i),d=wH(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},IH=(e,t,n,a,i,s,o,l)=>{if(!(!e||!t||!a||!i||!s))return t==="horizontal"||t==="vertical"?EH(e,t,a,i,s,o,l):TH(e,t,n,a,i,s,o)},OH=q(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var a=e[t];if(a!=null)return n?a.panoramaElementId:a.elementId}}),MH=q(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(Pt)),n=Array.from(new Set(t));return n.sort((a,i)=>a-i)},{memoizeOptions:{resultEqualityCheck:g5}});function s0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function o0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s0(Object(n),!0).forEach(function(a){LH(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function LH(e,t,n){return(t=DH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DH(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zH={},_H={zIndexMap:Object.values(Pt).reduce((e,t)=>o0(o0({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),zH)},RH=new Set(Object.values(Pt));function BH(e){return RH.has(e)}var fT=fn({name:"zIndex",initialState:_H,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ye()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!BH(n)&&delete e.zIndexMap[n])},prepare:Ye()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:a,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=a:e.zIndexMap[n].elementId=a:e.zIndexMap[n]={consumers:0,elementId:i?void 0:a,panoramaElementId:i?a:void 0}},prepare:Ye()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:Ye()}}}),{registerZIndexPortal:$H,unregisterZIndexPortal:UH,registerZIndexPortalId:WH,unregisterZIndexPortalId:HH}=fT.actions,qH=fT.reducer;function Wn(e){var{zIndex:t,children:n}=e,a=EB(),i=a&&t!==void 0&&t!==0,s=qt(),o=nt();m.useLayoutEffect(()=>i?(o($H({zIndex:t})),()=>{o(UH({zIndex:t}))}):hl,[o,t,i]);var l=be(u=>OH(u,t,s));if(!i)return n;if(!l)return null;var c=document.getElementById(l);return c?Id.createPortal(n,c):null}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Vf.apply(null,arguments)}function l0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l0(Object(n),!0).forEach(function(a){KH(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function KH(e,t,n){return(t=VH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YH(e){var{cursor:t,cursorComp:n,cursorProps:a}=e;return m.isValidElement(t)?m.cloneElement(t,a):m.createElement(n,a)}function QH(e){var t,{coordinate:n,payload:a,index:i,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,p=n,h=a,f=i;if(!c||!p||d!=="ScatterChart"&&u!=="axis")return null;var g,v,y;if(d==="ScatterChart")g=p,v=I$,y=Pt.cursorLine;else if(d==="BarChart")g=O$(l,p,s,o),v=QA,y=Pt.cursorRectangle;else if(l==="radial"&&wP(p)){var{cx:b,cy:x,radius:w,startAngle:j,endAngle:C}=ZA(p);g={cx:b,cy:x,startAngle:j,endAngle:C,innerRadius:w,outerRadius:w},v=JA,y=Pt.cursorLine}else g={points:wU(l,p,s)},v=qA,y=Pt.cursorLine;var k=typeof c=="object"&&"className"in c?c.className:void 0,E=yc(yc(yc(yc({stroke:"#ccc",pointerEvents:"none"},s),g),pl(c)),{},{payload:h,payloadIndex:f,className:Re("recharts-tooltip-cursor",k)});return m.createElement(Wn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},m.createElement(YH,{cursor:c,cursorComp:v,cursorProps:E}))}function ZH(e){var t=gH(),n=FA(),a=yl(),i=CH();return t==null||n==null||a==null||i==null?null:m.createElement(QH,Vf({},e,{offset:n,layout:a,tooltipAxisBandSize:t,chartName:i}))}var gT=m.createContext(null),XH=()=>m.useContext(gT),vT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,p,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new i(d,p||c,h),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],f]:c._events[g].push(f):(c._events[g]=f,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new a:delete c._events[u]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,p;if(this._eventsCount===0)return u;for(p in d=this._events)t.call(d,p)&&u.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var h=0,f=p.length,g=new Array(f);h<f;h++)g[h]=p[h].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,d,p,h,f,g){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],b=arguments.length,x,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,p),!0;case 4:return y.fn.call(y.context,d,p,h),!0;case 5:return y.fn.call(y.context,d,p,h,f),!0;case 6:return y.fn.call(y.context,d,p,h,f,g),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];y.fn.apply(y.context,x)}else{var j=y.length,C;for(w=0;w<j;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,p);break;case 4:y[w].fn.call(y[w].context,d,p,h);break;default:if(!x)for(C=1,x=new Array(b-1);C<b;C++)x[C-1]=arguments[C];y[w].fn.apply(y[w].context,x)}}return!0},l.prototype.on=function(u,d,p){return s(this,u,d,p,!1)},l.prototype.once=function(u,d,p){return s(this,u,d,p,!0)},l.prototype.removeListener=function(u,d,p,h){var f=n?n+u:u;if(!this._events[f])return this;if(!d)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===d&&(!h||g.once)&&(!p||g.context===p)&&o(this,f);else{for(var v=0,y=[],b=g.length;v<b;v++)(g[v].fn!==d||h&&!g[v].once||p&&g[v].context!==p)&&y.push(g[v]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(vT);var JH=vT.exports;const eq=wa(JH);var rl=new eq,Gf="recharts.syncEvent.tooltip",c0="recharts.syncEvent.brush";function bT(e,t){if(t){var n=Number.parseInt(t,10);if(!ia(n))return e==null?void 0:e[n]}}var tq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},yT=fn({name:"options",initialState:tq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nq=yT.reducer,{createEventEmitter:aq}=yT.actions;function rq(e){return e.tooltip.syncInteraction}var iq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},xT=fn({name:"chartData",initialState:iq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:a}=t.payload;n!=null&&(e.dataStartIndex=n),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:u0,setDataStartEndIndexes:sq,setComputedData:OQ}=xT.actions,oq=xT.reducer,lq=["x","y"];function d0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d0(Object(n),!0).forEach(function(a){cq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function cq(e,t,n){return(t=uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uq(e){var t=dq(e,"string");return typeof t=="symbol"?t:t+""}function dq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pq(e,t){if(e==null)return{};var n,a,i=mq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mq(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function hq(){var e=be(yb),t=be(xb),n=nt(),a=be(tE),i=be(tr),s=yl(),o=rp(),l=be(c=>c.rootProps.className);m.useEffect(()=>{if(e==null)return hl;var c=(u,d,p)=>{if(t!==p&&e===u){if(a==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var f=d.payload.coordinate,{x:g,y:v}=f,y=pq(f,lq),{x:b,y:x,width:w,height:j}=d.payload.sourceViewBox,C=Ni(Ni({},y),{},{x:o.x+(w?(g-b)/w:0)*o.width,y:o.y+(j?(v-x)/j:0)*o.height});n(Ni(Ni({},d),{},{payload:Ni(Ni({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var k;if(typeof a=="function"){var E={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=a(i,E);k=i[O]}else a==="value"&&(k=i.find(_=>String(_.value)===d.payload.label));var{coordinate:M}=d.payload;if(k==null||d.payload.active===!1||M==null||o==null){n(qf({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:P,y:T}=M,S=Math.min(P,o.x+o.width),N=Math.min(T,o.y+o.height),A={x:s==="horizontal"?k.coordinate:S,y:s==="horizontal"?N:k.coordinate},L=qf({active:d.payload.active,coordinate:A,dataKey:d.payload.dataKey,index:String(k.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(L)}}};return rl.on(Gf,c),()=>{rl.off(Gf,c)}},[l,n,t,e,a,i,s,o])}function fq(){var e=be(yb),t=be(xb),n=nt();m.useEffect(()=>{if(e==null)return hl;var a=(i,s,o)=>{t!==o&&e===i&&n(sq(s))};return rl.on(c0,a),()=>{rl.off(c0,a)}},[n,t,e])}function gq(){var e=nt();m.useEffect(()=>{e(aq())},[e]),hq(),fq()}function vq(e,t,n,a,i,s){var o=be(f=>NH(f,e,t)),l=be(xb),c=be(yb),u=be(tE),d=be(rq),p=d==null?void 0:d.active,h=rp();m.useEffect(()=>{if(!p&&c!=null&&l!=null){var f=qf({active:s,coordinate:n,dataKey:o,index:i,label:typeof a=="number"?String(a):a,sourceViewBox:h,graphicalItemId:void 0});rl.emit(Gf,c,f,l)}},[p,n,o,i,a,l,c,u,s,h])}function p0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function m0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p0(Object(n),!0).forEach(function(a){bq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function bq(e,t,n){return(t=yq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yq(e){var t=xq(e,"string");return typeof t=="symbol"?t:t+""}function xq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wq(e){return e.dataKey}function jq(e,t){return m.isValidElement(e)?m.cloneElement(e,t):typeof e=="function"?m.createElement(e,t):m.createElement(u$,t)}var h0=[],Cq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function eo(e){var t,n,a=zt(e,Cq),{active:i,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:p,payloadUniqBy:h,position:f,reverseDirection:g,useTranslate3d:v,wrapperStyle:y,cursor:b,shared:x,trigger:w,defaultIndex:j,portal:C,axisId:k}=a,E=nt(),O=typeof j=="number"?String(j):j;m.useEffect(()=>{E(x4({shared:x,trigger:w,axisId:k,active:i,defaultIndex:O}))},[E,x,w,k,i,O]);var M=rp(),P=HA(),T=h4(x),{activeIndex:S,isActive:N}=(t=be(V=>AH(V,T,w,O)))!==null&&t!==void 0?t:{},A=be(V=>PH(V,T,w,O)),L=be(V=>hT(V,T,w,O)),_=be(V=>kH(V,T,w,O)),I=A,D=XH(),F=(n=i??N)!==null&&n!==void 0?n:!1,[R,z]=YP([I,F]),U=T==="axis"?L:void 0;vq(T,w,_,U,S,F);var K=C??D;if(K==null||M==null||T==null)return null;var Z=I??h0;F||(Z=h0),u&&Z.length&&(Z=RP(Z.filter(V=>V.value!=null&&(V.hide!==!0||a.includeHidden)),h,wq));var oe=Z.length>0,fe=m.createElement(v$,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:F,coordinate:_,hasPayload:oe,offset:p,position:f,reverseDirection:g,useTranslate3d:v,viewBox:M,wrapperStyle:y,lastBoundingBox:R,innerRef:z,hasPortalFromProps:!!C},jq(c,m0(m0({},a),{},{payload:Z,label:U,active:F,activeIndex:S,coordinate:_,accessibilityLayer:P})));return m.createElement(m.Fragment,null,Id.createPortal(fe,K),F&&m.createElement(ZH,{cursor:b,tooltipEventType:T,coordinate:_,payload:Z,index:S}))}var wT=e=>null;wT.displayName="Cell";function Sq(e,t,n){return(t=Nq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nq(e){var t=kq(e,"string");return typeof t=="symbol"?t:t+""}function kq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Pq{constructor(t){Sq(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;a!=null&&this.cache.delete(a)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function f0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Aq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f0(Object(n),!0).forEach(function(a){Eq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Eq(e,t,n){return(t=Tq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tq(e){var t=Iq(e,"string");return typeof t=="symbol"?t:t+""}function Iq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oq={cacheSize:2e3,enableCache:!0},jT=Aq({},Oq),g0=new Pq(jT.cacheSize),Mq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},v0="recharts_measurement_span";function Lq(e,t){var n=t.fontSize||"",a=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(l)}var b0=(e,t)=>{try{var n=document.getElementById(v0);n||(n=document.createElement("span"),n.setAttribute("id",v0),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Mq,t),n.textContent="".concat(e);var a=n.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Co=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wl.isSsr)return{width:0,height:0};if(!jT.enableCache)return b0(t,n);var a=Lq(t,n),i=g0.get(a);if(i)return i;var s=b0(t,n);return g0.set(a,s),s},y0=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,x0=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zq=Object.keys(CT),Vi="NaN";function _q(e,t){return e*CT[t]}class rn{static parse(t){var n,[,a,i]=(n=Fq.exec(t))!==null&&n!==void 0?n:[];return new rn(parseFloat(a),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ia(t)&&(this.unit=""),n!==""&&!Dq.test(n)&&(this.num=NaN,this.unit=""),zq.includes(n)&&(this.num=_q(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new rn(NaN,""):new rn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new rn(NaN,""):new rn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new rn(NaN,""):new rn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new rn(NaN,""):new rn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ia(this.num)}}function ST(e){if(e.includes(Vi))return Vi;for(var t=e;t.includes("*")||t.includes("/");){var n,[,a,i,s]=(n=y0.exec(t))!==null&&n!==void 0?n:[],o=rn.parse(a??""),l=rn.parse(s??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Vi;t=t.replace(y0,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,p,h]=(u=x0.exec(t))!==null&&u!==void 0?u:[],f=rn.parse(d??""),g=rn.parse(h??""),v=p==="+"?f.add(g):f.subtract(g);if(v.isNaN())return Vi;t=t.replace(x0,v.toString())}return t}var w0=/\(([^()]*)\)/;function Rq(e){for(var t=e,n;(n=w0.exec(t))!=null;){var[,a]=n;t=t.replace(w0,ST(a))}return t}function Bq(e){var t=e.replace(/\s+/g,"");return t=Rq(t),t=ST(t),t}function $q(e){try{return Bq(e)}catch{return Vi}}function Rm(e){var t=$q(e.slice(5,-1));return t===Vi?"":t}var Uq=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Wq=["dx","dy","angle","className","breakAll"];function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Yf.apply(null,arguments)}function j0(e,t){if(e==null)return{};var n,a,i=Hq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hq(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var NT=/[ \f\n\r\t\v\u2028\u2029]+/,kT=e=>{var{children:t,breakAll:n,style:a}=e;try{var i=[];Xe(t)||(n?i=t.toString().split(""):i=t.toString().split(NT));var s=i.map(l=>({word:l,width:Co(l,a).width})),o=n?0:Co("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function qq(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var PT=(e,t,n,a)=>e.reduce((i,s)=>{var{word:o,width:l}=s,c=i[i.length-1];if(c&&l!=null&&(t==null||a||c.width+l+n<Number(t)))c.words.push(o),c.width+=l+n;else{var u={words:[o],width:l};i.push(u)}return i},[]),AT=e=>e.reduce((t,n)=>t.width>n.width?t:n),Kq="",C0=(e,t,n,a,i,s,o,l)=>{var c=e.slice(0,t),u=kT({breakAll:n,style:a,children:c+Kq});if(!u)return[!1,[]];var d=PT(u.wordsWithComputedWidth,s,o,l),p=d.length>i||AT(d).width>Number(s);return[p,d]},Vq=(e,t,n,a,i)=>{var{maxLines:s,children:o,style:l,breakAll:c}=e,u=ge(s),d=String(o),p=PT(t,a,n,i);if(!u||i)return p;var h=p.length>s||AT(p).width>Number(a);if(!h)return p;for(var f=0,g=d.length-1,v=0,y;f<=g&&v<=d.length-1;){var b=Math.floor((f+g)/2),x=b-1,[w,j]=C0(d,x,c,l,s,a,n,i),[C]=C0(d,b,c,l,s,a,n,i);if(!w&&!C&&(f=b+1),w&&C&&(g=b-1),!w&&C){y=j;break}v++}return y||p},S0=e=>{var t=Xe(e)?[]:e.toString().split(NT);return[{words:t,width:void 0}]},Gq=e=>{var{width:t,scaleToFit:n,children:a,style:i,breakAll:s,maxLines:o}=e;if((t||n)&&!wl.isSsr){var l,c,u=kT({breakAll:s,children:a,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:p}=u;l=d,c=p}else return S0(a);return Vq({breakAll:s,children:a,maxLines:o,style:i},l,c,t,!!n)}return S0(a)},ET="#808080",Yq={angle:0,breakAll:!1,capHeight:"0.71em",fill:ET,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Hb=m.forwardRef((e,t)=>{var n=zt(e,Yq),{x:a,y:i,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=n,p=j0(n,Uq),h=m.useMemo(()=>Gq({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:f,dy:g,angle:v,className:y,breakAll:b}=p,x=j0(p,Wq);if(!ba(a)||!ba(i)||h.length===0)return null;var w=Number(a)+(ge(f)?f:0),j=Number(i)+(ge(g)?g:0);if(!ut(w)||!ut(j))return null;var C;switch(d){case"start":C=Rm("calc(".concat(o,")"));break;case"middle":C=Rm("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:C=Rm("calc(".concat(h.length-1," * -").concat(s,")"));break}var k=[];if(c){var E=h[0].width,{width:O}=p;k.push("scale(".concat(ge(O)&&ge(E)?O/E:1,")"))}return v&&k.push("rotate(".concat(v,", ").concat(w,", ").concat(j,")")),k.length&&(x.transform=k.join(" ")),m.createElement("text",Yf({},Zt(x),{ref:t,x:w,y:j,className:Re("recharts-text",y),textAnchor:u,fill:l.includes("url")?ET:l}),h.map((M,P)=>{var T=M.words.join(b?"":" ");return m.createElement("tspan",{x:w,dy:P===0?C:s,key:"".concat(T,"-").concat(P)},T)}))});Hb.displayName="Text";var Qq=["labelRef"];function Zq(e,t){if(e==null)return{};var n,a,i=Xq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xq(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function N0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N0(Object(n),!0).forEach(function(a){Jq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Jq(e,t,n){return(t=e8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e8(e){var t=t8(e,"string");return typeof t=="symbol"?t:t+""}function t8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Aa.apply(null,arguments)}var TT=m.createContext(null),n8=e=>{var{x:t,y:n,upperWidth:a,lowerWidth:i,width:s,height:o,children:l}=e,c=m.useMemo(()=>({x:t,y:n,upperWidth:a,lowerWidth:i,width:s,height:o}),[t,n,a,i,s,o]);return m.createElement(TT.Provider,{value:c},l)},IT=()=>{var e=m.useContext(TT),t=rp();return e||DA(t)},a8=m.createContext(null),r8=()=>{var e=m.useContext(a8),t=be(sE);return e||t},i8=e=>{var{value:t,formatter:n}=e,a=Xe(e.children)?t:e.children;return typeof n=="function"?n(a):a},qb=e=>e!=null&&typeof e=="function",s8=(e,t)=>{var n=ln(t-e),a=Math.min(Math.abs(t-e),360);return n*a},o8=(e,t,n,a,i)=>{var{offset:s,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:p,endAngle:h,clockWise:f}=i,g=(u+d)/2,v=s8(p,h),y=v>=0?1:-1,b,x;switch(t){case"insideStart":b=p+y*s,x=f;break;case"insideEnd":b=h-y*s,x=!f;break;case"end":b=h+y*s,x=f;break;default:throw new Error("Unsupported position ".concat(t))}x=v<=0?x:!x;var w=Mt(l,c,g,b),j=Mt(l,c,g,b+(x?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(j.x,",").concat(j.y),k=Xe(e.id)?qo("recharts-radial-line-"):e.id;return m.createElement("text",Aa({},a,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",o)}),m.createElement("defs",null,m.createElement("path",{id:k,d:C})),m.createElement("textPath",{xlinkHref:"#".concat(k)},n))},l8=(e,t,n)=>{var{cx:a,cy:i,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(n==="outside"){var{x:d,y:p}=Mt(a,i,o+t,u);return{x:d,y:p,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+o)/2,{x:f,y:g}=Mt(a,i,h,u);return{x:f,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Qf=e=>"cx"in e&&ge(e.cx),c8=(e,t)=>{var{parentViewBox:n,offset:a,position:i}=e,s;n!=null&&!Qf(n)&&(s=n);var{x:o,y:l,upperWidth:c,lowerWidth:u,height:d}=t,p=o,h=o+(c-u)/2,f=(p+h)/2,g=(c+u)/2,v=p+c/2,y=d>=0?1:-1,b=y*a,x=y>0?"end":"start",w=y>0?"start":"end",j=c>=0?1:-1,C=j*a,k=j>0?"end":"start",E=j>0?"start":"end";if(i==="top"){var O={x:p+c/2,y:l-b,textAnchor:"middle",verticalAnchor:x};return st(st({},O),s?{height:Math.max(l-s.y,0),width:c}:{})}if(i==="bottom"){var M={x:h+u/2,y:l+d+b,textAnchor:"middle",verticalAnchor:w};return st(st({},M),s?{height:Math.max(s.y+s.height-(l+d),0),width:u}:{})}if(i==="left"){var P={x:f-C,y:l+d/2,textAnchor:k,verticalAnchor:"middle"};return st(st({},P),s?{width:Math.max(P.x-s.x,0),height:d}:{})}if(i==="right"){var T={x:f+g+C,y:l+d/2,textAnchor:E,verticalAnchor:"middle"};return st(st({},T),s?{width:Math.max(s.x+s.width-T.x,0),height:d}:{})}var S=s?{width:g,height:d}:{};return i==="insideLeft"?st({x:f+C,y:l+d/2,textAnchor:E,verticalAnchor:"middle"},S):i==="insideRight"?st({x:f+g-C,y:l+d/2,textAnchor:k,verticalAnchor:"middle"},S):i==="insideTop"?st({x:p+c/2,y:l+b,textAnchor:"middle",verticalAnchor:w},S):i==="insideBottom"?st({x:h+u/2,y:l+d-b,textAnchor:"middle",verticalAnchor:x},S):i==="insideTopLeft"?st({x:p+C,y:l+b,textAnchor:E,verticalAnchor:w},S):i==="insideTopRight"?st({x:p+c-C,y:l+b,textAnchor:k,verticalAnchor:w},S):i==="insideBottomLeft"?st({x:h+C,y:l+d-b,textAnchor:E,verticalAnchor:x},S):i==="insideBottomRight"?st({x:h+u-C,y:l+d-b,textAnchor:k,verticalAnchor:x},S):i&&typeof i=="object"&&(ge(i.x)||$a(i.x))&&(ge(i.y)||$a(i.y))?st({x:o+sa(i.x,g),y:l+sa(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):st({x:v,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},u8={angle:0,offset:5,zIndex:Pt.label,position:"middle",textBreakAll:!1};function lr(e){var t=zt(e,u8),{viewBox:n,position:a,value:i,children:s,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=r8(),p=IT(),h=a==="center"?p:d??p,f,g,v;if(n==null?f=h:Qf(n)?f=n:f=DA(n),!f||Xe(i)&&Xe(s)&&!m.isValidElement(o)&&typeof o!="function")return null;var y=st(st({},t),{},{viewBox:f});if(m.isValidElement(o)){var{labelRef:b}=y,x=Zq(y,Qq);return m.cloneElement(o,x)}if(typeof o=="function"){if(g=m.createElement(o,y),m.isValidElement(g))return g}else g=i8(t);var w=Zt(t);if(Qf(f)){if(a==="insideStart"||a==="insideEnd"||a==="end")return o8(t,a,g,w,f);v=l8(f,t.offset,t.position)}else v=c8(t,f);return m.createElement(Wn,{zIndex:t.zIndex},m.createElement(Hb,Aa({ref:u,className:Re("recharts-label",l)},w,v,{textAnchor:qq(w.textAnchor)?w.textAnchor:v.textAnchor,breakAll:c}),g))}lr.displayName="Label";var d8=(e,t,n)=>{if(!e)return null;var a={viewBox:t,labelRef:n};return e===!0?m.createElement(lr,Aa({key:"label-implicit"},a)):ba(e)?m.createElement(lr,Aa({key:"label-implicit",value:e},a)):m.isValidElement(e)?e.type===lr?m.cloneElement(e,st({key:"label-implicit"},a)):m.createElement(lr,Aa({key:"label-implicit",content:e},a)):qb(e)?m.createElement(lr,Aa({key:"label-implicit",content:e},a)):e&&typeof e=="object"?m.createElement(lr,Aa({},e,{key:"label-implicit"},a)):null};function p8(e){var{label:t,labelRef:n}=e,a=IT();return d8(t,a,n)||null}var OT={},MT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(MT);var LT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(LT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MT,n=LT,a=Ud;function i(s){if(a.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(OT);var m8=OT.last;const h8=wa(m8);var f8=["valueAccessor"],g8=["dataKey","clockWise","id","textBreakAll","zIndex"];function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rd.apply(null,arguments)}function k0(e,t){if(e==null)return{};var n,a,i=v8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v8(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var b8=e=>Array.isArray(e.value)?h8(e.value):e.value,DT=m.createContext(void 0),FT=DT.Provider,zT=m.createContext(void 0);zT.Provider;function y8(){return m.useContext(DT)}function x8(){return m.useContext(zT)}function qc(e){var{valueAccessor:t=b8}=e,n=k0(e,f8),{dataKey:a,clockWise:i,id:s,textBreakAll:o,zIndex:l}=n,c=k0(n,g8),u=y8(),d=x8(),p=u||d;return!p||!p.length?null:m.createElement(Wn,{zIndex:l??Pt.label},m.createElement(Rn,{className:"recharts-label-list"},p.map((h,f)=>{var g,v=Xe(a)?t(h,f):vt(h&&h.payload,a),y=Xe(s)?{}:{id:"".concat(s,"-").concat(f)};return m.createElement(lr,rd({key:"label-".concat(f)},Zt(h),c,y,{fill:(g=n.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:o,viewBox:h.viewBox,index:f,zIndex:0}))})))}qc.displayName="LabelList";function _T(e){var{label:t}=e;return t?t===!0?m.createElement(qc,{key:"labelList-implicit"}):m.isValidElement(t)||qb(t)?m.createElement(qc,{key:"labelList-implicit",content:t}):typeof t=="object"?m.createElement(qc,rd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zf.apply(null,arguments)}var RT=e=>{var{cx:t,cy:n,r:a,className:i}=e,s=Re("recharts-dot",i);return ge(t)&&ge(n)&&ge(a)?m.createElement("circle",Zf({},ra(e),xv(e),{className:s,cx:t,cy:n,r:a})):null},w8={radiusAxis:{},angleAxis:{}},BT=fn({name:"polarAxis",initialState:w8,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:MQ,removeRadiusAxis:LQ,addAngleAxis:DQ,removeAngleAxis:FQ}=BT.actions,j8=BT.reducer,$T={exports:{}},$e={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb=Symbol.for("react.transitional.element"),Vb=Symbol.for("react.portal"),Ep=Symbol.for("react.fragment"),Tp=Symbol.for("react.strict_mode"),Ip=Symbol.for("react.profiler"),Op=Symbol.for("react.consumer"),Mp=Symbol.for("react.context"),Lp=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),Fp=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),_p=Symbol.for("react.lazy"),C8=Symbol.for("react.view_transition"),S8=Symbol.for("react.client.reference");function Hn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Kb:switch(e=e.type,e){case Ep:case Ip:case Tp:case Dp:case Fp:case C8:return e;default:switch(e=e&&e.$$typeof,e){case Mp:case Lp:case _p:case zp:return e;case Op:return e;default:return t}}case Vb:return t}}}$e.ContextConsumer=Op;$e.ContextProvider=Mp;$e.Element=Kb;$e.ForwardRef=Lp;$e.Fragment=Ep;$e.Lazy=_p;$e.Memo=zp;$e.Portal=Vb;$e.Profiler=Ip;$e.StrictMode=Tp;$e.Suspense=Dp;$e.SuspenseList=Fp;$e.isContextConsumer=function(e){return Hn(e)===Op};$e.isContextProvider=function(e){return Hn(e)===Mp};$e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kb};$e.isForwardRef=function(e){return Hn(e)===Lp};$e.isFragment=function(e){return Hn(e)===Ep};$e.isLazy=function(e){return Hn(e)===_p};$e.isMemo=function(e){return Hn(e)===zp};$e.isPortal=function(e){return Hn(e)===Vb};$e.isProfiler=function(e){return Hn(e)===Ip};$e.isStrictMode=function(e){return Hn(e)===Tp};$e.isSuspense=function(e){return Hn(e)===Dp};$e.isSuspenseList=function(e){return Hn(e)===Fp};$e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ep||e===Ip||e===Tp||e===Dp||e===Fp||typeof e=="object"&&e!==null&&(e.$$typeof===_p||e.$$typeof===zp||e.$$typeof===Mp||e.$$typeof===Op||e.$$typeof===Lp||e.$$typeof===S8||e.getModuleId!==void 0)};$e.typeOf=Hn;$T.exports=$e;var N8=$T.exports,P0=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",A0=null,Bm=null,UT=e=>{if(e===A0&&Array.isArray(Bm))return Bm;var t=[];return m.Children.forEach(e,n=>{Xe(n)||(N8.isFragment(n)?t=t.concat(UT(n.props.children)):t.push(n))}),Bm=t,A0=e,t};function k8(e,t){var n=[],a=[];return Array.isArray(t)?a=t.map(i=>P0(i)):a=[P0(t)],UT(e).forEach(i=>{var s=ds(i,"type.displayName")||ds(i,"type.name");s&&a.indexOf(s)!==-1&&n.push(i)}),n}var WT=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,HT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(HT);var P8=HT.isPlainObject;const A8=wa(P8);function E0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function T0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E0(Object(n),!0).forEach(function(a){E8(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function E8(e,t,n){return(t=T8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T8(e){var t=I8(e,"string");return typeof t=="symbol"?t:t+""}function I8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},id.apply(null,arguments)}var I0=(e,t,n,a,i)=>{var s=n-a,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-s/2,",").concat(t+i),o+="L ".concat(e+n-s/2-a,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},O8={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},M8=e=>{var t=zt(e,O8),{x:n,y:a,upperWidth:i,lowerWidth:s,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:p}=t,h=m.useRef(null),[f,g]=m.useState(-1),v=m.useRef(i),y=m.useRef(s),b=m.useRef(o),x=m.useRef(n),w=m.useRef(a),j=up(e,"trapezoid-");if(m.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var A=h.current.getTotalLength();A&&g(A)}catch{}},[]),n!==+n||a!==+a||i!==+i||s!==+s||o!==+o||i===0&&s===0||o===0)return null;var C=Re("recharts-trapezoid",l);if(!p)return m.createElement("g",null,m.createElement("path",id({},Zt(t),{className:C,d:I0(n,a,i,s,o)})));var k=v.current,E=y.current,O=b.current,M=x.current,P=w.current,T="0px ".concat(f===-1?1:f,"px"),S="".concat(f,"px 0px"),N=KA(["strokeDasharray"],u,c);return m.createElement(cp,{animationId:j,key:j,canBegin:f>0,duration:u,easing:c,isActive:p,begin:d},A=>{var L=it(k,i,A),_=it(E,s,A),I=it(O,o,A),D=it(M,n,A),F=it(P,a,A);h.current&&(v.current=L,y.current=_,b.current=I,x.current=D,w.current=F);var R=A>0?{transition:N,strokeDasharray:S}:{strokeDasharray:T};return m.createElement("path",id({},Zt(t),{className:C,d:I0(D,F,L,_,I),ref:h,style:T0(T0({},R),t.style)}))})},L8=["option","shapeType","propTransformer","activeClassName"];function D8(e,t){if(e==null)return{};var n,a,i=F8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function F8(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function O0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O0(Object(n),!0).forEach(function(a){z8(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function z8(e,t,n){return(t=_8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _8(e){var t=R8(e,"string");return typeof t=="symbol"?t:t+""}function R8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B8(e,t){return sd(sd({},t),e)}function $8(e,t){return e==="symbols"}function M0(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return m.createElement(QA,n);case"trapezoid":return m.createElement(M8,n);case"sector":return m.createElement(JA,n);case"symbols":if($8(t))return m.createElement(yv,n);break;case"curve":return m.createElement(qA,n);default:return null}}function U8(e){return m.isValidElement(e)?e.props:e}function qT(e){var{option:t,shapeType:n,propTransformer:a=B8,activeClassName:i="recharts-active-shape"}=e,s=D8(e,L8),o;if(m.isValidElement(t))o=m.cloneElement(t,sd(sd({},s),U8(t)));else if(typeof t=="function")o=t(s,s.index);else if(A8(t)&&typeof t!="boolean"){var l=a(t,s);o=m.createElement(M0,{shapeType:n,elementProps:l})}else{var c=s;o=m.createElement(M0,{shapeType:n,elementProps:c})}return s.isActive?m.createElement(Rn,{className:i},o):o}var KT=(e,t,n)=>{var a=nt();return(i,s)=>o=>{e==null||e(i,s,o),a(YE({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},VT=e=>{var t=nt();return(n,a)=>i=>{e==null||e(n,a,i),t(w4())}},GT=(e,t,n)=>{var a=nt();return(i,s)=>o=>{e==null||e(i,s,o),a(j4({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function YT(e){var{tooltipEntrySettings:t}=e,n=nt(),a=qt(),i=m.useRef(null);return m.useLayoutEffect(()=>{a||(i.current===null?n(v4(t)):i.current!==t&&n(b4({prev:i.current,next:t})),i.current=t)},[t,n,a]),m.useLayoutEffect(()=>()=>{i.current&&(n(y4(i.current)),i.current=null)},[n]),null}function QT(e){var{legendPayload:t}=e,n=nt(),a=qt(),i=m.useRef(null);return m.useLayoutEffect(()=>{a||(i.current===null?n(WB(t)):i.current!==t&&n(HB({prev:i.current,next:t})),i.current=t)},[n,a,t]),m.useLayoutEffect(()=>()=>{i.current&&(n(qB(i.current)),i.current=null)},[n]),null}var $m,W8=()=>{var[e]=m.useState(()=>qo("uid-"));return e},H8=($m=RC.useId)!==null&&$m!==void 0?$m:W8;function ZT(e,t){var n=H8();return t||(e?"".concat(e,"-").concat(n):n)}var q8=m.createContext(void 0),XT=e=>{var{id:t,type:n,children:a}=e,i=ZT("recharts-".concat(n),t);return m.createElement(q8.Provider,{value:i},a(i))},K8={cartesianItems:[],polarItems:[]},JT=fn({name:"graphicalItems",initialState:K8,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ye()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:a}=t.payload,i=ta(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=a)},prepare:Ye()},removeCartesianGraphicalItem:{reducer(e,t){var n=ta(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Ye()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ye()},removePolarGraphicalItem:{reducer(e,t){var n=ta(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Ye()}}}),{addCartesianGraphicalItem:V8,replaceCartesianGraphicalItem:G8,removeCartesianGraphicalItem:Y8,addPolarGraphicalItem:zQ,removePolarGraphicalItem:_Q}=JT.actions,Q8=JT.reducer,Z8=e=>{var t=nt(),n=m.useRef(null);return m.useLayoutEffect(()=>{n.current===null?t(V8(e)):n.current!==e&&t(G8({prev:n.current,next:e})),n.current=e},[t,e]),m.useLayoutEffect(()=>()=>{n.current&&(t(Y8(n.current)),n.current=null)},[t]),null},eI=m.memo(Z8),X8=["points"];function L0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Um(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L0(Object(n),!0).forEach(function(a){J8(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function J8(e,t,n){return(t=eK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eK(e){var t=tK(e,"string");return typeof t=="symbol"?t:t+""}function tK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},od.apply(null,arguments)}function nK(e,t){if(e==null)return{};var n,a,i=aK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aK(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function rK(e){var{option:t,dotProps:n,className:a}=e;if(m.isValidElement(t))return m.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Re(a,typeof t!="boolean"?t.className:""),s=n??{},{points:o}=s,l=nK(s,X8);return m.createElement(RT,od({},l,{className:i}))}function iK(e,t){return e==null?!1:t?!0:e.length===1}function sK(e){var{points:t,dot:n,className:a,dotClassName:i,dataKey:s,baseProps:o,needClip:l,clipPathId:c,zIndex:u=Pt.scatter}=e;if(!iK(t,n))return null;var d=WT(n),p=Zz(n),h=t.map((g,v)=>{var y,b,x=Um(Um(Um({r:3},o),p),{},{index:v,cx:(y=g.x)!==null&&y!==void 0?y:void 0,cy:(b=g.y)!==null&&b!==void 0?b:void 0,dataKey:s,value:g.value,payload:g.payload,points:t});return m.createElement(rK,{key:"dot-".concat(v),option:n,dotProps:x,className:i})}),f={};return l&&c!=null&&(f.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),m.createElement(Wn,{zIndex:u},m.createElement(Rn,od({className:a},f),h))}function D0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function F0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D0(Object(n),!0).forEach(function(a){oK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function oK(e,t,n){return(t=lK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lK(e){var t=cK(e,"string");return typeof t=="symbol"?t:t+""}function cK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uK={xAxis:{},yAxis:{},zAxis:{}},tI=fn({name:"cartesianAxis",initialState:uK,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ye()},replaceXAxis:{reducer(e,t){var{prev:n,next:a}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==a.id&&delete e.xAxis[n.id],e.xAxis[a.id]=a)},prepare:Ye()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ye()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ye()},replaceYAxis:{reducer(e,t){var{prev:n,next:a}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==a.id&&delete e.yAxis[n.id],e.yAxis[a.id]=a)},prepare:Ye()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ye()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ye()},replaceZAxis:{reducer(e,t){var{prev:n,next:a}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==a.id&&delete e.zAxis[n.id],e.zAxis[a.id]=a)},prepare:Ye()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ye()},updateYAxisWidth(e,t){var{id:n,width:a}=t.payload,i=e.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&a===s[1]&&a!==i.width&&Math.abs(a-s[0])<=1)return;var o=[...s,a].slice(-3);e.yAxis[n]=F0(F0({},e.yAxis[n]),{},{width:a,widthHistory:o})}}}}),{addXAxis:dK,replaceXAxis:pK,removeXAxis:mK,addYAxis:hK,replaceYAxis:fK,removeYAxis:gK,addZAxis:RQ,replaceZAxis:BQ,removeZAxis:$Q,updateYAxisWidth:vK}=tI.actions,bK=tI.reducer,yK=q([Et],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),xK=q([yK,Qa,Za],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Gb=()=>be(xK),wK=()=>be(dH);function z0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z0(Object(n),!0).forEach(function(a){jK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function jK(e,t,n){return(t=CK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CK(e){var t=SK(e,"string");return typeof t=="symbol"?t:t+""}function SK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NK=e=>{var{point:t,childIndex:n,mainColor:a,activeDot:i,dataKey:s,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=Wm(Wm(Wm({},l),pl(i)),xv(i)),u;return m.isValidElement(i)?u=m.cloneElement(i,c):typeof i=="function"?u=i(c):u=m.createElement(RT,c),m.createElement(Rn,{className:"recharts-active-dot",clipPath:o},u)};function kK(e){var{points:t,mainColor:n,activeDot:a,itemDataKey:i,clipPath:s,zIndex:o=Pt.activeDot}=e,l=be(hi),c=wK();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Xe(u)?null:m.createElement(Wn,{zIndex:o},m.createElement(NK,{point:u,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:a,clipPath:s}))}var PK="Invariant failed";function AK(e,t){throw new Error(PK)}var EK=["x","y"];function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xf.apply(null,arguments)}function _0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_0(Object(n),!0).forEach(function(a){TK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function TK(e,t,n){return(t=IK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IK(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MK(e,t){if(e==null)return{};var n,a,i=LK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LK(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function DK(e,t){var{x:n,y:a}=e,i=MK(e,EK),s="".concat(n),o=parseInt(s,10),l="".concat(a),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),p="".concat(t.width||i.width),h=parseInt(p,10);return to(to(to(to(to({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function ld(e){return m.createElement(qT,Xf({shapeType:"rectangle",propTransformer:DK,activeClassName:"recharts-active-bar"},e))}var FK=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,i)=>{if(ge(t))return t;var s=ge(a)||Xe(a);return s?t(a,i):(s||AK(),n)}},zK={},nI=fn({name:"errorBars",initialState:zK,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:a}=t.payload;e[n]||(e[n]=[]),e[n].push(a)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:a,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===a.dataKey&&s.direction===a.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:a}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==a.dataKey||i.direction!==a.direction))}}}),{addErrorBar:UQ,replaceErrorBar:WQ,removeErrorBar:HQ}=nI.actions,_K=nI.reducer,RK=["children"];function BK(e,t){if(e==null)return{};var n,a,i=$K(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $K(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var UK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},WK=m.createContext(UK);function aI(e){var{children:t}=e,n=BK(e,RK);return m.createElement(WK.Provider,{value:n},t)}function Yb(e,t){var n,a,i=be(u=>Ja(u,e)),s=be(u=>er(u,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ct.allowDataOverflow,l=(a=s==null?void 0:s.allowDataOverflow)!==null&&a!==void 0?a:St.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function rI(e){var{xAxisId:t,yAxisId:n,clipPathId:a}=e,i=Gb(),{needClipX:s,needClipY:o,needClip:l}=Yb(t,n);if(!l||!i)return null;var{x:c,y:u,width:d,height:p}=i;return m.createElement("clipPath",{id:"clipPath-".concat(a)},m.createElement("rect",{x:s?c:c-d/2,y:o?u:u-p/2,width:s?d:d*2,height:o?p:p*2}))}function HK(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ut(e.zIndex)?e.zIndex:t}var qK={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=m;function KK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VK=typeof Object.is=="function"?Object.is:KK,GK=Dl.useSyncExternalStore,YK=Dl.useRef,QK=Dl.useEffect,ZK=Dl.useMemo,XK=Dl.useDebugValue;qK.useSyncExternalStoreWithSelector=function(e,t,n,a,i){var s=YK(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=ZK(function(){function c(f){if(!u){if(u=!0,d=f,f=a(f),i!==void 0&&o.hasValue){var g=o.value;if(i(g,f))return p=g}return p=f}if(g=p,VK(d,f))return g;var v=a(f);return i!==void 0&&i(g,v)?(d=f,g):(d=f,p=v)}var u=!1,d,p,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,a,i]);var l=GK(e,s[0],s[1]);return QK(function(){o.hasValue=!0,o.value=l},[l]),XK(l),l};function JK(e){e()}function e6(){let e=null,t=null;return{clear(){e=null,t=null},notify(){JK(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let a=e;for(;a;)n.push(a),a=a.next;return n},subscribe(n){let a=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!a||e===null||(a=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var R0={notify(){},get:()=>[]};function t6(e,t){let n,a=R0,i=0,s=!1;function o(v){d();const y=a.subscribe(v);let b=!1;return()=>{b||(b=!0,y(),p())}}function l(){a.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){i++,n||(n=e.subscribe(c),a=e6())}function p(){i--,n&&i===0&&(n(),n=void 0,a.clear(),a=R0)}function h(){s||(s=!0,d())}function f(){s&&(s=!1,p())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>a};return g}var n6=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a6=n6(),r6=()=>typeof navigator<"u"&&navigator.product==="ReactNative",i6=r6(),s6=()=>a6||i6?m.useLayoutEffect:m.useEffect,o6=s6();function B0(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function l6(e,t){if(B0(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!B0(e[n[i]],t[n[i]]))return!1;return!0}var Hm=Symbol.for("react-redux-context"),qm=typeof globalThis<"u"?globalThis:{};function c6(){if(!m.createContext)return{};const e=qm[Hm]??(qm[Hm]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var u6=c6();function d6(e){const{children:t,context:n,serverState:a,store:i}=e,s=m.useMemo(()=>{const c=t6(i);return{store:i,subscription:c,getServerState:a?()=>a:void 0}},[i,a]),o=m.useMemo(()=>i.getState(),[i]);o6(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const l=n||u6;return m.createElement(l.Provider,{value:s},t)}var p6=d6,m6=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function h6(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Rp(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of n)if(m6.has(a)){if(e[a]==null&&t[a]==null)continue;if(!l6(e[a],t[a]))return!1}else if(!h6(e[a],t[a]))return!1;return!0}var f6=["onMouseEnter","onMouseLeave","onClick"],g6=["value","background","tooltipPosition"],v6=["id"],b6=["onMouseEnter","onClick","onMouseLeave"];function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Va.apply(null,arguments)}function $0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$0(Object(n),!0).forEach(function(a){y6(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function y6(e,t,n){return(t=x6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x6(e){var t=w6(e,"string");return typeof t=="symbol"?t:t+""}function w6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cd(e,t){if(e==null)return{};var n,a,i=j6(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j6(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var C6=e=>{var{dataKey:t,name:n,fill:a,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:a,value:Jd(n,t),payload:e}]},S6=m.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Jd(s,t),hide:o,type:c,color:i,unit:l}};return m.createElement(YT,{tooltipEntrySettings:u})});function N6(e){var t=be(hi),{data:n,dataKey:a,background:i,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=cd(s,f6),d=KT(o,a),p=VT(l),h=GT(c,a);if(!i||n==null)return null;var f=pl(i);return m.createElement(Wn,{zIndex:HK(i,Pt.barBackground)},n.map((g,v)=>{var{value:y,background:b,tooltipPosition:x}=g,w=cd(g,g6);if(!b)return null;var j=d(g,v),C=p(g,v),k=h(g,v),E=Gt(Gt(Gt(Gt(Gt({option:i,isActive:String(v)===t},w),{},{fill:"#eee"},b),f),$d(u,g,v)),{},{onMouseEnter:j,onMouseLeave:C,onClick:k,dataKey:a,index:v,className:"recharts-bar-background-rectangle"});return m.createElement(ld,Va({key:"background-bar-".concat(v)},E))}))}function k6(e){var{showLabels:t,children:n,rects:a}=e,i=a==null?void 0:a.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Gt(Gt({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return m.createElement(FT,{value:t?i:void 0},n)}function P6(e){var{shape:t,activeBar:n,baseProps:a,entry:i,index:s,dataKey:o}=e,l=be(hi),c=be(cT),u=n&&String(s)===l&&(c==null||o===c),d=u?n:t;return u?m.createElement(Wn,{zIndex:Pt.activeBar},m.createElement(ld,Va({},a,{name:String(a.name)},i,{isActive:u,option:d,index:s,dataKey:o}))):m.createElement(ld,Va({},a,{name:String(a.name)},i,{isActive:u,option:d,index:s,dataKey:o}))}function A6(e){var{shape:t,baseProps:n,entry:a,index:i,dataKey:s}=e;return m.createElement(ld,Va({},n,{name:String(n.name)},a,{isActive:!1,option:t,index:i,dataKey:s}))}function E6(e){var t,{data:n,props:a}=e,i=(t=ra(a))!==null&&t!==void 0?t:{},{id:s}=i,o=cd(i,v6),{shape:l,dataKey:c,activeBar:u}=a,{onMouseEnter:d,onClick:p,onMouseLeave:h}=a,f=cd(a,b6),g=KT(d,c),v=VT(h),y=GT(p,c);return n?m.createElement(m.Fragment,null,n.map((b,x)=>m.createElement(Rn,Va({key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(x),className:"recharts-bar-rectangle"},$d(f,b,x),{onMouseEnter:g(b,x),onMouseLeave:v(b,x),onClick:y(b,x)}),u?m.createElement(P6,{shape:l,activeBar:u,baseProps:o,entry:b,index:x,dataKey:c}):m.createElement(A6,{shape:l,baseProps:o,entry:b,index:x,dataKey:c})))):null}function T6(e){var{props:t,previousRectanglesRef:n}=e,{data:a,layout:i,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,p=n.current,h=up(t,"recharts-bar-"),[f,g]=m.useState(!1),v=!f,y=m.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),b=m.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return m.createElement(k6,{showLabels:v,rects:a},m.createElement(cp,{animationId:h,begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:y,onAnimationStart:b,key:h},x=>{var w=x===1?a:a==null?void 0:a.map((j,C)=>{var k=p&&p[C];if(k)return Gt(Gt({},j),{},{x:it(k.x,j.x,x),y:it(k.y,j.y,x),width:it(k.width,j.width,x),height:it(k.height,j.height,x)});if(i==="horizontal"){var E=it(0,j.height,x),O=it(j.stackedBarStart,j.y,x);return Gt(Gt({},j),{},{y:O,height:E})}var M=it(0,j.width,x),P=it(j.stackedBarStart,j.x,x);return Gt(Gt({},j),{},{width:M,x:P})});return x>0&&(n.current=w??null),w==null?null:m.createElement(Rn,null,m.createElement(E6,{props:t,data:w}))}),m.createElement(_T,{label:t.label}),t.children)}function I6(e){var t=m.useRef(null);return m.createElement(T6,{previousRectanglesRef:t,props:e})}var iI=0,O6=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:vt(e,t)}};class M6 extends m.PureComponent{render(){var{hide:t,data:n,dataKey:a,className:i,xAxisId:s,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||n==null)return null;var d=Re("recharts-bar",i),p=u;return m.createElement(Rn,{className:d,id:u},l&&m.createElement("defs",null,m.createElement(rI,{clipPathId:p,xAxisId:s,yAxisId:o})),m.createElement(Rn,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},m.createElement(N6,{data:n,dataKey:a,background:c,allOtherBarProps:this.props}),m.createElement(I6,this.props)))}}var L6={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:iI,xAxisId:0,yAxisId:0,zIndex:Pt.bar};function D6(e){var{xAxisId:t,yAxisId:n,hide:a,legendType:i,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:p}=Yb(t,n),h=yl(),f=qt(),g=k8(e.children,wT),v=be(x=>cV(x,t,n,f,e.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var y,b=v==null?void 0:v[0];return b==null||b.height==null||b.width==null?y=0:y=h==="vertical"?b.height/2:b.width/2,m.createElement(aI,{xAxisId:t,yAxisId:n,data:v,dataPointFormatter:O6,errorBarOffset:y},m.createElement(M6,Va({},e,{layout:h,needClip:p,data:v,xAxisId:t,yAxisId:n,hide:a,legendType:i,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function F6(e){var{layout:t,barSettings:{dataKey:n,minPointSize:a},pos:i,bandSize:s,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:p,offset:h,cells:f,parentViewBox:g,dataStartIndex:v}=e,y=t==="horizontal"?l:o,b=d?y.scale.domain():null,x=YR({numericAxis:y}),w=y.scale(x);return p.map((j,C)=>{var k,E,O,M,P,T;d?k=WR(d[C+v],b):(k=vt(j,n),Array.isArray(k)||(k=[x,k]));var S=FK(a,iI)(k[1],C);if(t==="horizontal"){var N,[A,L]=[l.scale(k[0]),l.scale(k[1])];E=Pw({axis:o,ticks:c,bandSize:s,offset:i.offset,entry:j,index:C}),O=(N=L??A)!==null&&N!==void 0?N:void 0,M=i.size;var _=A-L;if(P=ia(_)?0:_,T={x:E,y:h.top,width:M,height:h.height},Math.abs(S)>0&&Math.abs(P)<Math.abs(S)){var I=ln(P||S)*(Math.abs(S)-Math.abs(P));O-=I,P+=I}}else{var[D,F]=[o.scale(k[0]),o.scale(k[1])];if(E=D,O=Pw({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:j,index:C}),M=F-D,P=i.size,T={x:h.left,y:O,width:h.width,height:P},Math.abs(S)>0&&Math.abs(M)<Math.abs(S)){var R=ln(M||S)*(Math.abs(S)-Math.abs(M));M+=R}}if(E==null||O==null||M==null||P==null)return null;var z=Gt(Gt({},j),{},{stackedBarStart:w,x:E,y:O,width:M,height:P,value:d?k:k[1],payload:j,background:T,tooltipPosition:{x:E+M/2,y:O+P/2},parentViewBox:g},f&&f[C]&&f[C].props);return z}).filter(Boolean)}function z6(e){var t=zt(e,L6),n=qt();return m.createElement(XT,{id:t.id,type:"bar"},a=>m.createElement(m.Fragment,null,m.createElement(QT,{legendPayload:C6(t)}),m.createElement(S6,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),m.createElement(eI,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:GR(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),m.createElement(Wn,{zIndex:t.zIndex},m.createElement(D6,Va({},t,{id:a})))))}var rr=m.memo(z6,Rp);rr.displayName="Bar";function U0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U0(Object(n),!0).forEach(function(a){_6(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function _6(e,t,n){return(t=R6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R6(e){var t=B6(e,"string");return typeof t=="symbol"?t:t+""}function B6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $6=(e,t)=>t,U6=(e,t,n)=>n,W6=(e,t,n,a)=>a,H6=(e,t,n,a,i)=>i,Fl=q([Np,H6],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),q6=q([Fl],e=>e==null?void 0:e.maxBarSize),K6=(e,t,n,a,i,s)=>s,W0=(e,t,n)=>{var a=n??e;if(!Xe(a))return sa(a,t,0)},V6=q([De,Np,$6,U6,W6],(e,t,n,a,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===a).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),G6=(e,t,n,a)=>{var i=De(e);return i==="horizontal"?Hf(e,"yAxis",n,a):Hf(e,"xAxis",t,a)},Y6=(e,t,n)=>{var a=De(e);return a==="horizontal"?Xj(e,"xAxis",t):Xj(e,"yAxis",n)},Q6=(e,t,n)=>{var a={},i=e.filter(jp),s=e.filter(u=>u.stackId==null),o=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),a),l=Object.entries(o).map(u=>{var[d,p]=u,h=p.map(g=>g.dataKey),f=W0(t,n,p[0].barSize);return{stackId:d,dataKeys:h,barSize:f}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),p=W0(t,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...l,...c]},Z6=q([V6,u5,Y6],Q6),X6=(e,t,n,a,i)=>{var s,o,l=Fl(e,t,n,a,i);if(l!=null){var c=De(e),u=X1(e),{maxBarSize:d}=l,p=Xe(d)?u:d,h,f;return c==="horizontal"?(h=Tr(e,"xAxis",t,a),f=Er(e,"xAxis",t,a)):(h=Tr(e,"yAxis",n,a),f=Er(e,"yAxis",n,a)),(s=(o=hs(h,f,!0))!==null&&o!==void 0?o:p)!==null&&s!==void 0?s:0}},sI=(e,t,n,a)=>{var i=De(e),s,o;return i==="horizontal"?(s=Tr(e,"xAxis",t,a),o=Er(e,"xAxis",t,a)):(s=Tr(e,"yAxis",n,a),o=Er(e,"yAxis",n,a)),hs(s,o)};function J6(e,t,n,a,i){var s=a.length;if(!(s<1)){var o=sa(e,n,0,!0),l,c=[];if(ut(a[0].barSize)){var u=!1,d=n/s,p=a.reduce((b,x)=>b+(x.barSize||0),0);p+=(s-1)*o,p>=n&&(p-=(s-1)*o,o=0),p>=n&&d>0&&(u=!0,d*=.9,p=s*d);var h=(n-p)/2>>0,f={offset:h-o,size:0};l=a.reduce((b,x)=>{var w,j={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:f.offset+f.size+o,size:u?d:(w=x.barSize)!==null&&w!==void 0?w:0}},C=[...b,j];return f=C[C.length-1].position,C},c)}else{var g=sa(t,n,0,!0);n-2*g-(s-1)*o<=0&&(o=0);var v=(n-2*g-(s-1)*o)/s;v>1&&(v>>=0);var y=ut(i)?Math.min(v,i):v;l=a.reduce((b,x,w)=>[...b,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:g+(v+o)*w+(v-y)/2,size:y}}],c)}return l}}var eV=(e,t,n,a,i,s,o)=>{var l=Xe(o)?t:o,c=J6(n,a,i!==s?i:s,e,l);return i!==s&&c!=null&&(c=c.map(u=>xc(xc({},u),{},{position:xc(xc({},u.position),{},{offset:u.position.offset-i/2})}))),c},tV=q([Z6,X1,c5,J1,X6,sI,q6],eV),nV=(e,t,n,a)=>Tr(e,"xAxis",t,a),aV=(e,t,n,a)=>Tr(e,"yAxis",n,a),rV=(e,t,n,a)=>Er(e,"xAxis",t,a),iV=(e,t,n,a)=>Er(e,"yAxis",n,a),sV=q([tV,Fl],(e,t)=>{if(!(e==null||t==null)){var n=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),oV=(e,t)=>{var n=Sb(t);if(!(!e||n==null||t==null)){var{stackId:a}=t;if(a!=null){var i=e[a];if(i){var{stackedData:s}=i;if(s)return s.find(o=>o.key===n)}}}},lV=q([G6,Fl],oV),cV=q([Et,$v,nV,aV,rV,iV,sV,De,vp,sI,lV,Fl,K6],(e,t,n,a,i,s,o,l,c,u,d,p,h)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:v}=c;if(!(p==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||n==null||a==null||i==null||s==null||u==null)){var{data:y}=p,b;if(y!=null&&y.length>0?b=y:b=f==null?void 0:f.slice(g,v+1),b!=null)return F6({layout:l,barSettings:p,pos:o,parentViewBox:t,bandSize:u,xAxis:n,yAxis:a,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:b,offset:e,cells:h,dataStartIndex:g})}}),uV=e=>{var{chartData:t}=e,n=nt(),a=qt();return m.useEffect(()=>a?()=>{}:(n(u0(t)),()=>{n(u0(void 0))}),[t,n,a]),null},H0={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},oI=fn({name:"brush",initialState:H0,reducers:{setBrushSettings(e,t){return t.payload==null?H0:t.payload}}}),{setBrushSettings:qQ}=oI.actions,dV=oI.reducer;function pV(e,t,n){return(t=mV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mV(e){var t=hV(e,"string");return typeof t=="symbol"?t:t+""}function hV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qb{static create(t){return new Qb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?t>=a&&t<=i:t>=i&&t<=a}}pV(Qb,"EPS",1e-4);function fV(e){return(e%180+180)%180}var gV=function(t){var{width:n,height:a}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=fV(i),o=s*Math.PI/180,l=Math.atan(a/n),c=o>l&&o<Math.PI-l?a/Math.sin(o):n/Math.cos(o);return Math.abs(c)},vV={dots:[],areas:[],lines:[]},lI=fn({name:"referenceElements",initialState:vV,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ta(e).dots.findIndex(a=>a===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ta(e).areas.findIndex(a=>a===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ta(e).lines.findIndex(a=>a===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:KQ,removeDot:VQ,addArea:GQ,removeArea:YQ,addLine:QQ,removeLine:ZQ}=lI.actions,bV=lI.reducer,yV=m.createContext(void 0),xV=e=>{var{children:t}=e,[n]=m.useState("".concat(qo("recharts"),"-clip")),a=Gb();if(a==null)return null;var{x:i,y:s,width:o,height:l}=a;return m.createElement(yV.Provider,{value:n},m.createElement("defs",null,m.createElement("clipPath",{id:n},m.createElement("rect",{x:i,y:s,height:l,width:o}))),t)};function cI(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function wV(e,t,n){var a={width:e.width+t.width,height:e.height+t.height};return gV(a,n)}function jV(e,t,n){var a=n==="width",{x:i,y:s,width:o,height:l}=e;return t===1?{start:a?i:s,end:a?i+o:s+l}:{start:a?i+o:s+l,end:a?i:s}}function ud(e,t,n,a,i){if(e*t<e*a||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-a)>=0&&e*(t+e*s/2-i)<=0}function CV(e,t){return cI(e,t+1)}function SV(e,t,n,a,i){for(var s=(a||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,p=function(){var g=a==null?void 0:a[c];if(g===void 0)return{v:cI(a,u)};var v=c,y,b=()=>(y===void 0&&(y=n(g,v)),y),x=g.coordinate,w=c===0||ud(e,x,b,d,l);w||(c=0,d=o,u+=1),w&&(d=x+e*(b()/2+i),c+=u)},h;u<=s.length;)if(h=p(),h)return h.v;return[]}function q0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q0(Object(n),!0).forEach(function(a){NV(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function NV(e,t,n){return(t=kV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kV(e){var t=PV(e,"string");return typeof t=="symbol"?t:t+""}function PV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AV(e,t,n,a,i){for(var s=(a||[]).slice(),o=s.length,{start:l}=t,{end:c}=t,u=function(h){var f=s[h],g,v=()=>(g===void 0&&(g=n(f,h)),g);if(h===o-1){var y=e*(f.coordinate+e*v()/2-c);s[h]=f=Bt(Bt({},f),{},{tickCoord:y>0?f.coordinate-y*e:f.coordinate})}else s[h]=f=Bt(Bt({},f),{},{tickCoord:f.coordinate});if(f.tickCoord!=null){var b=ud(e,f.tickCoord,v,l,c);b&&(c=f.tickCoord-e*(v()/2+i),s[h]=Bt(Bt({},f),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return s}function EV(e,t,n,a,i,s){var o=(a||[]).slice(),l=o.length,{start:c,end:u}=t;if(s){var d=a[l-1],p=n(d,l-1),h=e*(d.coordinate+e*p/2-u);if(o[l-1]=d=Bt(Bt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var f=ud(e,d.tickCoord,()=>p,c,u);f&&(u=d.tickCoord-e*(p/2+i),o[l-1]=Bt(Bt({},d),{},{isShow:!0}))}}for(var g=s?l-1:l,v=function(x){var w=o[x],j,C=()=>(j===void 0&&(j=n(w,x)),j);if(x===0){var k=e*(w.coordinate-e*C()/2-c);o[x]=w=Bt(Bt({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[x]=w=Bt(Bt({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var E=ud(e,w.tickCoord,C,c,u);E&&(c=w.tickCoord+e*(C()/2+i),o[x]=Bt(Bt({},w),{},{isShow:!0}))}},y=0;y<g;y++)v(y);return o}function Zb(e,t,n){var{tick:a,ticks:i,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:p}=e;if(!i||!i.length||!a)return[];if(ge(c)||wl.isSsr){var h;return(h=CV(i,ge(c)?c:0))!==null&&h!==void 0?h:[]}var f=[],g=l==="top"||l==="bottom"?"width":"height",v=d&&g==="width"?Co(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,j)=>{var C=typeof u=="function"?u(w.value,j):w.value;return g==="width"?wV(Co(C,{fontSize:t,letterSpacing:n}),v,p):Co(C,{fontSize:t,letterSpacing:n})[g]},b=i.length>=2?ln(i[1].coordinate-i[0].coordinate):1,x=jV(s,b,g);return c==="equidistantPreserveStart"?SV(b,x,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=EV(b,x,y,i,o,c==="preserveStartEnd"):f=AV(b,x,y,i,o),f.filter(w=>w.isShow))}var TV=e=>{var{ticks:t,label:n,labelGapWithTick:a=5,tickSize:i=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+s,u=o+c+l+(n?a:0);return Math.round(u)}return 0},IV=["axisLine","width","height","className","hide","ticks","axisType"];function OV(e,t){if(e==null)return{};var n,a,i=MV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MV(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fi.apply(null,arguments)}function K0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K0(Object(n),!0).forEach(function(a){LV(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function LV(e,t,n){return(t=DV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DV(e){var t=FV(e,"string");return typeof t=="symbol"?t:t+""}function FV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Pt.axis};function zV(e){var{x:t,y:n,width:a,height:i,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=dt(dt(dt({},c),ra(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!o||s==="bottom"&&o);u=dt(dt({},u),{},{x1:t,y1:n+d*i,x2:t+a,y2:n+d*i})}else{var p=+(s==="left"&&!o||s==="right"&&o);u=dt(dt({},u),{},{x1:t+p*a,y1:n,x2:t+p*a,y2:n+i})}return m.createElement("line",fi({},u,{className:Re("recharts-cartesian-axis-line",ds(l,"className"))}))}function _V(e,t,n,a,i,s,o,l,c){var u,d,p,h,f,g,v=l?-1:1,y=e.tickSize||o,b=ge(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,h=n+ +!l*i,p=h-v*y,g=p-v*c,f=b;break;case"left":p=h=e.coordinate,d=t+ +!l*a,u=d-v*y,f=u-v*c,g=b;break;case"right":p=h=e.coordinate,d=t+ +l*a,u=d+v*y,f=u+v*c,g=b;break;default:u=d=e.coordinate,h=n+ +l*i,p=h+v*y,g=p+v*c,f=b;break}return{line:{x1:u,y1:p,x2:d,y2:h},tick:{x:f,y:g}}}function RV(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function BV(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $V(e){var{option:t,tickProps:n,value:a}=e,i,s=Re(n.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(t))i=m.cloneElement(t,dt(dt({},n),{},{className:s}));else if(typeof t=="function")i=t(dt(dt({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Re(o,t==null?void 0:t.className)),i=m.createElement(Hb,fi({},n,{className:o}),a)}return i}var UV=m.forwardRef((e,t)=>{var{ticks:n=[],tick:a,tickLine:i,stroke:s,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:p,x:h,y:f,width:g,height:v,tickSize:y,tickMargin:b,fontSize:x,letterSpacing:w,getTicksConfig:j,events:C,axisType:k}=e,E=Zb(dt(dt({},j),{},{ticks:n}),x,w),O=RV(d,p),M=BV(d,p),P=ra(j),T=pl(a),S={};typeof i=="object"&&(S=i);var N=dt(dt({},P),{},{fill:"none"},S),A=E.map(I=>dt({entry:I},_V(I,h,f,g,v,d,y,p,b))),L=A.map(I=>{var{entry:D,line:F}=I;return m.createElement(Rn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},i&&m.createElement("line",fi({},N,F,{className:Re("recharts-cartesian-axis-tick-line",ds(i,"className"))})))}),_=A.map((I,D)=>{var{entry:F,tick:R}=I,z=dt(dt(dt(dt({textAnchor:O,verticalAnchor:M},P),{},{stroke:"none",fill:s},T),R),{},{index:D,payload:F,visibleTicksCount:E.length,tickFormatter:o,padding:c},u);return m.createElement(Rn,fi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},$d(C,F,D)),a&&m.createElement($V,{option:a,tickProps:z,value:"".concat(typeof o=="function"?o(F.value,D):F.value).concat(l||"")}))});return m.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},_.length>0&&m.createElement(Wn,{zIndex:Pt.label},m.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},_)),L.length>0&&m.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},L))}),WV=m.forwardRef((e,t)=>{var{axisLine:n,width:a,height:i,className:s,hide:o,ticks:l,axisType:c}=e,u=OV(e,IV),[d,p]=m.useState(""),[h,f]=m.useState(""),g=m.useRef(null);m.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return TV({ticks:g.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=m.useCallback(y=>{if(y){var b=y.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=b;var x=b[0];if(x){var w=window.getComputedStyle(x),j=w.fontSize,C=w.letterSpacing;(j!==d||C!==h)&&(p(j),f(C))}}},[d,h]);return o||a!=null&&a<=0||i!=null&&i<=0?null:m.createElement(Wn,{zIndex:e.zIndex},m.createElement(Rn,{className:Re("recharts-cartesian-axis",s)},m.createElement(zV,{x:e.x,y:e.y,width:a,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ra(e)}),m.createElement(UV,{ref:v,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),m.createElement(n8,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},m.createElement(p8,{label:e.label,labelRef:e.labelRef}),e.children)))}),Xb=m.forwardRef((e,t)=>{var n=zt(e,Fa);return m.createElement(WV,fi({},n,{ref:t}))});Xb.displayName="CartesianAxis";var HV=["x1","y1","x2","y2","key"],qV=["offset"],KV=["xAxisId","yAxisId"],VV=["xAxisId","yAxisId"];function V0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V0(Object(n),!0).forEach(function(a){GV(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function GV(e,t,n){return(t=YV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YV(e){var t=QV(e,"string");return typeof t=="symbol"?t:t+""}function QV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zr.apply(null,arguments)}function dd(e,t){if(e==null)return{};var n,a,i=ZV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZV(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var XV=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:a,y:i,width:s,height:o,ry:l}=e;return m.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function uI(e){var{option:t,lineItemProps:n}=e,a;if(m.isValidElement(t))a=m.cloneElement(t,n);else if(typeof t=="function")a=t(n);else{var i,{x1:s,y1:o,x2:l,y2:c,key:u}=n,d=dd(n,HV),p=(i=ra(d))!==null&&i!==void 0?i:{},{offset:h}=p,f=dd(p,qV);a=m.createElement("line",Zr({},f,{x1:s,y1:o,x2:l,y2:c,fill:"none",key:u}))}return a}function JV(e){var{x:t,width:n,horizontal:a=!0,horizontalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,l=dd(e,KV),c=i.map((u,d)=>{var p=Ut(Ut({},l),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return m.createElement(uI,{key:"line-".concat(d),option:a,lineItemProps:p})});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function eG(e){var{y:t,height:n,vertical:a=!0,verticalPoints:i}=e;if(!a||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,l=dd(e,VV),c=i.map((u,d)=>{var p=Ut(Ut({},l),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return m.createElement(uI,{option:a,lineItemProps:p,key:"line-".concat(d)})});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function tG(e){var{horizontalFill:t,fillOpacity:n,x:a,y:i,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(p=>Math.round(p+i-i)).sort((p,h)=>p-h);i!==u[0]&&u.unshift(0);var d=u.map((p,h)=>{var f=!u[h+1],g=f?i+o-p:u[h+1]-p;if(g<=0)return null;var v=h%t.length;return m.createElement("rect",{key:"react-".concat(h),y:p,x:a,height:g,width:s,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function nG(e){var{vertical:t=!0,verticalFill:n,fillOpacity:a,x:i,y:s,width:o,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(p=>Math.round(p+i-i)).sort((p,h)=>p-h);i!==u[0]&&u.unshift(0);var d=u.map((p,h)=>{var f=!u[h+1],g=f?i+o-p:u[h+1]-p;if(g<=0)return null;var v=h%n.length;return m.createElement("rect",{key:"react-".concat(h),x:p,y:s,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var aG=(e,t)=>{var{xAxis:n,width:a,height:i,offset:s}=e;return kA(Zb(Ut(Ut(Ut({},Fa),n),{},{ticks:PA(n),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,t)},rG=(e,t)=>{var{yAxis:n,width:a,height:i,offset:s}=e;return kA(Zb(Ut(Ut(Ut({},Fa),n),{},{ticks:PA(n),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,t)},iG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Pt.grid};function Ti(e){var t=Wv(),n=Hv(),a=FA(),i=Ut(Ut({},zt(e,iG)),{},{x:ge(e.x)?e.x:a.left,y:ge(e.y)?e.y:a.top,width:ge(e.width)?e.width:a.width,height:ge(e.height)?e.height:a.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:p,horizontalValues:h,verticalValues:f}=i,g=qt(),v=be(M=>Jj(M,"xAxis",s,g)),y=be(M=>Jj(M,"yAxis",o,g));if(!ya(u)||!ya(d)||!ge(l)||!ge(c))return null;var b=i.verticalCoordinatesGenerator||aG,x=i.horizontalCoordinatesGenerator||rG,{horizontalPoints:w,verticalPoints:j}=i;if((!w||!w.length)&&typeof x=="function"){var C=h&&h.length,k=x({yAxis:y?Ut(Ut({},y),{},{ticks:C?h:y.ticks}):void 0,width:t??u,height:n??d,offset:a},C?!0:p);Fu(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!j||!j.length)&&typeof b=="function"){var E=f&&f.length,O=b({xAxis:v?Ut(Ut({},v),{},{ticks:E?f:v.ticks}):void 0,width:t??u,height:n??d,offset:a},E?!0:p);Fu(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(j=O)}return m.createElement(Wn,{zIndex:i.zIndex},m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(XV,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),m.createElement(tG,Zr({},i,{horizontalPoints:w})),m.createElement(nG,Zr({},i,{verticalPoints:j})),m.createElement(JV,Zr({},i,{offset:a,horizontalPoints:w,xAxis:v,yAxis:y})),m.createElement(eG,Zr({},i,{offset:a,verticalPoints:j,xAxis:v,yAxis:y}))))}Ti.displayName="CartesianGrid";var dI=(e,t,n,a)=>Tr(e,"xAxis",t,a),pI=(e,t,n,a)=>Er(e,"xAxis",t,a),mI=(e,t,n,a)=>Tr(e,"yAxis",n,a),hI=(e,t,n,a)=>Er(e,"yAxis",n,a),sG=q([De,dI,mI,pI,hI],(e,t,n,a,i)=>Fr(e,"xAxis")?hs(t,a,!1):hs(n,i,!1)),oG=(e,t,n,a,i)=>i;function lG(e){return e.type==="line"}var cG=q([Np,oG],(e,t)=>e.filter(lG).find(n=>n.id===t)),uG=q([De,dI,mI,pI,hI,cG,sG,vp],(e,t,n,a,i,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||t==null||n==null||a==null||i==null||a.length===0||i.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:p,data:h}=s,f;if(h!=null&&h.length>0?f=h:f=c==null?void 0:c.slice(u,d+1),f!=null)return IG({layout:e,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:f})}});function dG(e){var t=pl(e),n=3,a=2;if(t!=null){var{r:i,strokeWidth:s}=t,o=Number(i),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=a),{r:o,strokeWidth:l}}return{r:n,strokeWidth:a}}var pG=["id"],mG=["type","layout","connectNulls","needClip","shape"],hG=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},il.apply(null,arguments)}function G0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G0(Object(n),!0).forEach(function(a){fG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function fG(e,t,n){return(t=gG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gG(e){var t=vG(e,"string");return typeof t=="symbol"?t:t+""}function vG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jb(e,t){if(e==null)return{};var n,a,i=bG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bG(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var yG=e=>{var{dataKey:t,name:n,stroke:a,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:a,value:Jd(n,t),payload:e}]},xG=m.memo(e=>{var{dataKey:t,data:n,stroke:a,strokeWidth:i,fill:s,name:o,hide:l,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:n,positions:void 0,settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:Jd(o,t),hide:l,type:u,color:a,unit:c}};return m.createElement(YT,{tooltipEntrySettings:d})}),fI=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function wG(e,t){for(var n=e.length%2!==0?[...e,0]:e,a=[],i=0;i<t;++i)a=[...a,...n];return a}var jG=(e,t,n)=>{var a=n.reduce((p,h)=>p+h);if(!a)return fI(t,e);for(var i=Math.floor(e/a),s=e%a,o=t-e,l=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>s){l=[...n.slice(0,c),s-u];break}var d=l.length%2===0?[0,o]:[o];return[...wG(n,i),...l,...d].map(p=>"".concat(p,"px")).join(", ")};function CG(e){var{clipPathId:t,points:n,props:a}=e,{dot:i,dataKey:s,needClip:o}=a,{id:l}=a,c=Jb(a,pG),u=ra(c);return m.createElement(sK,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:o,clipPathId:t})}function SG(e){var{showLabels:t,children:n,points:a}=e,i=m.useMemo(()=>a==null?void 0:a.map(s=>{var o,l,c={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return da(da({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[a]);return m.createElement(FT,{value:t?i:void 0},n)}function Y0(e){var{clipPathId:t,pathRef:n,points:a,strokeDasharray:i,props:s}=e,{type:o,layout:l,connectNulls:c,needClip:u,shape:d}=s,p=Jb(s,mG),h=da(da({},Zt(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:a,type:o,layout:l,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return m.createElement(m.Fragment,null,(a==null?void 0:a.length)>1&&m.createElement(qT,il({shapeType:"curve",option:d},h,{pathRef:n})),m.createElement(CG,{points:a,clipPathId:t,props:s}))}function NG(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function kG(e){var{clipPathId:t,props:n,pathRef:a,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:p,animateNewValues:h,width:f,height:g,onAnimationEnd:v,onAnimationStart:y}=n,b=i.current,x=up(o,"recharts-line-"),w=m.useRef(x),[j,C]=m.useState(!1),k=!j,E=m.useCallback(()=>{typeof v=="function"&&v(),C(!1)},[v]),O=m.useCallback(()=>{typeof y=="function"&&y(),C(!0)},[y]),M=NG(a.current),P=m.useRef(0);w.current!==x&&(P.current=s.current,w.current=x);var T=P.current;return m.createElement(SG,{points:o,showLabels:k},n.children,m.createElement(cp,{animationId:x,begin:u,duration:d,isActive:c,easing:p,onAnimationEnd:E,onAnimationStart:O,key:x},S=>{var N=it(T,M+T,S),A=Math.min(N,M),L;if(c)if(l){var _="".concat(l).split(/[,\s]+/gim).map(F=>parseFloat(F));L=jG(A,M,_)}else L=fI(M,A);else L=l==null?void 0:String(l);if(S>0&&M>0&&(i.current=o,s.current=Math.max(s.current,A)),b){var I=b.length/o.length,D=S===1?o:o.map((F,R)=>{var z=Math.floor(R*I);if(b[z]){var U=b[z];return da(da({},F),{},{x:it(U.x,F.x,S),y:it(U.y,F.y,S)})}return h?da(da({},F),{},{x:it(f*2,F.x,S),y:it(g/2,F.y,S)}):da(da({},F),{},{x:F.x,y:F.y})});return i.current=D,m.createElement(Y0,{props:n,points:D,clipPathId:t,pathRef:a,strokeDasharray:L})}return m.createElement(Y0,{props:n,points:o,clipPathId:t,pathRef:a,strokeDasharray:L})}),m.createElement(_T,{label:n.label}))}function PG(e){var{clipPathId:t,props:n}=e,a=m.useRef(null),i=m.useRef(0),s=m.useRef(null);return m.createElement(kG,{props:n,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:i,pathRef:s})}var AG=(e,t)=>{var n,a;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:vt(e.payload,t)}};class EG extends m.Component{render(){var{hide:t,dot:n,points:a,className:i,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:d,id:p,needClip:h,zIndex:f}=this.props;if(t)return null;var g=Re("recharts-line",i),v=p,{r:y,strokeWidth:b}=dG(n),x=WT(n),w=y*2+b,j=h?"url(#clipPath-".concat(x?"":"dots-").concat(v,")"):void 0;return m.createElement(Wn,{zIndex:f},m.createElement(Rn,{className:g},h&&m.createElement("defs",null,m.createElement(rI,{clipPathId:v,xAxisId:s,yAxisId:o}),!x&&m.createElement("clipPath",{id:"clipPath-dots-".concat(v)},m.createElement("rect",{x:c-w/2,y:l-w/2,width:u+w,height:d+w}))),m.createElement(aI,{xAxisId:s,yAxisId:o,data:a,dataPointFormatter:AG,errorBarOffset:0},m.createElement(PG,{props:this.props,clipPathId:v}))),m.createElement(kK,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:j}))}}var gI={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Pt.line,type:"linear"};function TG(e){var t=zt(e,gI),{activeDot:n,animateNewValues:a,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:p,legendType:h,xAxisId:f,yAxisId:g,id:v}=t,y=Jb(t,hG),{needClip:b}=Yb(f,g),x=Gb(),w=yl(),j=qt(),C=be(P=>uG(P,f,g,j,v));if(w!=="horizontal"&&w!=="vertical"||C==null||x==null)return null;var{height:k,width:E,x:O,y:M}=x;return m.createElement(EG,il({},y,{id:v,connectNulls:l,dot:c,activeDot:n,animateNewValues:a,animationBegin:i,animationDuration:s,animationEasing:o,isAnimationActive:d,hide:u,label:p,legendType:h,xAxisId:f,yAxisId:g,points:C,layout:w,height:k,width:E,left:O,top:M,needClip:b}))}function IG(e){var{layout:t,xAxis:n,yAxis:a,xAxisTicks:i,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var p=vt(u,o);if(t==="horizontal"){var h=kw({axis:n,ticks:i,bandSize:l,entry:u,index:d}),f=Xe(p)?null:a.scale(p);return{x:h,y:f,value:p,payload:u}}var g=Xe(p)?null:n.scale(p),v=kw({axis:a,ticks:s,bandSize:l,entry:u,index:d});return g==null||v==null?null:{x:g,y:v,value:p,payload:u}}).filter(Boolean)}function OG(e){var t=zt(e,gI),n=qt();return m.createElement(XT,{id:t.id,type:"line"},a=>m.createElement(m.Fragment,null,m.createElement(QT,{legendPayload:yG(t)}),m.createElement(xG,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),m.createElement(eI,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),m.createElement(TG,il({},t,{id:a}))))}var Jf=m.memo(OG,Rp);Jf.displayName="Line";var MG=["domain","range"],LG=["domain","range"];function Q0(e,t){if(e==null)return{};var n,a,i=DG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DG(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Z0(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function vI(e,t){if(e===t)return!0;var{domain:n,range:a}=e,i=Q0(e,MG),{domain:s,range:o}=t,l=Q0(t,LG);return!Z0(n,s)||!Z0(a,o)?!1:Rp(i,l)}var FG=["dangerouslySetInnerHTML","ticks"],zG=["id"];function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},eg.apply(null,arguments)}function X0(e,t){if(e==null)return{};var n,a,i=_G(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _G(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function RG(e){var t=nt(),n=m.useRef(null);return m.useLayoutEffect(()=>{n.current===null?t(dK(e)):n.current!==e&&t(pK({prev:n.current,next:e})),n.current=e},[e,t]),m.useLayoutEffect(()=>()=>{n.current&&(t(mK(n.current)),n.current=null)},[t]),null}var BG=e=>{var{xAxisId:t,className:n}=e,a=be($v),i=qt(),s="xAxis",o=be(y=>Is(y,s,t,i)),l=be(y=>WE(y,s,t,i)),c=be(y=>RE(y,t)),u=be(y=>o4(y,t)),d=be(y=>lE(y,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:p,ticks:h}=e,f=X0(e,FG),{id:g}=d,v=X0(d,zG);return m.createElement(Xb,eg({},f,v,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:Re("recharts-".concat(s," ").concat(s),n),viewBox:a,ticks:l,axisType:s}))},$G={allowDataOverflow:Ct.allowDataOverflow,allowDecimals:Ct.allowDecimals,allowDuplicatedCategory:Ct.allowDuplicatedCategory,angle:Ct.angle,axisLine:Fa.axisLine,height:Ct.height,hide:!1,includeHidden:Ct.includeHidden,interval:Ct.interval,minTickGap:Ct.minTickGap,mirror:Ct.mirror,orientation:Ct.orientation,padding:Ct.padding,reversed:Ct.reversed,scale:Ct.scale,tick:Ct.tick,tickCount:Ct.tickCount,tickLine:Fa.tickLine,tickSize:Fa.tickSize,type:Ct.type,xAxisId:0},UG=e=>{var t=zt(e,$G);return m.createElement(m.Fragment,null,m.createElement(RG,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),m.createElement(BG,t))},Ii=m.memo(UG,vI);Ii.displayName="XAxis";var WG=["dangerouslySetInnerHTML","ticks"],HG=["id"];function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tg.apply(null,arguments)}function J0(e,t){if(e==null)return{};var n,a,i=qG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qG(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function KG(e){var t=nt(),n=m.useRef(null);return m.useLayoutEffect(()=>{n.current===null?t(hK(e)):n.current!==e&&t(fK({prev:n.current,next:e})),n.current=e},[e,t]),m.useLayoutEffect(()=>()=>{n.current&&(t(gK(n.current)),n.current=null)},[t]),null}var VG=e=>{var{yAxisId:t,className:n,width:a,label:i}=e,s=m.useRef(null),o=m.useRef(null),l=be($v),c=qt(),u=nt(),d="yAxis",p=be(C=>Is(C,d,t,c)),h=be(C=>BE(C,t)),f=be(C=>c4(C,t)),g=be(C=>WE(C,d,t,c)),v=be(C=>cE(C,t));if(m.useLayoutEffect(()=>{if(!(a!=="auto"||!h||qb(i)||m.isValidElement(i)||v==null)){var C=s.current;if(C){var k=C.getCalculatedWidth();Math.round(h.width)!==Math.round(k)&&u(vK({id:t,width:k}))}}},[g,h,u,i,t,a,v]),h==null||f==null||v==null)return null;var{dangerouslySetInnerHTML:y,ticks:b}=e,x=J0(e,WG),{id:w}=v,j=J0(v,HG);return m.createElement(Xb,tg({},x,j,{ref:s,labelRef:o,scale:p,x:f.x,y:f.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:h.width,height:h.height,className:Re("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:g,axisType:d}))},GG={allowDataOverflow:St.allowDataOverflow,allowDecimals:St.allowDecimals,allowDuplicatedCategory:St.allowDuplicatedCategory,angle:St.angle,axisLine:Fa.axisLine,hide:!1,includeHidden:St.includeHidden,interval:St.interval,minTickGap:St.minTickGap,mirror:St.mirror,orientation:St.orientation,padding:St.padding,reversed:St.reversed,scale:St.scale,tick:St.tick,tickCount:St.tickCount,tickLine:Fa.tickLine,tickSize:Fa.tickSize,type:St.type,width:St.width,yAxisId:0},YG=e=>{var t=zt(e,GG);return m.createElement(m.Fragment,null,m.createElement(KG,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),m.createElement(VG,t))},Oi=m.memo(YG,vI);Oi.displayName="YAxis";var QG=(e,t)=>t,ey=q([QG,De,sE,xt,iT,tr,SH,Et],IH),ty=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/a)}},bI=Bn("mouseClick"),yI=vl();yI.startListening({actionCreator:bI,effect:(e,t)=>{var n=e.payload,a=ey(t.getState(),ty(n));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(C4({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var ng=Bn("mouseMove"),xI=vl(),wc=null;xI.startListening({actionCreator:ng,effect:(e,t)=>{var n=e.payload;wc!==null&&cancelAnimationFrame(wc);var a=ty(n);wc=requestAnimationFrame(()=>{var i=t.getState(),s=Lb(i,i.tooltip.settings.shared);if(s==="axis"){var o=ey(i,a);(o==null?void 0:o.activeIndex)!=null?t.dispatch(ZE({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(QE())}wc=null})}});var eC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},wI=fn({name:"rootProps",initialState:eC,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:eC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ZG=wI.reducer,{updateOptions:XG}=wI.actions,jI=fn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:XQ}=jI.actions,JG=jI.reducer,CI=Bn("keyDown"),SI=Bn("focus"),ny=vl();ny.startListening({actionCreator:CI,effect:(e,t)=>{var n=t.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=Db(i,Ms(n),Al(n),Ml(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=tr(n);if(s==="Enter"){var u=ad(n,"axis","hover",String(i.index));t.dispatch(Kf({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=m4(n),p=d==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,f=l+h*p;if(!(c==null||f>=c.length||f<0)){var g=ad(n,"axis","hover",String(f));t.dispatch(Kf({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});ny.startListening({actionCreator:SI,effect:(e,t)=>{var n=t.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=ad(n,"axis","hover",String(s));t.dispatch(Kf({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var En=Bn("externalEvent"),NI=vl(),Km=new Map;NI.startListening({actionCreator:En,effect:(e,t)=>{var{handler:n,reactEvent:a}=e.payload;if(n!=null){a.persist();var i=a.type,s=Km.get(i);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:lH(l),activeDataKey:cT(l),activeIndex:hi(l),activeLabel:lT(l),activeTooltipIndex:hi(l),isTooltipActive:cH(l)};n(c,a)}finally{Km.delete(i)}});Km.set(i,o)}}});var e7=q([Os],e=>e.tooltipItemPayloads),t7=q([e7,Il,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,a)=>{var i=e.find(l=>l.settings.dataKey===a);if(i!=null){var{positions:s}=i;if(s!=null){var o=t(s,n);return o}}}),kI=Bn("touchMove"),PI=vl();PI.startListening({actionCreator:kI,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var a=t.getState(),i=Lb(a,a.tooltip.settings.shared);if(i==="axis"){var s=ey(a,ty({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(ZE({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(nB),d=(o=c.getAttribute(aB))!==null&&o!==void 0?o:void 0,p=t7(t.getState(),u,d);t.dispatch(YE({activeDataKey:d,activeIndex:u,activeCoordinate:p}))}}}});var n7=ZP({brush:dV,cartesianAxis:bK,chartData:oq,errorBars:_K,graphicalItems:Q8,layout:zR,legend:KB,options:nq,polarAxis:j8,polarOptions:JG,referenceElements:bV,rootProps:ZG,tooltip:S4,zIndex:qH}),a7=function(t){return lR({reducer:n7,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([yI.middleware,xI.middleware,ny.middleware,NI.middleware,PI.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(pA({type:"raf"}))},devTools:wl.devToolsEnabled})};function r7(e){var{preloadedState:t,children:n,reduxStoreName:a}=e,i=qt(),s=m.useRef(null);if(i)return n;s.current==null&&(s.current=a7(t));var o=Tv;return m.createElement(p6,{context:o,store:s.current},n)}function i7(e){var{layout:t,margin:n}=e,a=nt(),i=qt();return m.useEffect(()=>{i||(a(LR(t)),a(MR(n)))},[a,i,t,n]),null}var s7=m.memo(i7,Rp);function o7(e){var t=nt();return m.useEffect(()=>{t(XG(e))},[t,e]),null}function tC(e){var{zIndex:t,isPanorama:n}=e,a=n?"recharts-zindex-panorama-":"recharts-zindex-",i=ZT("".concat(a).concat(t)),s=nt();return m.useLayoutEffect(()=>(s(WH({zIndex:t,elementId:i,isPanorama:n})),()=>{s(HH({zIndex:t,isPanorama:n}))}),[s,t,i,n]),m.createElement("g",{tabIndex:-1,id:i})}function nC(e){var{children:t,isPanorama:n}=e,a=be(MH);if(!a||a.length===0)return t;var i=a.filter(o=>o<0),s=a.filter(o=>o>0);return m.createElement(m.Fragment,null,i.map(o=>m.createElement(tC,{key:o,zIndex:o,isPanorama:n})),t,s.map(o=>m.createElement(tC,{key:o,zIndex:o,isPanorama:n})))}var l7=["children"];function c7(e,t){if(e==null)return{};var n,a,i=u7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u7(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pd.apply(null,arguments)}var d7={width:"100%",height:"100%",display:"block"},p7=m.forwardRef((e,t)=>{var n=Wv(),a=Hv(),i=HA();if(!ya(n)||!ya(a))return null;var{children:s,otherAttributes:o,title:l,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0),m.createElement(hv,pd({},o,{title:l,desc:c,role:d,tabIndex:u,width:n,height:a,style:d7,ref:t}),s)}),m7=e=>{var{children:t}=e,n=be(ap);if(!n)return null;var{width:a,height:i,y:s,x:o}=n;return m.createElement(hv,{width:a,height:i,x:o,y:s},t)},aC=m.forwardRef((e,t)=>{var{children:n}=e,a=c7(e,l7),i=qt();return i?m.createElement(m7,null,m.createElement(nC,{isPanorama:!0},n)):m.createElement(p7,pd({ref:t},a),m.createElement(nC,{isPanorama:!1},n))});function h7(){var e=nt(),[t,n]=m.useState(null),a=be(tB);return m.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;ut(s)&&s!==a&&e(FR(s))}},[t,e,a]),n}function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function f7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(a){g7(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function g7(e,t,n){return(t=v7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v7(e){var t=b7(e,"string");return typeof t=="symbol"?t:t+""}function b7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},gi.apply(null,arguments)}var y7=()=>(gq(),null);function md(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var x7=m.forwardRef((e,t)=>{var n,a,i=m.useRef(null),[s,o]=m.useState({containerWidth:md((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:md((a=e.style)===null||a===void 0?void 0:a.height)}),l=m.useCallback((u,d)=>{o(p=>{var h=Math.round(u),f=Math.round(d);return p.containerWidth===h&&p.containerHeight===f?p:{containerWidth:h,containerHeight:f}})},[]),c=m.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:p}=u.getBoundingClientRect();l(d,p);var h=g=>{var{width:v,height:y}=g[0].contentRect;l(v,y)},f=new ResizeObserver(h);f.observe(u),i.current=f}},[t,l]);return m.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[l]),m.createElement(m.Fragment,null,m.createElement(ip,{width:s.containerWidth,height:s.containerHeight}),m.createElement("div",gi({ref:c},e)))}),w7=m.forwardRef((e,t)=>{var{width:n,height:a}=e,[i,s]=m.useState({containerWidth:md(n),containerHeight:md(a)}),o=m.useCallback((c,u)=>{s(d=>{var p=Math.round(c),h=Math.round(u);return d.containerWidth===p&&d.containerHeight===h?d:{containerWidth:p,containerHeight:h}})},[]),l=m.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return m.createElement(m.Fragment,null,m.createElement(ip,{width:i.containerWidth,height:i.containerHeight}),m.createElement("div",gi({ref:l},e)))}),j7=m.forwardRef((e,t)=>{var{width:n,height:a}=e;return m.createElement(m.Fragment,null,m.createElement(ip,{width:n,height:a}),m.createElement("div",gi({ref:t},e)))}),C7=m.forwardRef((e,t)=>{var{width:n,height:a}=e;return $a(n)||$a(a)?m.createElement(w7,gi({},e,{ref:t})):m.createElement(j7,gi({},e,{ref:t}))});function S7(e){return e===!0?x7:C7}var N7=m.forwardRef((e,t)=>{var{children:n,className:a,height:i,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:p,onMouseUp:h,onTouchEnd:f,onTouchMove:g,onTouchStart:v,style:y,width:b,responsive:x,dispatchTouchEvents:w=!0}=e,j=m.useRef(null),C=nt(),[k,E]=m.useState(null),[O,M]=m.useState(null),P=h7(),T=Uv(),S=(T==null?void 0:T.width)>0?T.width:b,N=(T==null?void 0:T.height)>0?T.height:i,A=m.useCallback($=>{P($),typeof t=="function"&&t($),E($),M($),$!=null&&(j.current=$)},[P,t,E,M]),L=m.useCallback($=>{C(bI($)),C(En({handler:s,reactEvent:$}))},[C,s]),_=m.useCallback($=>{C(ng($)),C(En({handler:u,reactEvent:$}))},[C,u]),I=m.useCallback($=>{C(QE()),C(En({handler:d,reactEvent:$}))},[C,d]),D=m.useCallback($=>{C(ng($)),C(En({handler:p,reactEvent:$}))},[C,p]),F=m.useCallback(()=>{C(SI())},[C]),R=m.useCallback($=>{C(CI($.key))},[C]),z=m.useCallback($=>{C(En({handler:o,reactEvent:$}))},[C,o]),U=m.useCallback($=>{C(En({handler:l,reactEvent:$}))},[C,l]),K=m.useCallback($=>{C(En({handler:c,reactEvent:$}))},[C,c]),Z=m.useCallback($=>{C(En({handler:h,reactEvent:$}))},[C,h]),oe=m.useCallback($=>{C(En({handler:v,reactEvent:$}))},[C,v]),fe=m.useCallback($=>{w&&C(kI($)),C(En({handler:g,reactEvent:$}))},[C,w,g]),V=m.useCallback($=>{C(En({handler:f,reactEvent:$}))},[C,f]),G=S7(x);return m.createElement(gT.Provider,{value:k},m.createElement(Jk.Provider,{value:O},m.createElement(G,{width:S??(y==null?void 0:y.width),height:N??(y==null?void 0:y.height),className:Re("recharts-wrapper",a),style:f7({position:"relative",cursor:"default",width:S,height:N},y),onClick:L,onContextMenu:z,onDoubleClick:U,onFocus:F,onKeyDown:R,onMouseDown:K,onMouseEnter:_,onMouseLeave:I,onMouseMove:D,onMouseUp:Z,onTouchEnd:V,onTouchMove:fe,onTouchStart:oe,ref:A},m.createElement(y7,null),n)))}),k7=["width","height","responsive","children","className","style","compact","title","desc"];function P7(e,t){if(e==null)return{};var n,a,i=A7(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A7(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var E7=m.forwardRef((e,t)=>{var{width:n,height:a,responsive:i,children:s,className:o,style:l,compact:c,title:u,desc:d}=e,p=P7(e,k7),h=ra(p);return c?m.createElement(m.Fragment,null,m.createElement(ip,{width:n,height:a}),m.createElement(aC,{otherAttributes:h,title:u,desc:d},s)):m.createElement(N7,{className:o,style:l,width:n,height:a,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(aC,{otherAttributes:h,title:u,desc:d,ref:t},m.createElement(xV,null,s)))});function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ag.apply(null,arguments)}var T7={top:5,right:5,bottom:5,left:5},I7={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:T7,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},AI=m.forwardRef(function(t,n){var a,i=zt(t.categoricalChartProps,I7),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return m.createElement(r7,{preloadedState:{options:d},reduxStoreName:(a=u.id)!==null&&a!==void 0?a:s},m.createElement(uV,{chartData:u.data}),m.createElement(s7,{layout:i.layout,margin:i.margin}),m.createElement(o7,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),m.createElement(E7,ag({},i,{ref:n})))}),O7=["axis"],iC=m.forwardRef((e,t)=>m.createElement(AI,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:O7,tooltipPayloadSearcher:bT,categoricalChartProps:e,ref:t})),M7=["axis","item"],Vm=m.forwardRef((e,t)=>m.createElement(AI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:M7,tooltipPayloadSearcher:bT,categoricalChartProps:e,ref:t}));async function L7(){return se("/dashboard/overview")}const jc=["#6366F1","#EC4899","#10B981","#F59E0B","#3B82F6","#8B5CF6","#F97316","#22C55E"];function D7(e){switch((e||"en").split("-")[0]){case"it":return"it-IT";case"es":return"es-ES";default:return"en-GB"}}const sC=()=>{var S;const{t:e,i18n:t}=Le(),n=m.useMemo(()=>D7(t.resolvedLanguage||t.language),[t.language,t.resolvedLanguage]),[a,i]=m.useState(null),[s,o]=m.useState(!0),[l,c]=m.useState(null);m.useEffect(()=>{let N=!0;return(async()=>{try{const L=await L7();N&&i(L)}catch(L){console.error("Failed to load dashboard",L),N&&c((L==null?void 0:L.message)||e("dashboard.errors.loadFailed"))}finally{N&&o(!1)}})(),()=>{N=!1}},[]);const u=((a==null?void 0:a.kpis.totalBots)??0)>0,d=((a==null?void 0:a.conversationsLast10Days.series.length)??0)>0,p=((a==null?void 0:a.tokensLast10Days.series.length)??0)>0,h=((a==null?void 0:a.topBotsByConversationsLast30Days.length)??0)>0,f=!!((S=a==null?void 0:a.tokenBreakdownLast10Days)!=null&&S.dates.length),g=(a==null?void 0:a.tokenBreakdownByBotLast10Days)&&a.tokenBreakdownByBotLast10Days.length>0,v=(N,A)=>{const L=t;return typeof(L==null?void 0:L.exists)=="function"&&L.exists(N)?e(N):A},y=N=>N==null||Number.isNaN(N)?"":`${N.toFixed(1)}%`,b=a?Math.round(a.kpis.totalTokensThisMonth/10):0,x=(a==null?void 0:a.kpis.monthlyTokensLimit)==null?null:Math.round(a.kpis.monthlyTokensLimit/10),w=m.useMemo(()=>{if(!a)return"";if(a.kpis.monthlyTokensLimit==null)return v("dashboard.kpisHints.unlimitedPlan","Unlimited plan");if(a.kpis.monthlyTokensLimit<=0)return"";const N=x??Math.round(a.kpis.monthlyTokensLimit/10);return`${v("dashboard.kpisHints.of","of")} ${N.toLocaleString(n)}`},[a,n,x,t,e]),j=m.useMemo(()=>a?a.kpis.monthlyEmailsLimit==null?v("dashboard.kpisHints.unlimitedPlan","Unlimited plan"):a.kpis.monthlyEmailsLimit<=0?"":`${v("dashboard.kpisHints.of","of")} ${a.kpis.monthlyEmailsLimit.toLocaleString(n)}`:"",[a,n,t,e]),C=N=>Math.round(N/10).toLocaleString(n),k=(N,A)=>{const L=typeof N=="number"?N:Number(N)||0;return[Math.round(L/10).toLocaleString(n),A]},E=m.useMemo(()=>{if(!a||!d)return[];const{dates:N,series:A}=a.conversationsLast10Days;return N.map((L,_)=>{const I={date:L};return A.forEach(D=>{I[D.botName]=D.values[_]??0}),I})},[a,d]),O=m.useMemo(()=>{if(!a||!p)return[];const{dates:N,series:A}=a.tokensLast10Days;return N.map((L,_)=>{const I={date:L};return A.forEach(D=>{I[D.botName]=D.values[_]??0}),I})},[a,p]),M=m.useMemo(()=>{if(!a||!f)return[];const{dates:N,openAiTokens:A,emailTokens:L,whatsappTokens:_}=a.tokenBreakdownLast10Days;return N.map((I,D)=>({date:I,openAi:A[D]??0,emails:L[D]??0,whatsapp:_[D]??0}))},[a,f]),P=m.useMemo(()=>!a||!g?[]:a.tokenBreakdownByBotLast10Days.map(N=>({botName:N.botName,openAi:N.openAiTokens,emails:N.emailTokens,whatsapp:N.whatsappTokens})),[a,g]),T=m.useMemo(()=>!a||!h?[]:a.topBotsByConversationsLast30Days.map(N=>({name:N.botName,conversations:N.conversationCount})),[a,h]);return r.jsxs("div",{className:"page-container dashboard-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"page-title",children:e("dashboard.title")}),r.jsx("p",{className:"page-subtitle",children:e("dashboard.subtitle")})]}),u&&r.jsx(ue,{to:"/app/bots/new",className:"btn-primary",children:e("dashboard.actions.createNewBot")})]}),s&&r.jsx("div",{className:"card",children:r.jsx("p",{children:e("dashboard.loading")})}),!s&&l&&r.jsx("div",{className:"card card-error",children:r.jsx("p",{children:l})}),!s&&!l&&!u&&r.jsxs("div",{className:"card",children:[r.jsx("h2",{className:"card-title",children:e("dashboard.empty.title")}),r.jsx("p",{className:"card-subtitle",children:e("dashboard.empty.subtitle")}),r.jsx("div",{style:{marginTop:"1rem"},children:r.jsx(ue,{to:"/onboarding/bots/new",className:"btn-primary",children:e("dashboard.empty.cta")})})]}),!s&&!l&&u&&a&&r.jsxs(r.Fragment,{children:[r.jsxs("section",{className:"dashboard-section",children:[r.jsxs("div",{className:"dashboard-kpi-row dashboard-kpi-row--top",children:[r.jsxs("div",{className:"dashboard-kpi-card",children:[r.jsx("div",{className:"dashboard-kpi-label",children:e("dashboard.kpis.totalBots")}),r.jsx("div",{className:"dashboard-kpi-value",children:a.kpis.totalBots}),r.jsx("div",{className:"dashboard-kpi-hint",children:e("dashboard.kpisHints.totalBots")})]}),r.jsxs("div",{className:"dashboard-kpi-card",children:[r.jsx("div",{className:"dashboard-kpi-label",children:e("dashboard.kpis.activeBots")}),r.jsx("div",{className:"dashboard-kpi-value",children:a.kpis.activeBots}),r.jsx("div",{className:"dashboard-kpi-hint",children:e("dashboard.kpisHints.activeBots")})]}),r.jsxs("div",{className:"dashboard-kpi-card",children:[r.jsx("div",{className:"dashboard-kpi-label",children:e("dashboard.kpis.conversationsLast30Days")}),r.jsx("div",{className:"dashboard-kpi-value",children:a.kpis.totalConversationsLast30Days}),r.jsx("div",{className:"dashboard-kpi-hint",children:e("dashboard.kpisHints.conversationsLast30Days")})]})]}),r.jsxs("div",{className:"dashboard-kpi-row dashboard-kpi-row--bottom",children:[r.jsxs("div",{className:"dashboard-kpi-card",children:[r.jsx("div",{className:"dashboard-kpi-label",children:e("dashboard.kpis.tokensThisMonth")}),r.jsxs("div",{className:"dashboard-kpi-value-row",children:[r.jsx("div",{className:"dashboard-kpi-value",children:b.toLocaleString(n)}),a.kpis.tokensUsagePercent!=null&&r.jsx("span",{className:"dashboard-kpi-pill",children:y(a.kpis.tokensUsagePercent)})]}),r.jsx("div",{className:"dashboard-kpi-hint",children:w})]}),r.jsxs("div",{className:"dashboard-kpi-card",children:[r.jsx("div",{className:"dashboard-kpi-label",children:v("dashboard.kpis.emailsThisMonth","Emails sent this month")}),r.jsxs("div",{className:"dashboard-kpi-value-row",children:[r.jsx("div",{className:"dashboard-kpi-value",children:a.kpis.totalEmailsThisMonth.toLocaleString(n)}),a.kpis.emailsUsagePercent!=null&&r.jsx("span",{className:"dashboard-kpi-pill",children:y(a.kpis.emailsUsagePercent)})]}),r.jsx("div",{className:"dashboard-kpi-hint",children:j})]}),r.jsxs("div",{className:"dashboard-kpi-card",children:[r.jsx("div",{className:"dashboard-kpi-label",children:v("dashboard.kpis.whatsappLeadsThisMonth","WhatsApp leads this month")}),r.jsx("div",{className:"dashboard-kpi-value",children:a.kpis.totalWhatsappLeadsThisMonth.toLocaleString(n)}),r.jsx("div",{className:"dashboard-kpi-hint",children:v("dashboard.kpisHints.whatsappLeadsThisMonth","Number of WhatsApp lead templates sent this month")})]})]})]}),r.jsx("section",{className:"dashboard-section",children:r.jsxs("div",{className:"dashboard-grid",children:[r.jsxs("div",{className:"card chart-card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:e("dashboard.charts.conversationsLast10Days.title")}),r.jsx("p",{className:"card-subtitle",children:e("dashboard.charts.conversationsLast10Days.subtitle")})]}),d?r.jsx("div",{style:{width:"100%",height:320},children:r.jsx(Ks,{children:r.jsxs(iC,{data:E,children:[r.jsx(Ti,{strokeDasharray:"3 3"}),r.jsx(Ii,{dataKey:"date"}),r.jsx(Oi,{allowDecimals:!1}),r.jsx(eo,{contentStyle:{background:"rgba(17,24,39,0.95)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10},labelStyle:{color:"#9ca3af"}}),r.jsx(co,{}),a.conversationsLast10Days.series.map((N,A)=>r.jsx(Jf,{type:"monotone",dataKey:N.botName,stroke:jc[A%jc.length],strokeWidth:2,dot:!1},N.botId))]})})}):r.jsx("p",{className:"card-empty",children:e("dashboard.charts.conversationsLast10Days.empty")})]}),r.jsxs("div",{className:"card chart-card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:e("dashboard.charts.tokensLast10Days.title")}),r.jsx("p",{className:"card-subtitle",children:e("dashboard.charts.tokensLast10Days.subtitle")})]}),p?r.jsx("div",{style:{width:"100%",height:320},children:r.jsx(Ks,{children:r.jsxs(iC,{data:O,children:[r.jsx(Ti,{strokeDasharray:"3 3"}),r.jsx(Ii,{dataKey:"date"}),r.jsx(Oi,{allowDecimals:!1,tickFormatter:C}),r.jsx(eo,{contentStyle:{background:"rgba(17,24,39,0.95)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10},labelStyle:{color:"#9ca3af"},formatter:k}),r.jsx(co,{}),a.tokensLast10Days.series.map((N,A)=>r.jsx(Jf,{type:"monotone",dataKey:N.botName,stroke:jc[A%jc.length],strokeWidth:2,dot:!1},N.botId))]})})}):r.jsx("p",{className:"card-empty",children:e("dashboard.charts.tokensLast10Days.empty")})]}),r.jsxs("div",{className:"card chart-card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:v("dashboard.charts.tokensSplitLast10Days.title","Tokens by channel (last 10 days)")}),r.jsx("p",{className:"card-subtitle",children:v("dashboard.charts.tokensSplitLast10Days.subtitle","OpenAI + knowledge vs emails vs WhatsApp templates")})]}),f?r.jsx("div",{style:{width:"100%",height:320},children:r.jsx(Ks,{children:r.jsxs(Vm,{data:M,children:[r.jsx(Ti,{strokeDasharray:"3 3"}),r.jsx(Ii,{dataKey:"date"}),r.jsx(Oi,{allowDecimals:!1,tickFormatter:C}),r.jsx(eo,{contentStyle:{background:"rgba(17,24,39,0.95)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,padding:"0.45rem 0.7rem",fontSize:"0.8rem"},labelStyle:{color:"#9ca3af"},formatter:k}),r.jsx(co,{}),r.jsx(rr,{dataKey:"openAi",stackId:"tokens",fill:"#6366F1",name:v("dashboard.tokensSplit.legend.openAi","OpenAI + knowledge"),radius:[6,6,0,0]}),r.jsx(rr,{dataKey:"emails",stackId:"tokens",fill:"#F97316",name:v("dashboard.tokensSplit.legend.emails","Emails")}),r.jsx(rr,{dataKey:"whatsapp",stackId:"tokens",fill:"#22C55E",name:v("dashboard.tokensSplit.legend.whatsapp","WhatsApp templates"),radius:[0,0,6,6]})]})})}):r.jsx("p",{className:"card-empty",children:v("dashboard.charts.tokensSplitLast10Days.empty","Not enough data yet to show the split.")})]}),r.jsxs("div",{className:"card chart-card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:v("dashboard.charts.tokensSplitByBotLast10Days.title","Tokens by bot & channel (last 10 days)")}),r.jsx("p",{className:"card-subtitle",children:v("dashboard.charts.tokensSplitByBotLast10Days.subtitle","How each bot consumes tokens via OpenAI + knowledge, emails, and WhatsApp templates")})]}),g?r.jsx("div",{style:{width:"100%",height:320},children:r.jsx(Ks,{children:r.jsxs(Vm,{data:P,children:[r.jsx(Ti,{strokeDasharray:"3 3"}),r.jsx(Ii,{dataKey:"botName"}),r.jsx(Oi,{allowDecimals:!1,tickFormatter:C}),r.jsx(eo,{contentStyle:{background:"rgba(17,24,39,0.95)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,padding:"0.45rem 0.7rem",fontSize:"0.8rem"},labelStyle:{color:"#9ca3af"},formatter:k}),r.jsx(co,{}),r.jsx(rr,{dataKey:"openAi",stackId:"tokens",fill:"#6366F1",name:v("dashboard.tokensSplit.legend.openAi","OpenAI + knowledge"),radius:[6,6,0,0]}),r.jsx(rr,{dataKey:"emails",stackId:"tokens",fill:"#F97316",name:v("dashboard.tokensSplit.legend.emails","Emails")}),r.jsx(rr,{dataKey:"whatsapp",stackId:"tokens",fill:"#22C55E",name:v("dashboard.tokensSplit.legend.whatsapp","WhatsApp templates"),radius:[0,0,6,6]})]})})}):r.jsx("p",{className:"card-empty",children:v("dashboard.charts.tokensSplitByBotLast10Days.empty","Not enough data yet to show per-bot split.")})]}),r.jsxs("div",{className:"card chart-card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:e("dashboard.charts.topBots.title")}),r.jsx("p",{className:"card-subtitle",children:e("dashboard.charts.topBots.subtitle")})]}),h?r.jsx("div",{style:{width:"100%",height:320},children:r.jsx(Ks,{children:r.jsxs(Vm,{data:T,children:[r.jsx(Ti,{strokeDasharray:"3 3"}),r.jsx(Ii,{dataKey:"name"}),r.jsx(Oi,{allowDecimals:!1}),r.jsx(eo,{contentStyle:{background:"rgba(17,24,39,0.95)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,padding:"0.45rem 0.7rem",fontSize:"0.8rem"},labelStyle:{color:"#9ca3af"}}),r.jsx(rr,{dataKey:"conversations",fill:"#6366F1",radius:[6,6,0,0]})]})})}):r.jsx("p",{className:"card-empty",children:e("dashboard.charts.topBots.empty")})]}),r.jsxs("div",{className:"card chart-card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:e("dashboard.activity.title")}),r.jsx("p",{className:"card-subtitle",children:e("dashboard.activity.subtitle")})]}),h?r.jsx("ul",{className:"list-plain",children:a.topBotsByConversationsLast30Days.map(N=>r.jsxs("li",{className:"list-row",children:[r.jsxs("div",{className:"list-row-main",children:[r.jsx("div",{className:"list-title",children:N.botName}),N.lastConversationAt&&r.jsxs("div",{className:"list-subtitle",children:[e("dashboard.activity.lastConversation")," ",new Date(N.lastConversationAt).toLocaleString(n)]})]}),r.jsxs("div",{className:"list-row-meta",children:[r.jsxs("span",{className:"badge",children:[N.conversationCount," ",e("dashboard.activity.convAbbrev")]}),r.jsx(ue,{to:`/app/bots/${N.botId}/conversations`,className:"btn-link-small",children:e("dashboard.activity.view")})]})]},N.botId))}):r.jsx("p",{className:"card-empty",children:e("dashboard.activity.empty")})]})]})})]})]})},F7=()=>{const{slug:e}=Ft(),[t,n]=m.useState(null),[a,i]=m.useState(!0),[s,o]=m.useState(null);return m.useEffect(()=>{e&&(i(!0),o(null),XN(e).then(l=>n(l)).catch(l=>{console.error(l),o(l.message||"Failed to load bot")}).finally(()=>i(!1)))},[e]),e?a?r.jsx("div",{children:"Loading..."}):s?r.jsx("div",{children:s}):t?r.jsx("div",{style:{height:"100vh",margin:0,padding:8,boxSizing:"border-box",backgroundColor:"#f5f5f5",fontFamily:"system-ui, sans-serif"},children:r.jsx(JN,{slug:t.slug,botName:t.name})}):r.jsx("div",{children:"Bot not found."}):r.jsx("div",{children:"No bot slug provided."})},Gm=(e,t)=>new Intl.NumberFormat("en-GB",{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:2}).format(e/100),z7={free:Sa,starter:Sa,basic:Sa,growth:Sa,pro:Sa,scale:Sa,enterprise:Sa},_7=e=>{const t=e.name.toLowerCase();return z7[t]??Sa},R7=()=>{const{t:e}=Le(),{id:t}=Ft(),n=tn(),[a,i]=m.useState(null),[s,o]=m.useState(!0),[l,c]=m.useState(null),[u,d]=m.useState([]),[p,h]=m.useState(!1),[f,g]=m.useState(null),[v,y]=m.useState(null),[b,x]=m.useState(!1),[w,j]=m.useState(null);m.useEffect(()=>{t&&(o(!0),c(null),h(!0),Promise.all([hn(t),wk(t,{}),Ck()]).then(([S,N,A])=>{i(S),d(A),A.length>0&&y(A[0].id)}).catch(S=>{console.error(S),c((S==null?void 0:S.message)||e("botPlan.errors.loadFailed"))}).finally(()=>{o(!1),h(!1)}))},[t]);const C=S=>{y(S)};if(!t)return r.jsx("div",{className:"page-container",children:r.jsx("p",{children:e("botPlan.missingId")})});if(s)return r.jsx("div",{className:"page-container",children:r.jsx("p",{children:e("botPlan.loading")})});if(l&&!a)return r.jsxs("div",{className:"page-container",children:[r.jsx("h1",{children:e("botPlan.errorTitle")}),r.jsx("p",{children:l})]});if(!a)return r.jsx("div",{className:"page-container",children:r.jsx("h1",{children:e("botPlan.notFoundTitle")})});const k=a.status==="ACTIVE",E=u.find(S=>S.id===v)||null,O=async()=>{if(!(!t||!a)){if(!v){c(e("botPlan.errors.selectPlan"));return}x(!0),c(null),j(null);try{if(k){await jk(t,{usagePlanId:v}),j(e("botPlan.success.planUpdatedProration"));const S=await hn(t);i(S)}else{const S=Fk(),N={usagePlanId:v};S&&(N.referralCode=S);const{checkoutUrl:A}=await xk(t,N);window.location.href=A}}catch(S){console.error(S),c((S==null?void 0:S.message)||e("botPlan.errors.updateFailed"))}finally{x(!1)}}},P=(S=>{const N=S.toUpperCase();return N==="ACTIVE"?"plan-summary-status plan-summary-status-ok":N==="DRAFT"?"plan-summary-status plan-summary-status-warn":N==="CANCELLED"||N==="INACTIVE"?"plan-summary-status plan-summary-status-error":"plan-summary-status"})(a.status),T=E?Gm(E.monthlyAmountCents,E.currency):null;return r.jsxs("div",{children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:e("botPlan.title")}),r.jsx("p",{className:"muted",children:e("botPlan.subtitle",{botName:a.name})})]}),r.jsx("div",{className:"header-actions",children:r.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>n(`/app/bots/${a.id}/features`),children:e("botPlan.backToFeatures")})})]}),l&&r.jsx("div",{className:"form-error",children:l}),w&&r.jsx("div",{className:"form-success",children:w}),r.jsxs("div",{className:"detail-layout",children:[r.jsxs("section",{className:"detail-main",children:[r.jsx("h2",{children:e("botPlan.plans.title")}),r.jsx("p",{className:"usage-plans-subtitle",children:e("botPlan.plans.subtitle")}),p&&r.jsx("p",{children:e("botPlan.plans.loading")}),f&&r.jsx("p",{className:"form-error",children:f}),u.length===0&&!p&&r.jsx("p",{className:"muted",children:e("botPlan.plans.empty")}),r.jsx("div",{className:"plan-cards",children:u.map(S=>{const N=S.id===v;return r.jsxs("div",{className:`plan-card ${N?"selected":""}`,onClick:()=>C(S.id),children:[r.jsx("div",{className:"plan-card-media",children:r.jsx("img",{src:_7(S),alt:e("botPlan.plans.planImageAlt",{planName:S.name})})}),r.jsxs("div",{className:"plan-card-header",children:[r.jsx("div",{className:"plan-card-name",children:S.name}),r.jsxs("div",{className:"plan-card-price",children:[Gm(S.monthlyAmountCents,S.currency),"/",e("botPlan.perMonth")]})]}),S.description&&r.jsx("p",{className:"plan-card-description",children:S.description}),r.jsx("ul",{className:"plan-limits",children:r.jsxs("li",{children:[e("botPlan.plans.tokensPerMonth")," ",r.jsx("strong",{children:S.monthlyTokens??e("botPlan.plans.unlimited")})]})}),r.jsx("button",{type:"button",className:"btn-secondary",onClick:A=>{A.stopPropagation(),C(S.id)},children:e(N?"botPlan.plans.selected":"botPlan.plans.select")})]},S.id)})})]}),r.jsxs("section",{className:"detail-side",children:[r.jsxs("div",{className:"plan-summary-header",children:[r.jsx("h2",{style:{margin:0},children:e("botPlan.summary.title")}),r.jsxs("span",{className:P,children:[e("botPlan.summary.statusLabel")," ",r.jsx("strong",{children:a.status})]})]}),r.jsx("p",{className:"muted",style:{marginTop:"0.35rem"},children:e("botPlan.summary.subtitle")}),r.jsx("h3",{style:{marginTop:"0.9rem",marginBottom:"0.35rem"},children:e("botPlan.summary.featuresSubtotal")}),r.jsx("h3",{style:{marginTop:"1.4rem",marginBottom:"0.3rem"},children:e("botPlan.summary.selectedPlan")}),E?r.jsxs("div",{className:"plan-summary-lines",children:[r.jsxs("div",{className:"plan-summary-line",children:[r.jsx("span",{className:"plan-summary-line-label",children:E.name}),r.jsxs("span",{className:"plan-summary-line-amount",children:[Gm(E.monthlyAmountCents,E.currency),"/",e("botPlan.perMonth")]})]}),r.jsxs("div",{className:"plan-summary-line",children:[r.jsx("span",{className:"plan-summary-line-label",children:e("botPlan.plans.tokensPerMonthLabel")}),r.jsx("span",{className:"plan-summary-line-amount",children:E.monthlyTokens??e("botPlan.plans.unlimited")})]})]}):r.jsx("p",{className:"muted",children:e("botPlan.summary.noPlanSelected")}),r.jsxs("div",{className:"plan-summary-total",style:{marginTop:"1.4rem"},children:[r.jsx("span",{children:e("botPlan.summary.totalPerMonth")}),r.jsx("strong",{children:T??e("botPlan.summary.selectPlanToSeeTotal")})]}),!k&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"btn-primary",type:"button",onClick:O,disabled:b||!E,style:{marginTop:"1rem"},children:e(b?"botPlan.actions.redirecting":"botPlan.actions.activatePay")}),r.jsx("p",{className:"detail-side-note",children:e("botPlan.notes.redirectToStripe")})]}),k&&r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"btn-primary",type:"button",onClick:O,disabled:b||!E,style:{marginTop:"1rem"},children:e(b?"botPlan.actions.updating":"botPlan.actions.changePlan")}),r.jsx("p",{className:"detail-side-note",children:e("botPlan.notes.proration")})]})]})]})]})},no=["name","email","phone","service","datetime"],Cc=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],B7=()=>{const{t:e}=Le(),{id:t}=Ft(),[n,a]=m.useState(null),[i,s]=m.useState(null),[o,l]=m.useState(""),[c,u]=m.useState(!0),[d,p]=m.useState(!1),[h,f]=m.useState(null),[g,v]=m.useState(null),[y,b]=m.useState(!1),x=()=>{const I={};return Cc.forEach(D=>{I[D]={enabled:!1,windows:[{start:"",end:""}]}}),I},w=I=>{const D=x();return I&&Cc.forEach(F=>{const R=I[F];R&&R.length>0&&(D[F]={enabled:!0,windows:R.map(z=>({start:z.start,end:z.end}))})}),D},j=I=>{const D={};return Cc.forEach(F=>{const R=I[F];if(!R.enabled)return;const z=[];R.windows.forEach(U=>{const K=U.start.trim(),Z=U.end.trim();!K||!Z||K>=Z||z.push({start:K,end:Z})}),z.length>0&&(D[F]=z.map(U=>({start:U.start,end:U.end})))}),Object.keys(D).length>0?D:null};m.useEffect(()=>{t&&(u(!0),f(null),v(null),hn(t).then(I=>{a(I);const F=(I.bookingRequiredFields||[]).filter(U=>!no.includes(U)),R=U=>typeof U=="number"?String(U):"",z=w(I.bookingWeeklySchedule??null);s({calendarId:I.calendarId||"",timeZone:I.timeZone||"",defaultDurationMinutes:I.defaultDurationMinutes?String(I.defaultDurationMinutes):"30",bookingMinLeadHours:R(I.bookingMinLeadHours),bookingMaxAdvanceDays:R(I.bookingMaxAdvanceDays),bookingMaxSimultaneousBookings:R(I.bookingMaxSimultaneousBookings),bookingReminderWindowHours:R(I.bookingReminderWindowHours),bookingReminderMinLeadHours:R(I.bookingReminderMinLeadHours),bookingConfirmationEmailEnabled:I.bookingConfirmationEmailEnabled??!0,bookingReminderEmailEnabled:I.bookingReminderEmailEnabled??!0,bookingConfirmationSubjectTemplate:I.bookingConfirmationSubjectTemplate??"",bookingReminderSubjectTemplate:I.bookingReminderSubjectTemplate??"",bookingCancellationSubjectTemplate:I.bookingCancellationSubjectTemplate??"",bookingConfirmationBodyTextTemplate:I.bookingConfirmationBodyTextTemplate??"",bookingReminderBodyTextTemplate:I.bookingReminderBodyTextTemplate??"",bookingCancellationBodyTextTemplate:I.bookingCancellationBodyTextTemplate??"",bookingConfirmationBodyHtmlTemplate:I.bookingConfirmationBodyHtmlTemplate??"",bookingReminderBodyHtmlTemplate:I.bookingReminderBodyHtmlTemplate??"",bookingCancellationBodyHtmlTemplate:I.bookingCancellationBodyHtmlTemplate??"",customBookingFields:F,bookingWeeklySchedule:z})}).catch(I=>{console.error(I),f((I==null?void 0:I.message)||e("botSettings.errors.loadFailed"))}).finally(()=>u(!1)))},[t,e]);const C=I=>D=>{if(!i)return;const F=D.target.value;s({...i,[I]:F})},k=I=>D=>{i&&s({...i,[I]:D.target.checked})},E=()=>{if(!i)return;const I=o.trim();if(!I)return;if(i.customBookingFields.some(F=>F.toLowerCase()===I.toLowerCase())||no.includes(I)){l("");return}s({...i,customBookingFields:[...i.customBookingFields,I]}),l("")},O=I=>{i&&s({...i,customBookingFields:i.customBookingFields.filter(D=>D!==I)})},M=(I,D)=>{i&&s({...i,bookingWeeklySchedule:{...i.bookingWeeklySchedule,[I]:{...i.bookingWeeklySchedule[I],enabled:D}}})},P=(I,D,F,R)=>{if(!i)return;const z=i.bookingWeeklySchedule[I],U=[...z.windows];U[D]={...U[D],[F]:R},s({...i,bookingWeeklySchedule:{...i.bookingWeeklySchedule,[I]:{...z,windows:U}}})},T=I=>{if(!i)return;const D=i.bookingWeeklySchedule[I];s({...i,bookingWeeklySchedule:{...i.bookingWeeklySchedule,[I]:{...D,windows:[...D.windows,{start:"",end:""}]}}})},S=(I,D)=>{if(!i)return;const F=i.bookingWeeklySchedule[I],R=F.windows.filter((z,U)=>U!==D);s({...i,bookingWeeklySchedule:{...i.bookingWeeklySchedule,[I]:{...F,windows:R.length>0?R:[{start:"",end:""}]}}})},N=I=>{const D=I.trim();if(!D)return null;const F=Number(D);return!Number.isFinite(F)||F<0?null:F},A=I=>{const D=I.trim();return D===""?null:D},L=async I=>{if(I.preventDefault(),!(!t||!i)){p(!0),f(null),v(null);try{const D=Array.from(new Set(i.customBookingFields.map(Z=>Z.trim()).filter(Z=>Z.length>0))),F=D.length>0?[...no,...D]:[...no],R=parseInt(i.defaultDurationMinutes,10),z=Number.isFinite(R)&&R>0?R:30,U=j(i.bookingWeeklySchedule),K=await _n(t,{calendarId:i.calendarId.trim()||null,timeZone:i.timeZone.trim()||null,defaultDurationMinutes:z,bookingMinLeadHours:N(i.bookingMinLeadHours),bookingMaxAdvanceDays:N(i.bookingMaxAdvanceDays),bookingMaxSimultaneousBookings:N(i.bookingMaxSimultaneousBookings),bookingReminderWindowHours:N(i.bookingReminderWindowHours),bookingReminderMinLeadHours:N(i.bookingReminderMinLeadHours),bookingConfirmationEmailEnabled:i.bookingConfirmationEmailEnabled,bookingReminderEmailEnabled:i.bookingReminderEmailEnabled,bookingConfirmationSubjectTemplate:A(i.bookingConfirmationSubjectTemplate),bookingReminderSubjectTemplate:A(i.bookingReminderSubjectTemplate),bookingCancellationSubjectTemplate:A(i.bookingCancellationSubjectTemplate),bookingConfirmationBodyTextTemplate:A(i.bookingConfirmationBodyTextTemplate),bookingReminderBodyTextTemplate:A(i.bookingReminderBodyTextTemplate),bookingCancellationBodyTextTemplate:A(i.bookingCancellationBodyTextTemplate),bookingConfirmationBodyHtmlTemplate:A(i.bookingConfirmationBodyHtmlTemplate),bookingReminderBodyHtmlTemplate:A(i.bookingReminderBodyHtmlTemplate),bookingCancellationBodyHtmlTemplate:A(i.bookingCancellationBodyHtmlTemplate),bookingRequiredFields:F,bookingWeeklySchedule:U});a(K),v(e("botSettings.success.saved"))}catch(D){console.error(D),f((D==null?void 0:D.message)||e("botSettings.errors.saveFailed"))}finally{p(!1)}}};if(!t)return r.jsx("div",{className:"page-container",children:r.jsx("p",{children:e("botSettings.missingId")})});if(c)return r.jsx("div",{className:"page-container",children:r.jsx("p",{children:e("botSettings.loading")})});if(h&&!n)return r.jsxs("div",{className:"page-container",children:[r.jsx("h1",{children:e("botSettings.title")}),r.jsx("p",{children:h})]});if(!n||!i)return r.jsxs("div",{className:"page-container",children:[r.jsx("h1",{children:e("botSettings.title")}),r.jsx("p",{children:e("botSettings.notFound")})]});const _=n.useCalendar;return r.jsxs("div",{children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{className:"bot-header",children:[r.jsx("div",{className:"bot-avatar",children:n.name.charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("h1",{className:"bot-title",children:e("botSettings.title")}),r.jsxs("p",{className:"muted",children:[e("botDetails.slugLabel")," ",r.jsx("code",{children:n.slug})]})]})]}),r.jsx("div",{className:"page-header-actions",children:r.jsx(ue,{to:`/app/bots/${n.id}`,className:"btn-secondary",children:e("botSettings.backToOverview")})})]}),r.jsxs("div",{className:"detail-layout",children:[r.jsxs("section",{className:"detail-main bot-settings-main",children:[r.jsx("p",{className:"muted bot-settings-intro",children:e("botSettings.intro")}),h&&r.jsx("div",{className:"form-error",children:h}),g&&r.jsx("div",{className:"form-success",children:g}),!_&&r.jsxs("div",{className:"alert-warning",style:{marginBottom:"1rem"},children:[r.jsx("strong",{children:e("botSettings.calendarDisabled.title")})," ",e("botSettings.calendarDisabled.body")," ",r.jsx(ue,{to:`/app/bots/${n.id}/features`,children:e("botSettings.featuresAndPlan")}),"."]}),r.jsxs("form",{className:"form",onSubmit:L,children:[r.jsxs("fieldset",{className:"form-fieldset bot-settings-section",children:[r.jsx("legend",{children:e("botSettings.sections.calendarConnection.title")}),r.jsx("p",{className:"muted bot-settings-hint",children:e("botSettings.sections.calendarConnection.hint")}),r.jsxs("div",{className:"bot-settings-grid",children:[r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.fields.calendarId.label")}),r.jsx("input",{type:"text",value:i.calendarId,onChange:C("calendarId"),placeholder:e("botSettings.fields.calendarId.placeholder")}),r.jsxs("span",{className:"bot-settings-help",children:[e("botSettings.fields.calendarId.help")," ",r.jsx("code",{children:"primary"})]})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.fields.timeZone.label")}),r.jsx("input",{type:"text",value:i.timeZone,onChange:C("timeZone"),placeholder:e("botSettings.fields.timeZone.placeholder")}),r.jsx("span",{className:"bot-settings-help",children:e("botSettings.fields.timeZone.help")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.fields.defaultDurationMinutes.label")}),r.jsx("input",{type:"number",min:5,max:480,value:i.defaultDurationMinutes,onChange:C("defaultDurationMinutes"),placeholder:e("botSettings.fields.defaultDurationMinutes.placeholder")}),r.jsx("span",{className:"bot-settings-help",children:e("botSettings.fields.defaultDurationMinutes.help")})]})]})]}),r.jsxs("fieldset",{className:"form-fieldset bot-settings-section",children:[r.jsx("legend",{children:e("botSettings.sections.availability.title")}),r.jsx("p",{className:"muted bot-settings-hint",children:e("botSettings.sections.availability.hint")}),r.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:Cc.map(I=>{if(!i)return null;const D=i.bookingWeeklySchedule[I];return r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:[r.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.35rem",minWidth:"140px"},children:[r.jsx("input",{type:"checkbox",checked:D.enabled,onChange:F=>M(I,F.target.checked)}),r.jsx("span",{children:e(`botSettings.weekdays.${I}`)})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem",flex:1,minWidth:"240px"},children:[D.windows.map((F,R)=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.35rem",flexWrap:"wrap"},children:[r.jsx("input",{type:"time",value:F.start,onChange:z=>P(I,R,"start",z.target.value)}),r.jsx("span",{children:""}),r.jsx("input",{type:"time",value:F.end,onChange:z=>P(I,R,"end",z.target.value)}),R>0&&r.jsx("button",{type:"button",className:"btn-link",onClick:()=>S(I,R),children:e("botSettings.sections.availability.removeRange")})]},R)),r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>T(I),children:e("botSettings.sections.availability.addRange")})]})]},I)})}),r.jsx("p",{className:"muted bot-settings-hint",children:e("botSettings.sections.availability.note")})]}),r.jsxs("fieldset",{className:"form-fieldset bot-settings-section",children:[r.jsx("legend",{children:e("botSettings.sections.bookingRules.title")}),r.jsx("p",{className:"muted bot-settings-hint",children:e("botSettings.sections.bookingRules.hint")}),r.jsxs("div",{className:"bot-settings-grid",children:[r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.fields.bookingMinLeadHours.label")}),r.jsx("input",{type:"number",min:0,step:1,value:i.bookingMinLeadHours,onChange:C("bookingMinLeadHours"),placeholder:e("botSettings.fields.bookingMinLeadHours.placeholder")}),r.jsx("span",{className:"bot-settings-help",children:e("botSettings.fields.bookingMinLeadHours.help")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.fields.bookingMaxAdvanceDays.label")}),r.jsx("input",{type:"number",min:0,step:1,value:i.bookingMaxAdvanceDays,onChange:C("bookingMaxAdvanceDays"),placeholder:e("botSettings.fields.bookingMaxAdvanceDays.placeholder")}),r.jsx("span",{className:"bot-settings-help",children:e("botSettings.fields.bookingMaxAdvanceDays.help")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.fields.bookingMaxSimultaneousBookings.label")}),r.jsx("input",{type:"number",min:1,value:i.bookingMaxSimultaneousBookings,onChange:C("bookingMaxSimultaneousBookings"),placeholder:e("botSettings.fields.bookingMaxSimultaneousBookings.placeholder")}),r.jsx("span",{className:"bot-settings-help",children:e("botSettings.fields.bookingMaxSimultaneousBookings.help")})]})]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"1rem",marginBottom:y?"0.6rem":"0"},children:[r.jsx("span",{className:"bot-settings-help",children:e("botSettings.advanced.prompt")}),r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>b(I=>!I),children:e(y?"botSettings.advanced.hide":"botSettings.advanced.show")})]}),y&&r.jsxs(r.Fragment,{children:[r.jsxs("fieldset",{className:"form-fieldset bot-settings-section",children:[r.jsx("legend",{children:e("botSettings.sections.reminderWindow.title")}),r.jsx("p",{className:"muted bot-settings-hint",children:e("botSettings.sections.reminderWindow.hint")}),r.jsxs("div",{className:"bot-settings-grid",children:[r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.fields.bookingReminderWindowHours.label")}),r.jsx("input",{type:"number",min:0,step:1,value:i.bookingReminderWindowHours,onChange:C("bookingReminderWindowHours"),placeholder:e("botSettings.fields.bookingReminderWindowHours.placeholder")}),r.jsx("span",{className:"bot-settings-help",children:e("botSettings.fields.bookingReminderWindowHours.help")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.fields.bookingReminderMinLeadHours.label")}),r.jsx("input",{type:"number",min:0,step:1,value:i.bookingReminderMinLeadHours,onChange:C("bookingReminderMinLeadHours"),placeholder:e("botSettings.fields.bookingReminderMinLeadHours.placeholder")}),r.jsx("span",{className:"bot-settings-help",children:e("botSettings.fields.bookingReminderMinLeadHours.help")})]})]})]}),r.jsxs("fieldset",{className:"form-fieldset bot-settings-section",children:[r.jsx("legend",{children:e("botSettings.sections.emails.title")}),r.jsxs("p",{className:"muted bot-settings-hint",children:[e("botSettings.sections.emails.hint")," ",r.jsx("code",{children:"{{client.name}}"}),","," ",r.jsx("code",{children:"{{client.email}}"}),","," ",r.jsx("code",{children:"{{booking.start}}"}),","," ",r.jsx("code",{children:"{{booking.end}}"}),","," ",r.jsx("code",{children:"{{booking.service}}"}),","," ",r.jsx("code",{children:"{{bot.name}}"}),"."]}),r.jsxs("div",{className:"bot-settings-email-toggles",children:[r.jsxs("label",{className:"checkbox-inline",children:[r.jsx("input",{type:"checkbox",checked:i.bookingConfirmationEmailEnabled,onChange:k("bookingConfirmationEmailEnabled")}),r.jsx("span",{children:e("botSettings.toggles.confirmationEmail")})]}),r.jsxs("label",{className:"checkbox-inline",children:[r.jsx("input",{type:"checkbox",checked:i.bookingReminderEmailEnabled,onChange:k("bookingReminderEmailEnabled")}),r.jsx("span",{children:e("botSettings.toggles.reminderEmail")})]})]}),r.jsxs("div",{className:"bot-settings-email-group",children:[r.jsx("h3",{className:"bot-settings-subtitle",children:e("botSettings.emailGroups.confirmation.title")}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.emailFields.subject")}),r.jsx("input",{type:"text",value:i.bookingConfirmationSubjectTemplate,onChange:C("bookingConfirmationSubjectTemplate"),placeholder:e("botSettings.emailGroups.confirmation.subjectPlaceholder")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.emailFields.bodyText")}),r.jsx("textarea",{rows:4,value:i.bookingConfirmationBodyTextTemplate,onChange:C("bookingConfirmationBodyTextTemplate"),placeholder:e("botSettings.emailGroups.confirmation.textPlaceholder")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.emailFields.bodyHtmlOptional")}),r.jsx("textarea",{rows:5,value:i.bookingConfirmationBodyHtmlTemplate,onChange:C("bookingConfirmationBodyHtmlTemplate"),placeholder:e("botSettings.emailGroups.confirmation.htmlPlaceholder")}),r.jsx("span",{className:"bot-settings-help",children:e("botSettings.emailGroups.confirmation.htmlHelp")})]})]}),r.jsxs("div",{className:"bot-settings-email-group",children:[r.jsx("h3",{className:"bot-settings-subtitle",children:e("botSettings.emailGroups.reminder.title")}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.emailFields.subject")}),r.jsx("input",{type:"text",value:i.bookingReminderSubjectTemplate,onChange:C("bookingReminderSubjectTemplate"),placeholder:e("botSettings.emailGroups.reminder.subjectPlaceholder")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.emailFields.bodyText")}),r.jsx("textarea",{rows:4,value:i.bookingReminderBodyTextTemplate,onChange:C("bookingReminderBodyTextTemplate"),placeholder:e("botSettings.emailGroups.reminder.textPlaceholder")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.emailFields.bodyHtmlOptional")}),r.jsx("textarea",{rows:5,value:i.bookingReminderBodyHtmlTemplate,onChange:C("bookingReminderBodyHtmlTemplate"),placeholder:e("botSettings.emailGroups.reminder.htmlPlaceholder")}),r.jsx("span",{className:"bot-settings-help",children:e("botSettings.emailGroups.reminder.htmlHelp")})]})]}),r.jsxs("div",{className:"bot-settings-email-group",children:[r.jsx("h3",{className:"bot-settings-subtitle",children:e("botSettings.emailGroups.cancellation.title")}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.emailFields.subject")}),r.jsx("input",{type:"text",value:i.bookingCancellationSubjectTemplate,onChange:C("bookingCancellationSubjectTemplate"),placeholder:e("botSettings.emailGroups.cancellation.subjectPlaceholder")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.emailFields.bodyText")}),r.jsx("textarea",{rows:4,value:i.bookingCancellationBodyTextTemplate,onChange:C("bookingCancellationBodyTextTemplate"),placeholder:e("botSettings.emailGroups.cancellation.textPlaceholder")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botSettings.emailFields.bodyHtmlOptional")}),r.jsx("textarea",{rows:5,value:i.bookingCancellationBodyHtmlTemplate,onChange:C("bookingCancellationBodyHtmlTemplate"),placeholder:e("botSettings.emailGroups.cancellation.htmlPlaceholder")}),r.jsx("span",{className:"bot-settings-help",children:e("botSettings.emailGroups.cancellation.htmlHelp")})]})]})]}),r.jsxs("fieldset",{className:"form-fieldset bot-settings-section",children:[r.jsx("legend",{children:e("botSettings.sections.bookingFields.title")}),r.jsx("p",{className:"muted bot-settings-hint",children:e("botSettings.sections.bookingFields.hint")}),r.jsxs("div",{className:"bot-settings-booking-fields",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"bot-settings-subtitle",children:e("botSettings.bookingFields.alwaysRequiredTitle")}),r.jsx("ul",{className:"booking-base-fields-list",children:no.map(I=>r.jsx("li",{className:"booking-base-field-pill",children:r.jsx("span",{children:I})},I))}),r.jsx("p",{className:"bot-settings-help",style:{marginTop:"0.6rem"},children:e("botSettings.bookingFields.alwaysRequiredHelp")})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"bot-settings-subtitle",children:e("botSettings.bookingFields.additionalTitle")}),i.customBookingFields.length===0&&r.jsxs("p",{className:"bot-settings-help",children:[e("botSettings.bookingFields.additionalEmpty")," ",r.jsx("code",{children:"notes"}),", ",r.jsx("code",{children:"company"}),", ",r.jsx("code",{children:"guests_count"}),"."]}),i.customBookingFields.length>0&&r.jsx("div",{className:"booking-custom-fields-chips",children:i.customBookingFields.map(I=>r.jsxs("div",{className:"booking-custom-field-chip",children:[r.jsx("span",{children:I}),r.jsx("button",{type:"button",className:"booking-custom-field-remove",onClick:()=>O(I),"aria-label":e("botSettings.bookingFields.removeFieldAria",{field:I}),children:""})]},I))}),r.jsxs("div",{className:"booking-custom-field-form",children:[r.jsx("input",{type:"text",value:o,onChange:I=>l(I.target.value),placeholder:e("botSettings.bookingFields.addPlaceholder")}),r.jsx("button",{type:"button",className:"btn-secondary booking-custom-field-add-btn",onClick:E,children:e("botSettings.bookingFields.addButton")})]}),r.jsx("p",{className:"bot-settings-help",children:e("botSettings.bookingFields.keysHelp")})]})]})]})]}),r.jsxs("div",{className:"form-actions-inline",style:{marginTop:"1rem"},children:[r.jsx("button",{className:"btn-primary",type:"submit",disabled:d,children:e(d?"botSettings.actions.saving":"botSettings.actions.save")}),r.jsx("span",{className:"bot-settings-help",children:e("botSettings.actions.note")})]})]})]}),r.jsxs("section",{className:"detail-side bot-settings-side",children:[r.jsx("h2",{children:e("botSettings.side.title")}),r.jsx("p",{className:"muted",style:{marginTop:"0.25rem"},children:e("botSettings.side.subtitle")}),r.jsxs("div",{className:"bot-settings-side-card",children:[r.jsx("h3",{children:e("botSettings.side.cards.calendar.title")}),r.jsx("p",{className:"muted",children:e("botSettings.side.cards.calendar.text")})]}),r.jsxs("div",{className:"bot-settings-side-card",children:[r.jsx("h3",{children:e("botSettings.side.cards.timeRules.title")}),r.jsx("p",{className:"muted",children:e("botSettings.side.cards.timeRules.text")})]}),r.jsxs("div",{className:"bot-settings-side-card",children:[r.jsx("h3",{children:e("botSettings.side.cards.emailTemplates.title")}),r.jsxs("p",{className:"muted",children:[e("botSettings.side.cards.emailTemplates.text")," ",r.jsx("code",{children:"{{client.name}}"})," ",e("botSettings.side.cards.emailTemplates.and")," ",r.jsx("code",{children:"{{booking.start}}"})," ",e("botSettings.side.cards.emailTemplates.replaced"),"."]})]}),r.jsxs("div",{className:"bot-settings-side-card",children:[r.jsx("h3",{children:e("botSettings.side.cards.bookingFields.title")}),r.jsx("p",{className:"muted",children:e("botSettings.side.cards.bookingFields.text")})]})]})]})]})};function Ga(e){const t=e.getUTCFullYear(),n=String(e.getUTCMonth()+1).padStart(2,"0");return`${t}-${n}`}async function $7(){return se("/referrals/me")}async function oC(e){const t=new URLSearchParams;e&&t.set("month",e);const n=t.toString()?`?${t.toString()}`:"";return se(`/referrals/me/stats${n}`)}async function U7(e){return se("/referrals/admin/partners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async function W7(e){const t=new URLSearchParams;e&&t.set("month",e);const n=t.toString()?`?${t.toString()}`:"";return se(`/referrals/admin/overview${n}`)}async function H7(e){const t=new URLSearchParams;e.month&&t.set("month",e.month),t.set("take",String(e.take)),t.set("skip",String(e.skip));const n=t.toString()?`?${t.toString()}`:"";return se(`/referrals/admin/partners/${encodeURIComponent(e.partnerId)}/detail${n}`)}async function q7(e){return se(`/referrals/admin/partners/${encodeURIComponent(e.partnerId)}/payouts/${encodeURIComponent(e.monthKey)}/mark-paid`,{method:"POST"})}const Ym=(e,t,n)=>new Intl.NumberFormat(n,{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:2}).format(e/100);function lC(e,t){const[n,a]=e.split("-").map(Number),i=new Date(Date.UTC(n,a-1+t,1));return Ga(i)}const K7=()=>{const{t:e,i18n:t}=Le(),n=m.useMemo(()=>{var x;return(x=t.resolvedLanguage)!=null&&x.startsWith("it")?"it-IT":"en-GB"},[t.resolvedLanguage]),[a,i]=m.useState(()=>Ga(new Date)),[s,o]=m.useState(null),[l,c]=m.useState(null),[u,d]=m.useState(!0),[p,h]=m.useState(!1),[f,g]=m.useState(null),v=m.useMemo(()=>{var w,j,C,k;return((j=(w=s==null?void 0:s.codes)==null?void 0:w.find(E=>E.isActive))==null?void 0:j.code)||((k=(C=s==null?void 0:s.codes)==null?void 0:C[0])==null?void 0:k.code)||null},[s]),y=m.useMemo(()=>v?`${window.location.origin}/?ref=${encodeURIComponent(v)}`:null,[v]);m.useEffect(()=>{let x=!0;return(async()=>{d(!0),g(null);try{const[w,j]=await Promise.all([$7(),oC(a)]);if(!x)return;o(w),c(j)}catch(w){if(!x)return;g((w==null?void 0:w.message)||"Failed to load referrer data.")}finally{if(!x)return;d(!1)}})(),()=>{x=!1}},[]),m.useEffect(()=>{if(!s)return;let x=!0;return(async()=>{h(!0),g(null);try{const w=await oC(a);if(!x)return;c(w)}catch(w){if(!x)return;g((w==null?void 0:w.message)||"Failed to load stats.")}finally{if(!x)return;h(!1)}})(),()=>{x=!1}},[a,s]);const b=async()=>{y&&await navigator.clipboard.writeText(y)};return r.jsxs("div",{className:"page-root",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:e("referrer.title","Referrer")}),r.jsx("p",{className:"muted",children:e("referrer.subtitle","Your codes, conversions and payouts.")})]}),r.jsxs("div",{className:"page-header-actions",children:[r.jsxs("button",{className:"btn-secondary",type:"button",onClick:()=>i(lC(a,-1)),children:[" ",e("common.prev","Prev")]}),r.jsx("div",{className:"month-pill",children:a}),r.jsxs("button",{className:"btn-secondary",type:"button",onClick:()=>i(lC(a,1)),children:[e("common.next","Next")," "]})]})]}),u&&r.jsx("div",{className:"card",children:r.jsx("p",{children:e("common.loading","Loading...")})}),!u&&f&&r.jsx("div",{className:"card card-error",children:r.jsx("p",{children:f})}),!u&&!f&&s&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"card",children:[r.jsx("h2",{className:"card-title",children:e("referrer.yourCodes","Your referral codes")}),s.codes.length===0?r.jsx("p",{className:"muted",children:e("referrer.noCodes","No codes yet. Ask an admin to create one.")}):r.jsx("div",{className:"ref-codes",children:s.codes.map(x=>r.jsxs("span",{className:`badge ${x.isActive?"badge-ok":""}`,children:[x.code," ",x.isActive?" active":""]},x.code))}),y&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"ref-link-row",children:[r.jsx("input",{className:"ref-link-input",type:"text",readOnly:!0,value:y}),r.jsx("button",{className:"btn-secondary",type:"button",onClick:b,children:e("common.copy","Copy")})]}),r.jsx("p",{className:"muted",style:{marginTop:"0.5rem"},children:e("referrer.linkHint","Share this link. A cookie is set on click and applied at checkout.")})]})]}),r.jsxs("div",{className:"card",style:{marginTop:"1rem"},children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:e("referrer.statsTitle","Month stats")}),r.jsx("p",{className:"card-subtitle",children:p?e("common.loading","Loading..."):e("referrer.statsSub","UTC month summary.")})]}),l&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"ref-stats-grid",children:[r.jsxs("div",{className:"dashboard-kpi-card",children:[r.jsx("div",{className:"dashboard-kpi-label",children:e("referrer.activeClients","Active clients")}),r.jsx("div",{className:"dashboard-kpi-value",children:l.activeAttributions})]}),r.jsxs("div",{className:"dashboard-kpi-card",children:[r.jsx("div",{className:"dashboard-kpi-label",children:e("referrer.conversions","Conversions")}),r.jsx("div",{className:"dashboard-kpi-value",children:l.conversionsThisMonth})]})]}),r.jsx("hr",{className:"section-separator"}),r.jsx("h3",{style:{margin:0},children:e("referrer.totalsByCurrency","Totals by currency")}),l.totalsByCurrency.length===0?r.jsx("p",{className:"muted",style:{marginTop:"0.5rem"},children:e("referrer.noTotals","No commissions recorded for this month yet.")}):r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:e("common.currency","Currency")}),r.jsx("th",{children:e("referrer.revenue","Revenue")}),r.jsx("th",{children:e("referrer.commission","Commission")})]})}),r.jsx("tbody",{children:l.totalsByCurrency.map(x=>r.jsxs("tr",{children:[r.jsx("td",{children:x.currency.toUpperCase()}),r.jsx("td",{children:Ym(x.revenueCents,x.currency,n)}),r.jsx("td",{children:Ym(x.commissionCents,x.currency,n)})]},x.currency))})]})}),r.jsx("h3",{style:{marginTop:"1.2rem"},children:e("referrer.payoutPeriods","Payout periods")}),l.payoutPeriods.length===0?r.jsx("p",{className:"muted",children:e("referrer.noPayouts","No payout periods for this month.")}):r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:e("common.currency","Currency")}),r.jsx("th",{children:e("common.amount","Amount")}),r.jsx("th",{children:e("common.status","Status")}),r.jsx("th",{children:e("common.paidAt","Paid at")})]})}),r.jsx("tbody",{children:l.payoutPeriods.map((x,w)=>r.jsxs("tr",{children:[r.jsx("td",{children:x.currency.toUpperCase()}),r.jsx("td",{children:Ym(x.amountCents,x.currency,n)}),r.jsx("td",{children:x.status}),r.jsx("td",{children:x.paidAt?new Date(x.paidAt).toLocaleString(n):""})]},`${x.currency}-${w}`))})]})})]})]})]})]})},ao=(e,t,n)=>new Intl.NumberFormat(n,{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:2}).format(e/100);function cC(e,t){const[n,a]=e.split("-").map(Number),i=new Date(Date.UTC(n,a-1+t,1));return Ga(i)}function V7(e){const t=e.trim();return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}async function G7(e){var t;try{if((t=navigator.clipboard)!=null&&t.writeText)return await navigator.clipboard.writeText(e),!0}catch{}try{const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-9999px",n.style.top="0",document.body.appendChild(n),n.focus(),n.select();const a=document.execCommand("copy");return document.body.removeChild(n),a}catch{return!1}}const Y7=()=>{const e=m.useMemo(()=>"en-GB",[]),[t,n]=m.useState(()=>Ga(new Date)),[a,i]=m.useState(null),[s,o]=m.useState(!0),[l,c]=m.useState(null),[u,d]=m.useState(!1),[p,h]=m.useState(""),[f,g]=m.useState(""),[v,y]=m.useState(!0),[b,x]=m.useState(!1),[w,j]=m.useState(null),[C,k]=m.useState(null),E=m.useRef(null),O=m.useCallback(async(T,S)=>{o(!0),c(null);try{const N=await W7(T);if(S!=null&&S.aborted)return;i(N)}catch(N){if(S!=null&&S.aborted)return;c((N==null?void 0:N.message)||"Failed to load admin referral overview.")}finally{if(S!=null&&S.aborted)return;o(!1)}},[]);m.useEffect(()=>{const T=new AbortController;return O(t,T.signal),()=>T.abort()},[t,O]),m.useEffect(()=>{if(!u)return;const T=window.setTimeout(()=>{var N;(N=E.current)==null||N.focus()},0),S=N=>{N.key==="Escape"&&d(!1)};return window.addEventListener("keydown",S),()=>{window.clearTimeout(T),window.removeEventListener("keydown",S)}},[u]);const M=()=>{h(""),g(""),y(!0),j(null),k(null),d(!0)},P=async T=>{T.preventDefault();const S=p.trim().toLowerCase();if(!V7(S)){j("Please enter a valid email address.");return}let N;if(f.trim()){const A=Number(f.trim());if(!Number.isFinite(A)||!Number.isInteger(A)){j("Commission BPS must be a whole number (e.g. 1000 = 10%).");return}if(A<1||A>5e3){j("Commission BPS must be between 1 and 5000.");return}N=A}x(!0),j(null),k(null);try{const L={...await U7({email:S,commissionBps:N,createCode:v}),email:S};k(L),await O(t)}catch(A){j((A==null?void 0:A.message)||"Failed to create/activate partner.")}finally{x(!1)}};return r.jsxs("div",{className:"page-root",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Referrals admin"}),r.jsx("p",{className:"muted",children:"Overview + partners drill-down."})]}),r.jsxs("div",{className:"page-header-actions",children:[r.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>n(cC(t,-1)),children:" Prev"}),r.jsx("div",{className:"month-pill",children:t}),r.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>n(cC(t,1)),children:"Next "}),r.jsx("button",{className:"btn-primary",type:"button",onClick:M,children:"+ Add partner"})]})]}),s&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"Loading..."})}),!s&&l&&r.jsx("div",{className:"card card-error",children:r.jsx("p",{children:l})}),!s&&!l&&a&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("h2",{children:["Totals (",a.monthKey,")"]}),r.jsx("p",{className:"card-subtitle",children:"Revenue/commission + due payouts for the selected month."})]}),r.jsx("h3",{style:{marginTop:"0.7rem"},children:"Month"}),r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Currency"}),r.jsx("th",{children:"Revenue"}),r.jsx("th",{children:"Commission"}),r.jsx("th",{children:"Due (OPEN)"}),r.jsx("th",{children:"Paid"})]})}),r.jsx("tbody",{children:a.totals.monthByCurrency.map(T=>{var A,L;const S=((A=a.totals.dueThisMonth.openByCurrency.find(_=>_.currency===T.currency))==null?void 0:A.amountCents)??0,N=((L=a.totals.dueThisMonth.paidByCurrency.find(_=>_.currency===T.currency))==null?void 0:L.amountCents)??0;return r.jsxs("tr",{children:[r.jsx("td",{children:T.currency.toUpperCase()}),r.jsx("td",{children:ao(T.revenueCents,T.currency,e)}),r.jsx("td",{children:ao(T.commissionCents,T.currency,e)}),r.jsx("td",{children:ao(S,T.currency,e)}),r.jsx("td",{children:ao(N,T.currency,e)})]},T.currency)})})]})})]}),r.jsxs("div",{className:"card",style:{marginTop:"1.1rem"},children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:"Partners"}),r.jsx("p",{className:"card-subtitle",children:"Click a partner to drill down (attributions, commissions, payouts)."})]}),a.partners.length===0?r.jsx("p",{className:"card-empty",children:"No partners found."}):r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table payments-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Email"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Clients"}),r.jsx("th",{children:"Active"}),r.jsx("th",{children:"Last conversion"}),r.jsx("th",{children:"Month commission"}),r.jsx("th",{className:"payments-actions-cell",children:"Action"})]})}),r.jsx("tbody",{children:a.partners.map(T=>{var A;const S=T.month.totalsByCurrency.reduce((L,_)=>L+_.commissionCents,0),N=((A=T.month.totalsByCurrency[0])==null?void 0:A.currency)||"eur";return r.jsxs("tr",{children:[r.jsx("td",{children:T.email}),r.jsx("td",{children:T.status}),r.jsx("td",{children:T.clientsTotal}),r.jsx("td",{children:T.clientsActive}),r.jsx("td",{children:T.lastConversionAt?new Date(T.lastConversionAt).toLocaleString(e):""}),r.jsx("td",{children:ao(S,N,e)}),r.jsx("td",{className:"payments-actions-cell",children:r.jsx(ue,{className:"btn-link-small",to:`/app/admin/referrals/partners/${T.partnerId}?month=${encodeURIComponent(t)}`,children:"View"})})]},T.partnerId)})})]})})]})]}),u&&r.jsx("div",{role:"dialog","aria-modal":"true","aria-label":"Add referral partner",onMouseDown:T=>{T.target===T.currentTarget&&d(!1)},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.75)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",zIndex:9999},children:r.jsxs("div",{className:"card",style:{width:"min(720px, 100%)",maxHeight:"85vh",overflow:"auto",background:"#0f172ae6",borderRadius:"0.5rem",padding:"1rem"},children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{style:{margin:0},children:"Add / Activate partner"}),r.jsxs("p",{className:"card-subtitle",style:{marginTop:"0.35rem"},children:["The user must already be registered. This will set their role to ",r.jsx("b",{children:"REFERRER"})," and create or update their partner record."]})]}),r.jsx("form",{onSubmit:P,children:r.jsxs("div",{style:{display:"grid",gap:"0.85rem"},children:[r.jsxs("div",{children:[r.jsx("label",{className:"label",htmlFor:"partner-email",children:"User email"}),r.jsx("input",{id:"partner-email",ref:E,className:"input",type:"email",placeholder:"user@example.com",value:p,onChange:T=>h(T.target.value),disabled:b,autoComplete:"email",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"label",htmlFor:"partner-bps",children:["Commission (BPS) ",r.jsx("span",{className:"muted",children:"(optional, 15000)"})]}),r.jsx("input",{id:"partner-bps",className:"input",type:"number",inputMode:"numeric",min:1,max:5e3,step:1,placeholder:"Leave empty to use default",value:f,onChange:T=>g(T.target.value),disabled:b}),r.jsxs("p",{className:"muted",style:{marginTop:"0.35rem"},children:["Example: ",r.jsx("b",{children:"1000"})," = 10% commission."]})]}),r.jsxs("label",{style:{display:"flex",gap:"0.55rem",alignItems:"center"},children:[r.jsx("input",{type:"checkbox",checked:v,onChange:T=>y(T.target.checked),disabled:b}),r.jsx("span",{children:"Create a referral code (if they don't have one)"})]}),w&&r.jsx("div",{className:"card card-error",children:r.jsx("p",{style:{margin:0},children:w})}),C&&r.jsxs("div",{className:"card",style:{border:"1px solid rgba(0,0,0,0.12)"},children:[r.jsxs("p",{style:{marginTop:0,marginBottom:"0.5rem"},children:[" Partner activated for ",r.jsx("b",{children:C.email})]}),r.jsxs("div",{style:{display:"grid",gap:"0.35rem"},children:[r.jsxs("div",{children:[r.jsx("span",{className:"muted",children:"Commission:"})," ",r.jsxs("b",{children:[C.commissionBps," bps"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"muted",children:"Partner ID:"})," ",r.jsx("code",{children:C.partnerId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"muted",children:"Created code:"})," ",r.jsx("b",{children:C.createdCode?C.createdCode:" (already had one)"})," ",C.createdCode&&r.jsx("button",{className:"btn-secondary",type:"button",style:{marginLeft:"0.6rem"},onClick:async()=>{await G7(C.createdCode||"")||alert("Could not copy to clipboard.")},children:"Copy"})]})]})]}),r.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.6rem",marginTop:"0.25rem"},children:[r.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>d(!1),disabled:b,children:"Close"}),r.jsx("button",{className:"btn-primary",type:"submit",disabled:b,children:b?"Saving...":"Activate partner"})]})]})})]})})]})},ki=(e,t,n)=>new Intl.NumberFormat(n,{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:2}).format(e/100);function Q7(){const{search:e}=Ht();return m.useMemo(()=>new URLSearchParams(e),[e])}const Z7=()=>{const e=m.useMemo(()=>"en-GB",[]),{id:t}=Ft(),a=Q7().get("month")||Ga(new Date),[i,s]=m.useState(a),[o,l]=m.useState(null),[c,u]=m.useState(!0),[d,p]=m.useState(null),[h,f]=m.useState(!1),g=async()=>{if(t){u(!0),p(null);try{const b=await H7({partnerId:t,month:i,take:50,skip:0});l(b)}catch(b){p((b==null?void 0:b.message)||"Failed to load partner detail.")}finally{u(!1)}}};m.useEffect(()=>{g()},[t,i]);const v=m.useMemo(()=>o?o.month.payoutPeriods.some(b=>b.status==="OPEN"):!1,[o]),y=async()=>{if(t){f(!0),p(null);try{await q7({partnerId:t,monthKey:i}),await g()}catch(b){p((b==null?void 0:b.message)||"Failed to mark paid.")}finally{f(!1)}}};return r.jsxs("div",{className:"page-root",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Partner detail"}),r.jsx("p",{className:"muted",children:(o==null?void 0:o.partner.email)||""})]}),r.jsxs("div",{className:"page-header-actions",children:[r.jsx(ue,{className:"btn-secondary",to:"/app/admin/referrals",children:" Back"}),r.jsx("div",{className:"month-pill",children:i})]})]}),d&&r.jsx("div",{className:"form-error",children:d}),c&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"Loading..."})}),!c&&o&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:"Summary"}),r.jsx("p",{className:"card-subtitle",children:"Clients + month/lifetime totals."})]}),r.jsxs("div",{className:"ref-detail-summary",children:[r.jsxs("div",{children:[r.jsx("div",{className:"dashboard-kpi-label",children:"Clients (total)"}),r.jsx("div",{className:"dashboard-kpi-value",children:o.clients.total})]}),r.jsxs("div",{children:[r.jsx("div",{className:"dashboard-kpi-label",children:"Clients (active)"}),r.jsx("div",{className:"dashboard-kpi-value",children:o.clients.active})]}),r.jsxs("div",{children:[r.jsx("div",{className:"dashboard-kpi-label",children:"Commission BPS"}),r.jsx("div",{className:"dashboard-kpi-value",children:o.partner.commissionBps})]})]}),r.jsx("hr",{className:"section-separator"}),r.jsxs("h3",{style:{margin:0},children:["Month totals (",o.month.monthKey,")"]}),r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Currency"}),r.jsx("th",{children:"Revenue"}),r.jsx("th",{children:"Commission"})]})}),r.jsx("tbody",{children:o.month.totalsByCurrency.map(b=>r.jsxs("tr",{children:[r.jsx("td",{children:b.currency.toUpperCase()}),r.jsx("td",{children:ki(b.revenueCents,b.currency,e)}),r.jsx("td",{children:ki(b.commissionCents,b.currency,e)})]},b.currency))})]})}),r.jsxs("h3",{style:{marginTop:"1.2rem"},children:["Payout periods (",o.month.monthKey,")"]}),r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Currency"}),r.jsx("th",{children:"Amount"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Paid at"})]})}),r.jsx("tbody",{children:o.month.payoutPeriods.map((b,x)=>r.jsxs("tr",{children:[r.jsx("td",{children:b.currency.toUpperCase()}),r.jsx("td",{children:ki(b.amountCents,b.currency,e)}),r.jsx("td",{children:b.status}),r.jsx("td",{children:b.paidAt?new Date(b.paidAt).toLocaleString(e):""})]},`${b.currency}-${x}`))})]})}),r.jsxs("div",{style:{marginTop:"0.9rem",display:"flex",gap:"0.6rem",flexWrap:"wrap"},children:[r.jsx("button",{className:"btn-primary",type:"button",disabled:!v||h,onClick:y,children:h?"Marking...":"Mark OPEN payouts as PAID"}),r.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>s(Ga(new Date)),children:"Jump to current month"})]})]}),r.jsxs("div",{className:"card",style:{marginTop:"1.1rem"},children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:"Recent attributions"}),r.jsx("p",{className:"card-subtitle",children:"Latest client attributions (paginated server-side in the endpoint)."})]}),o.recent.attributions.length===0?r.jsx("p",{className:"card-empty",children:"No attributions found."}):r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Started"}),r.jsx("th",{children:"Referral code"}),r.jsx("th",{children:"User"}),r.jsx("th",{children:"Bot"}),r.jsx("th",{children:"Stripe sub"})]})}),r.jsx("tbody",{children:o.recent.attributions.map(b=>r.jsxs("tr",{children:[r.jsx("td",{children:new Date(b.startedAt).toLocaleString(e)}),r.jsx("td",{children:b.referralCode}),r.jsx("td",{children:b.referredUser.email}),r.jsx("td",{children:b.bot.name}),r.jsx("td",{children:b.stripeSubscriptionId??""})]},b.id))})]})})]}),r.jsxs("div",{className:"card",style:{marginTop:"1.1rem"},children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:"Recent commissions"}),r.jsx("p",{className:"card-subtitle",children:"Ledger items for this partner."})]}),o.recent.commissions.length===0?r.jsx("p",{className:"card-empty",children:"No commissions found."}):r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Created"}),r.jsx("th",{children:"Month"}),r.jsx("th",{children:"Currency"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Revenue"}),r.jsx("th",{children:"Commission"}),r.jsx("th",{children:"Invoice"})]})}),r.jsx("tbody",{children:o.recent.commissions.map(b=>r.jsxs("tr",{children:[r.jsx("td",{children:new Date(b.createdAt).toLocaleString(e)}),r.jsx("td",{children:b.monthKey}),r.jsx("td",{children:b.currency.toUpperCase()}),r.jsx("td",{children:b.status}),r.jsx("td",{children:ki(b.revenueCents,b.currency,e)}),r.jsx("td",{children:ki(b.commissionCents,b.currency,e)}),r.jsx("td",{children:b.stripeInvoiceId??""})]},b.id))})]})})]}),r.jsxs("div",{className:"card",style:{marginTop:"1.1rem"},children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:"Payout history"}),r.jsx("p",{className:"card-subtitle",children:"Last 24 periods."})]}),o.payoutHistory.length===0?r.jsx("p",{className:"card-empty",children:"No payout history found."}):r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Month"}),r.jsx("th",{children:"Currency"}),r.jsx("th",{children:"Amount"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Paid at"})]})}),r.jsx("tbody",{children:o.payoutHistory.map((b,x)=>r.jsxs("tr",{children:[r.jsx("td",{children:b.monthKey}),r.jsx("td",{children:b.currency.toUpperCase()}),r.jsx("td",{children:ki(b.amountCents,b.currency,e)}),r.jsx("td",{children:b.status}),r.jsx("td",{children:b.paidAt?new Date(b.paidAt).toLocaleString(e):""})]},`${b.monthKey}-${b.currency}-${x}`))})]})})]})]})]})};async function X7(e){const t=new URLSearchParams;e.q&&e.q.trim()&&t.set("q",e.q.trim()),e.role&&t.set("role",e.role),typeof e.page=="number"&&t.set("page",String(e.page)),t.set("pageSize",String(e.pageSize));const n=t.toString()?`?${t.toString()}`:"";return se(`/admin/users${n}`)}async function uC(e,t){return se(`/admin/users/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}const dC=20,J7=[{label:"All roles",value:""},{label:"Client",value:"CLIENT"},{label:"Referrer",value:"REFERRER"},{label:"Admin",value:"ADMIN"}],e9=()=>{const[e,t]=m.useState([]),[n,a]=m.useState(!0),[i,s]=m.useState(null),[o,l]=m.useState(1),[c,u]=m.useState(0),[d,p]=m.useState(""),[h,f]=m.useState(""),[g,v]=m.useState(""),[y,b]=m.useState(null),[x,w]=m.useState(null),j=m.useMemo(()=>c>0?Math.ceil(c/dC):1,[c]),C=m.useCallback(async A=>{const L=(A==null?void 0:A.pageOverride)??o;a(!0),s(null);try{const _=await X7({q:h||void 0,role:g||void 0,page:L,pageSize:dC});t(_.items),u(_.total),l(_.page)}catch(_){console.error("Failed to load users:",_),s((_==null?void 0:_.message)||"Failed to load users")}finally{a(!1)}},[o,h,g]);m.useEffect(()=>{C()},[h,g,o,C]);const k=A=>{A.preventDefault(),l(1),f(d.trim())},E=()=>{p(""),f(""),v(""),l(1)},O=async(A,L)=>{w(null),b(A);try{await uC(A,{role:L}),await C()}catch(_){console.error("Failed to update user:",_),w((_==null?void 0:_.message)||"Failed to update user")}finally{b(null)}},M=async A=>{w(null),b(A.id);try{await uC(A.id,{emailVerified:!A.emailVerified}),await C()}catch(L){console.error("Failed to update user:",L),w((L==null?void 0:L.message)||"Failed to update user")}finally{b(null)}},P=A=>{if(!A)return"";const L=new Date(A);return Number.isNaN(L.getTime())?"":L.toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})},T=A=>A.toLocaleString(void 0),S=o<=1||n,N=o>=j||n;return r.jsxs("div",{className:"page-root",children:[r.jsxs("header",{className:"page-header",children:[r.jsx("h1",{children:"Users admin"}),r.jsx("p",{className:"page-subtitle",children:"Inspect and manage users, roles, referral status and usage. Read-only aggregates; destructive actions stay in other tools."})]}),r.jsxs("section",{"aria-label":"User filters",className:"card",children:[r.jsxs("form",{className:"admin-filters-bar",onSubmit:k,children:[r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"user-search",children:"Search"}),r.jsx("input",{id:"user-search",className:"input",type:"search",placeholder:"Search by email or name",value:d,onChange:A=>p(A.target.value)})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"user-role-filter",children:"Role"}),r.jsx("select",{id:"user-role-filter",className:"select",value:g,onChange:A=>{const L=A.target.value;v(L),l(1)},children:J7.map(A=>r.jsx("option",{value:A.value,children:A.label},A.label))})]}),r.jsxs("div",{className:"admin-filter-actions",children:[r.jsx("button",{type:"submit",className:"btn-secondary",disabled:n,children:"Apply"}),r.jsx("button",{type:"button",className:"btn-link-small",onClick:E,disabled:n&&!h&&!g,children:"Clear"})]})]}),r.jsxs("div",{className:"admin-filters-meta",children:[r.jsxs("span",{children:["Page ",o," of ",j,"  ",T(c)," users"]}),r.jsx("span",{className:"admin-filters-note",children:"Usage numbers are from the last 30 days."})]})]}),n&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"Loading users"})}),!n&&i&&r.jsx("div",{className:"card card-error",children:r.jsx("p",{children:i})}),x&&r.jsx("div",{className:"card card-error",children:r.jsx("p",{children:x})}),!n&&!i&&e.length===0&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"No users match your filters."})}),!n&&!i&&e.length>0&&r.jsxs("section",{"aria-label":"Users list",className:"card",children:[r.jsx("div",{className:"admin-table-wrapper",children:r.jsxs("table",{className:"admin-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"User"}),r.jsx("th",{children:"Role"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Bots"}),r.jsx("th",{children:"Referrals"}),r.jsx("th",{children:"Last usage"}),r.jsx("th",{"aria-label":"Row actions"})]})}),r.jsx("tbody",{children:e.map(A=>{const L=y===A.id;return r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("div",{className:"admin-user-main",children:[r.jsx("div",{className:"admin-user-email",children:A.email}),r.jsxs("div",{className:"admin-user-meta",children:[A.name&&r.jsx("span",{children:A.name}),r.jsxs("span",{children:["Joined ",P(A.createdAt)]})]})]})}),r.jsx("td",{children:r.jsxs("select",{className:"select select-sm",value:A.role,disabled:L,onChange:_=>O(A.id,_.target.value),children:[r.jsx("option",{value:"CLIENT",children:"Client"}),r.jsx("option",{value:"ADMIN",children:"Admin"})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-status-stack",children:[r.jsx("span",{className:A.emailVerified?"status-pill status-pill-success":"status-pill status-pill-muted",children:A.emailVerified?"Email verified":"Email not verified"}),r.jsx("span",{className:A.mfaEnabled?"status-pill status-pill-success":"status-pill status-pill-muted",children:A.mfaEnabled?"MFA enabled":"MFA disabled"})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-number-cell",children:[r.jsx("span",{className:"admin-number-main",children:T(A.botsCount)}),r.jsx("span",{className:"admin-number-sub",children:"bots"})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-status-stack",children:[r.jsx("span",{className:A.isReferralPartner?"status-pill status-pill-info":"status-pill status-pill-muted",children:A.isReferralPartner?"Partner":"Not partner"}),r.jsxs("span",{className:"admin-number-sub",children:[T(A.referralLeadsCount)," ",A.referralLeadsCount===1?"lead":"leads"]})]})}),r.jsx("td",{children:P(A.lastUsageAt)}),r.jsx("td",{className:"admin-actions-cell",children:r.jsx("button",{type:"button",className:"btn-link-small",disabled:L,onClick:()=>M(A),children:A.emailVerified?"Mark unverified":"Mark verified"})})]},A.id)})})]})}),r.jsxs("footer",{className:"admin-table-footer",children:[r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>!S&&l(A=>Math.max(1,A-1)),disabled:S,children:" Previous"}),r.jsxs("span",{children:["Page ",o," of ",j]}),r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>!N&&l(A=>Math.min(j,A+1)),disabled:N,children:"Next "})]})]})]})};async function t9(e){const t=new URLSearchParams;e.q&&e.q.trim()&&t.set("q",e.q.trim()),e.status&&t.set("status",e.status),typeof e.hasSubscription=="boolean"&&t.set("hasSubscription",e.hasSubscription?"true":"false"),e.planCode&&e.planCode.trim()&&t.set("planCode",e.planCode.trim()),typeof e.page=="number"&&t.set("page",String(e.page)),t.set("pageSize",String(e.pageSize));const n=t.toString()?`?${t.toString()}`:"";return se(`/admin/bots${n}`)}async function Qm(e,t){return se(`/admin/bots/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}async function EI(){return se("/admin/usage-plans")}const pC=20,mC=[{label:"All statuses",value:""},{label:"Draft",value:"DRAFT"},{label:"Pending payment",value:"PENDING_PAYMENT"},{label:"Active",value:"ACTIVE"},{label:"Suspended",value:"SUSPENDED"},{label:"Canceled",value:"CANCELED"}],n9=()=>{const[e,t]=m.useState([]),[n,a]=m.useState(!0),[i,s]=m.useState(null),[o,l]=m.useState(1),[c,u]=m.useState(0),[d,p]=m.useState(""),[h,f]=m.useState(""),[g,v]=m.useState(""),[y,b]=m.useState("all"),[x,w]=m.useState(""),[j,C]=m.useState(null),[k,E]=m.useState(null),[O,M]=m.useState([]),[P,T]=m.useState(!0),[S,N]=m.useState(null),A=m.useMemo(()=>c>0?Math.ceil(c/pC):1,[c]),L=m.useCallback(async()=>{T(!0),N(null);try{const V=await EI();M(V.items)}catch(V){console.error("Failed to load usage plans:",V),N((V==null?void 0:V.message)||"Failed to load usage plans")}finally{T(!1)}},[]),_=m.useCallback(async V=>{const G=(V==null?void 0:V.pageOverride)??o;a(!0),s(null);try{const ae=await t9({q:h||void 0,status:g||void 0,hasSubscription:y==="all"?void 0:y==="with",planCode:x||void 0,page:G,pageSize:pC});t(ae.items),u(ae.total),l(ae.page)}catch($){console.error("Failed to load bots:",$),s(($==null?void 0:$.message)||"Failed to load bots")}finally{a(!1)}},[o,h,g,y,x]);m.useEffect(()=>{L()},[L]),m.useEffect(()=>{_()},[h,g,y,x,o,_]);const I=V=>{V.preventDefault(),l(1),f(d.trim())},D=()=>{p(""),f(""),v(""),b("all"),w(""),l(1)},F=async(V,G)=>{E(null),C(V);try{await Qm(V,{status:G}),await _()}catch($){console.error("Failed to update bot:",$),E(($==null?void 0:$.message)||"Failed to update bot")}finally{C(null)}},R=async V=>{E(null),C(V.id);try{await Qm(V.id,{autoEvaluateConversations:!V.autoEvaluateConversations}),await _()}catch(G){console.error("Failed to update bot:",G),E((G==null?void 0:G.message)||"Failed to update bot")}finally{C(null)}},z=async(V,G)=>{E(null),C(V.id);try{await Qm(V.id,{usagePlanId:G||null}),await _()}catch($){console.error("Failed to update subscription plan:",$),E(($==null?void 0:$.message)||"Failed to update subscription plan")}finally{C(null)}},U=(V,G)=>{if(V==null)return"";const $=V/100,ae=G||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:ae}).format($)}catch{return`${$.toFixed(2)} ${ae}`}},K=V=>{const G=new Date(V);return Number.isNaN(G.getTime())?"":G.toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})},Z=V=>V.toLocaleString(void 0),oe=o<=1||n,fe=o>=A||n;return r.jsxs("div",{className:"page-root",children:[r.jsxs("header",{className:"page-header",children:[r.jsx("h1",{children:"Bots & subscriptions"}),r.jsx("p",{className:"page-subtitle",children:"Inspect bots, subscription plans, channels and booking settings. Admin-only quick actions for status and plan changes."})]}),r.jsxs("section",{"aria-label":"Bot filters",className:"card",children:[r.jsxs("form",{className:"admin-filters-bar",onSubmit:I,children:[r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"bot-search",children:"Search"}),r.jsx("input",{id:"bot-search",className:"input",type:"search",placeholder:"Search by bot name, slug or owner email",value:d,onChange:V=>p(V.target.value)})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"bot-status-filter",children:"Status"}),r.jsx("select",{id:"bot-status-filter",className:"select",value:g,onChange:V=>{const G=V.target.value;v(G),l(1)},children:mC.map(V=>r.jsx("option",{value:V.value,children:V.label},V.label))})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"bot-subscription-filter",children:"Subscription"}),r.jsxs("select",{id:"bot-subscription-filter",className:"select",value:y,onChange:V=>{const G=V.target.value;b(G),l(1)},children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"with",children:"With subscription"}),r.jsx("option",{value:"without",children:"Without subscription"})]})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"bot-plan-filter",children:"Plan"}),r.jsxs("select",{id:"bot-plan-filter",className:"select",value:x,onChange:V=>{w(V.target.value),l(1)},disabled:P||!!S,children:[r.jsx("option",{value:"",children:"All plans"}),O.map(V=>r.jsxs("option",{value:V.code,children:[V.code,"  ",V.name,V.isActive?"":" (inactive)"]},V.id))]})]}),r.jsxs("div",{className:"admin-filter-actions",children:[r.jsx("button",{type:"submit",className:"btn-secondary",disabled:n,children:"Apply"}),r.jsx("button",{type:"button",className:"btn-link-small",onClick:D,disabled:n&&!h&&!g&&y==="all",children:"Clear"})]})]}),r.jsxs("div",{className:"admin-filters-meta",children:[r.jsxs("span",{children:["Page ",o," of ",A,"  ",Z(c)," bots"]}),S&&r.jsx("span",{className:"admin-filters-note admin-filters-note-error",children:S})]})]}),n&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"Loading bots"})}),!n&&i&&r.jsx("div",{className:"card card-error",children:r.jsx("p",{children:i})}),k&&r.jsx("div",{className:"card card-error",children:r.jsx("p",{children:k})}),!n&&!i&&e.length===0&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"No bots match your filters."})}),!n&&!i&&e.length>0&&r.jsxs("section",{"aria-label":"Bots list",className:"card",children:[r.jsx("div",{className:"admin-table-wrapper",children:r.jsxs("table",{className:"admin-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Bot"}),r.jsx("th",{children:"Owner"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Plan"}),r.jsx("th",{children:"Billing"}),r.jsx("th",{children:"Channels"}),r.jsx("th",{children:"Booking"}),r.jsx("th",{"aria-label":"Row actions"})]})}),r.jsx("tbody",{children:e.map(V=>{const G=j===V.id,$=V.subscription,ae=($==null?void 0:$.usagePlanId)??"",de=O,Q=[];return V.booking.enabled&&Q.push("Calendar on"),V.booking.bookingConfirmationEmailEnabled&&Q.push("Conf. emails"),V.booking.bookingReminderEmailEnabled&&Q.push("Reminder emails"),r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("div",{className:"admin-bot-main",children:[r.jsx("div",{className:"admin-bot-name",children:V.name}),r.jsxs("div",{className:"admin-bot-meta",children:[r.jsxs("span",{className:"admin-bot-slug",children:["/",V.slug]}),r.jsxs("span",{children:["Created ",K(V.createdAt)]})]})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-owner-main",children:[r.jsx("div",{className:"admin-owner-email",children:V.owner.email}),V.owner.name&&r.jsx("div",{className:"admin-owner-name",children:V.owner.name})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-status-stack",children:[r.jsx("select",{className:"select select-sm",value:V.status,disabled:G,onChange:ie=>F(V.id,ie.target.value),children:mC.filter(ie=>ie.value).map(ie=>r.jsx("option",{value:ie.value,children:ie.label},ie.value))}),r.jsx("button",{type:"button",className:"btn-link-small",disabled:G,onClick:()=>R(V),children:V.autoEvaluateConversations?"Disable auto-eval":"Enable auto-eval"})]})}),r.jsx("td",{children:$?r.jsxs("div",{className:"admin-plan-cell",children:[r.jsxs("select",{className:"select select-sm",value:ae,disabled:G||P||!!S,onChange:ie=>z(V,ie.target.value||""),children:[r.jsx("option",{value:"",children:"No plan / legacy"}),de.map(ie=>r.jsxs("option",{value:ie.id,children:[ie.code,"  ",ie.name,ie.isActive?"":" (inactive)"]},ie.id))]}),r.jsxs("div",{className:"admin-plan-meta",children:[r.jsx("span",{className:"admin-plan-code",children:$.usagePlanCode||""}),r.jsx("span",{className:"admin-plan-status",children:$.status.toLowerCase()})]})]}):r.jsx("span",{className:"status-pill status-pill-muted",children:"No subscription"})}),r.jsx("td",{children:$?r.jsxs("div",{className:"admin-number-cell",children:[r.jsx("span",{className:"admin-number-main",children:U($.monthlyAmountCents,$.currency)}),r.jsxs("span",{className:"admin-number-sub",children:["customer ",$.stripeCustomerId.slice(0,8),""]})]}):""}),r.jsx("td",{children:r.jsxs("div",{className:"admin-status-stack",children:[V.channelWeb&&r.jsx("span",{className:"status-pill status-pill-info",children:"Web"}),V.channelWhatsapp&&r.jsx("span",{className:"status-pill status-pill-info",children:"WhatsApp"}),V.channelInstagram&&r.jsx("span",{className:"status-pill status-pill-info",children:"Instagram"}),V.channelMessenger&&r.jsx("span",{className:"status-pill status-pill-info",children:"Messenger"}),r.jsxs("span",{className:"admin-number-sub",children:[V.externalChannelCount," connected channel",V.externalChannelCount===1?"":"s"]})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-status-stack",children:[Q.length>0?Q.map(ie=>r.jsx("span",{className:"status-pill status-pill-muted",children:ie},ie)):r.jsx("span",{className:"status-pill status-pill-muted",children:"Booking off"}),V.booking.timeZone&&r.jsxs("span",{className:"admin-number-sub",children:["TZ ",V.booking.timeZone]})]})}),r.jsx("td",{className:"admin-actions-cell",children:r.jsx("a",{href:`/app/bots/${V.slug}`,className:"btn-link-small",target:"_blank",rel:"noopener noreferrer",children:"Open bot "})})]},V.id)})})]})}),r.jsxs("footer",{className:"admin-table-footer",children:[r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>!oe&&l(V=>Math.max(1,V-1)),disabled:oe,children:" Previous"}),r.jsxs("span",{children:["Page ",o," of ",A]}),r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>!fe&&l(V=>Math.min(A,V+1)),disabled:fe,children:"Next "})]})]})]})};async function a9(e){const t=new URLSearchParams;e.q&&e.q.trim()&&t.set("q",e.q.trim()),e.dateFrom&&e.dateFrom.trim()&&t.set("dateFrom",e.dateFrom.trim()),e.dateTo&&e.dateTo.trim()&&t.set("dateTo",e.dateTo.trim()),typeof e.onlyUpcoming=="boolean"&&t.set("onlyUpcoming",e.onlyUpcoming?"true":"false"),typeof e.page=="number"&&t.set("page",String(e.page)),t.set("pageSize",String(e.pageSize));const n=t.toString()?`?${t.toString()}`:"";return se(`/admin/bookings${n}`)}const hC=20,r9=()=>{const[e,t]=m.useState([]),[n,a]=m.useState(!0),[i,s]=m.useState(null),[o,l]=m.useState(1),[c,u]=m.useState(0),[d,p]=m.useState(""),[h,f]=m.useState(""),[g,v]=m.useState(""),[y,b]=m.useState(""),[x,w]=m.useState(!1),j=m.useMemo(()=>c>0?Math.ceil(c/hC):1,[c]),C=m.useCallback(async N=>{const A=(N==null?void 0:N.pageOverride)??o;a(!0),s(null);try{const L=await a9({q:h||void 0,dateFrom:g||void 0,dateTo:y||void 0,onlyUpcoming:x?!0:void 0,page:A,pageSize:hC});t(L.items),u(L.total),l(L.page)}catch(L){console.error("Failed to load bookings:",L),s((L==null?void 0:L.message)||"Failed to load bookings")}finally{a(!1)}},[o,h,g,y,x]);m.useEffect(()=>{C()},[h,g,y,x,o,C]);const k=N=>{N.preventDefault(),l(1),f(d.trim())},E=()=>{p(""),f(""),v(""),b(""),w(!1),l(1)},O=(N,A)=>{if(!N)return"";const L=new Date(N);if(Number.isNaN(L.getTime()))return"";const _={year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"};try{return L.toLocaleString(void 0,A?{..._,timeZone:A}:_)}catch{return L.toLocaleString(void 0,_)}},M=N=>N.toLocaleString(void 0),P=N=>{const A=N.bookingConfig,L=N.timeZone||N.bot.timeZone||void 0,_=new Date,I=new Date(N.start);return A.bookingReminderEmailEnabled?N.reminderEmailSentAt?{label:`Sent ${O(N.reminderEmailSentAt,L)}`,variant:"ok"}:I.getTime()<=_.getTime()?{label:"Missed (no reminder sent)",variant:"warn"}:{label:"Pending (not sent yet)",variant:"muted"}:{label:"Reminders off (bot config)",variant:"muted"}},T=o<=1||n,S=o>=j||n;return r.jsxs("div",{className:"page-root",children:[r.jsxs("header",{className:"page-header",children:[r.jsx("h1",{children:"Bookings admin"}),r.jsx("p",{className:"page-subtitle",children:"Inspect bookings across all bots. Check calendar integration, timezones and reminder delivery status."})]}),r.jsxs("section",{"aria-label":"Booking filters",className:"card",children:[r.jsxs("form",{className:"admin-filters-bar",onSubmit:k,children:[r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"booking-search",children:"Search"}),r.jsx("input",{id:"booking-search",className:"input",type:"search",placeholder:"Search by name, email, phone, service, bot name or slug",value:d,onChange:N=>p(N.target.value)})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"booking-date-from",children:"From"}),r.jsx("input",{id:"booking-date-from",className:"input",type:"date",value:g,onChange:N=>{v(N.target.value),l(1)}})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"booking-date-to",children:"To"}),r.jsx("input",{id:"booking-date-to",className:"input",type:"date",value:y,onChange:N=>{b(N.target.value),l(1)}})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"booking-upcoming",children:"Upcoming only"}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("input",{id:"booking-upcoming",type:"checkbox",checked:x,onChange:N=>{w(N.target.checked),l(1)}}),r.jsx("span",{className:"admin-filters-note",children:"Show only bookings with start time in the future"})]})]}),r.jsxs("div",{className:"admin-filter-actions",children:[r.jsx("button",{type:"submit",className:"btn-secondary",disabled:n,children:"Apply"}),r.jsx("button",{type:"button",className:"btn-link-small",onClick:E,disabled:n&&!h&&!g&&!y&&!x,children:"Clear"})]})]}),r.jsx("div",{className:"admin-filters-meta",children:r.jsxs("span",{children:["Page ",o," of ",j,"  ",M(c)," bookings"]})})]}),n&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"Loading bookings"})}),!n&&i&&r.jsx("div",{className:"card card-error",children:r.jsx("p",{children:i})}),!n&&!i&&e.length===0&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"No bookings match your filters."})}),!n&&!i&&e.length>0&&r.jsxs("section",{"aria-label":"Bookings list",className:"card",children:[r.jsx("div",{className:"admin-table-wrapper",children:r.jsxs("table",{className:"admin-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Booking"}),r.jsx("th",{children:"Bot"}),r.jsx("th",{children:"When"}),r.jsx("th",{children:"Calendar"}),r.jsx("th",{children:"Reminder"}),r.jsx("th",{children:"Created"})]})}),r.jsx("tbody",{children:e.map(N=>{const A=N.timeZone||N.bot.timeZone||void 0,L=P(N),_=L.variant==="ok"?"status-pill status-pill-success":L.variant==="warn"?"status-pill status-pill-warning":"status-pill status-pill-muted";return r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("div",{className:"admin-booking-main",children:[r.jsxs("div",{className:"admin-booking-name",children:[N.name,"  ",r.jsx("span",{className:"muted",children:N.service})]}),r.jsxs("div",{className:"admin-booking-meta",children:[r.jsx("span",{children:N.email}),N.phone&&r.jsx("span",{children:N.phone}),r.jsxs("span",{className:"muted",children:["ID ",r.jsxs("code",{children:[N.id.slice(0,8),""]})]})]})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-bot-main",children:[r.jsx("div",{className:"admin-bot-name",children:N.bot.name}),r.jsxs("div",{className:"admin-bot-meta",children:[r.jsxs("span",{className:"admin-bot-slug",children:["/",N.bot.slug]}),r.jsx("span",{className:"muted",children:N.bot.owner.email})]})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-status-stack",children:[r.jsx("span",{children:O(N.start,A)}),r.jsx("span",{className:"admin-number-sub",children:O(N.end,A)}),r.jsxs("span",{className:"admin-number-sub",children:["TZ ",A||"n/a"," (stored: ",N.timeZone,")"]})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-status-stack",children:[r.jsxs("span",{className:"admin-number-sub",children:["Calendar:"," ",N.calendarId?r.jsx("code",{children:N.calendarId}):r.jsx("span",{className:"muted",children:"none"})]}),r.jsxs("span",{className:"admin-number-sub",children:["Event:"," ",N.calendarEventId?r.jsx("code",{children:N.calendarEventId}):r.jsx("span",{className:"muted",children:"none"})]})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-status-stack",children:[r.jsx("span",{className:_,children:L.label}),r.jsxs("span",{className:"admin-number-sub",children:["Conf. emails:"," ",N.bookingConfig.bookingConfirmationEmailEnabled?"on":"off"]})]})}),r.jsx("td",{children:O(N.createdAt,A)})]},N.id)})})]})}),r.jsxs("footer",{className:"admin-table-footer",children:[r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>!T&&l(N=>Math.max(1,N-1)),disabled:T,children:" Previous"}),r.jsxs("span",{children:["Page ",o," of ",j]}),r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>!S&&l(N=>Math.min(j,N+1)),disabled:S,children:"Next "})]})]})]})};async function i9(e){const t=new URLSearchParams;e.q&&e.q.trim()&&t.set("q",e.q.trim()),e.status&&t.set("status",e.status),e.planCode&&e.planCode.trim()&&t.set("planCode",e.planCode.trim()),typeof e.overLimitOnly=="boolean"&&t.set("overLimitOnly",e.overLimitOnly?"true":"false"),typeof e.page=="number"&&t.set("page",String(e.page)),t.set("pageSize",String(e.pageSize));const n=t.toString()?`?${t.toString()}`:"";return se(`/admin/email-usage${n}`)}const fC=20,s9=[{label:"All statuses",value:""},{label:"Draft",value:"DRAFT"},{label:"Pending payment",value:"PENDING_PAYMENT"},{label:"Active",value:"ACTIVE"},{label:"Suspended",value:"SUSPENDED"},{label:"Canceled",value:"CANCELED"}],o9=()=>{const[e,t]=m.useState([]),[n,a]=m.useState([]),[i,s]=m.useState(!0),[o,l]=m.useState(null),[c,u]=m.useState(1),[d,p]=m.useState(0),[h,f]=m.useState(null),[g,v]=m.useState(null),[y,b]=m.useState(""),[x,w]=m.useState(""),[j,C]=m.useState(""),[k,E]=m.useState(""),[O,M]=m.useState(!1),[P,T]=m.useState([]),[S,N]=m.useState(!0),[A,L]=m.useState(null),_=m.useMemo(()=>d>0?Math.ceil(d/fC):1,[d]),I=m.useCallback(async()=>{N(!0),L(null);try{const G=await EI();T(G.items)}catch(G){console.error("Failed to load usage plans:",G),L((G==null?void 0:G.message)||"Failed to load usage plans")}finally{N(!1)}},[]),D=m.useCallback(async G=>{const $=(G==null?void 0:G.pageOverride)??c;s(!0),l(null);try{const ae=await i9({q:x||void 0,status:j||void 0,planCode:k||void 0,overLimitOnly:O?!0:void 0,page:$,pageSize:fC});t(ae.items),a(ae.summaryByPlan),p(ae.total),u(ae.page),f(ae.monthStart),v(ae.monthEndExclusive)}catch(ae){console.error("Failed to load email usage:",ae),l((ae==null?void 0:ae.message)||"Failed to load email usage")}finally{s(!1)}},[c,x,j,k,O]);m.useEffect(()=>{I()},[I]),m.useEffect(()=>{D()},[x,j,k,O,c,D]);const F=G=>{G.preventDefault(),u(1),w(y.trim())},R=()=>{b(""),w(""),C(""),E(""),M(!1),u(1)},z=(G,$)=>{const ae=G/100,de=$||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:de}).format(ae)}catch{return`${ae.toFixed(2)} ${de}`}},U=G=>G.toLocaleString(void 0),K=(G,$)=>{if(!G)return"";const ae=new Date(G);return Number.isNaN(ae.getTime())?"":ae.toLocaleDateString(void 0,{year:"numeric",month:"long"})},Z=G=>G==null?"":`${Math.round(G*100)}%`,oe=c<=1||i,fe=c>=_||i,V=K(h);return r.jsxs("div",{className:"page-root",children:[r.jsxs("header",{className:"page-header",children:[r.jsx("h1",{children:"Email usage & quotas"}),r.jsx("p",{className:"page-subtitle",children:"Monitor outbound emails per bot against plan limits for the current month. Useful to spot accounts close to or over quota."})]}),r.jsxs("section",{"aria-label":"Email usage filters",className:"card",children:[r.jsxs("form",{className:"admin-filters-bar",onSubmit:F,children:[r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"emails-search",children:"Search"}),r.jsx("input",{id:"emails-search",className:"input",type:"search",placeholder:"Search by bot name, slug or owner email",value:y,onChange:G=>b(G.target.value)})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"emails-status-filter",children:"Bot status"}),r.jsx("select",{id:"emails-status-filter",className:"select",value:j,onChange:G=>{const $=G.target.value;C($),u(1)},children:s9.map(G=>r.jsx("option",{value:G.value,children:G.label},G.label))})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"emails-plan-filter",children:"Plan"}),r.jsxs("select",{id:"emails-plan-filter",className:"select",value:k,onChange:G=>{E(G.target.value),u(1)},disabled:S||!!A,children:[r.jsx("option",{value:"",children:"All plans"}),P.map(G=>r.jsxs("option",{value:G.code,children:[G.code,"  ",G.name,G.isActive?"":" (inactive)"]},G.id))]})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"emails-over-limit",children:"Only over limit"}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("input",{id:"emails-over-limit",type:"checkbox",checked:O,onChange:G=>{M(G.target.checked),u(1)}}),r.jsx("span",{className:"admin-filters-note",children:"Show only bots where emails > plan email limit"})]})]}),r.jsxs("div",{className:"admin-filter-actions",children:[r.jsx("button",{type:"submit",className:"btn-secondary",disabled:i,children:"Apply"}),r.jsx("button",{type:"button",className:"btn-link-small",onClick:R,disabled:i&&!x&&!j&&!k&&!O,children:"Clear"})]})]}),r.jsxs("div",{className:"admin-filters-meta",children:[r.jsxs("span",{children:[V&&r.jsxs(r.Fragment,{children:["Month: ",r.jsx("strong",{children:V})," "," "]}),"Page ",c," of ",_,"  ",U(d)," bots"]}),A&&r.jsx("span",{className:"admin-filters-note admin-filters-note-error",children:A})]})]}),i&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"Loading email usage"})}),!i&&o&&r.jsx("div",{className:"card card-error",children:r.jsx("p",{children:o})}),!i&&!o&&e.length===0&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"No bots match your filters."})}),!i&&!o&&n.length>0&&r.jsxs("section",{"aria-label":"Email usage summary by plan",className:"card",children:[r.jsx("h2",{className:"card-title",children:"By plan (visible rows)"}),r.jsx("div",{className:"admin-table-wrapper",children:r.jsxs("table",{className:"admin-table admin-table-compact",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Plan"}),r.jsx("th",{children:"Bots"}),r.jsx("th",{children:"Over limit"}),r.jsx("th",{children:"Emails this month"}),r.jsx("th",{children:"Limit per bot"})]})}),r.jsx("tbody",{children:n.map(G=>r.jsxs("tr",{children:[r.jsx("td",{children:G.usagePlanCode?r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:G.usagePlanCode})," ",r.jsx("span",{className:"admin-number-sub",children:G.usagePlanName||""})]}):r.jsx("span",{className:"muted",children:"No plan / legacy"})}),r.jsx("td",{children:U(G.botsCount)}),r.jsx("td",{children:U(G.overLimitBotsCount)}),r.jsx("td",{children:U(G.totalEmailsThisMonth)}),r.jsx("td",{children:G.monthlyEmails!=null?`${U(G.monthlyEmails)} / bot`:"Unlimited"})]},G.usagePlanId??"NO_PLAN"))})]})})]}),!i&&!o&&e.length>0&&r.jsxs("section",{"aria-label":"Email usage per bot",className:"card",children:[r.jsx("div",{className:"admin-table-wrapper",children:r.jsxs("table",{className:"admin-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Bot"}),r.jsx("th",{children:"Owner"}),r.jsx("th",{children:"Plan"}),r.jsx("th",{children:"Emails (month)"}),r.jsx("th",{children:"Usage vs limit"}),r.jsx("th",{"aria-label":"Row actions"})]})}),r.jsx("tbody",{children:e.map(G=>{const $=G.usagePlan,ae=G.monthlyEmailLimit!=null;let de="status-pill status-pill-muted";return ae&&G.usageRatio!=null&&(G.isOverLimit?de="status-pill status-pill-warning":G.usageRatio>=.8?de="status-pill status-pill-info":de="status-pill status-pill-success"),r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("div",{className:"admin-bot-main",children:[r.jsx("div",{className:"admin-bot-name",children:G.botName}),r.jsxs("div",{className:"admin-bot-meta",children:[r.jsxs("span",{className:"admin-bot-slug",children:["/",G.botSlug]}),r.jsxs("span",{className:"admin-number-sub",children:["Status ",G.botStatus.toLowerCase()]})]})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-owner-main",children:[r.jsx("div",{className:"admin-owner-email",children:G.owner.email}),G.owner.name&&r.jsx("div",{className:"admin-owner-name",children:G.owner.name})]})}),r.jsx("td",{children:$?r.jsxs("div",{className:"admin-plan-cell",children:[r.jsxs("div",{className:"admin-plan-code",children:[r.jsx("strong",{children:$.code})," ",r.jsx("span",{className:"admin-number-sub",children:$.name})]}),r.jsx("div",{className:"admin-number-sub",children:$.monthlyEmails!=null?`${U($.monthlyEmails)} emails / month`:"Unlimited emails"}),r.jsxs("div",{className:"admin-number-sub",children:[z($.monthlyAmountCents,$.currency)," / month"]})]}):r.jsx("span",{className:"status-pill status-pill-muted",children:"No plan / legacy"})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-number-cell",children:[r.jsx("span",{className:"admin-number-main",children:U(G.emailsThisMonth)}),r.jsx("span",{className:"admin-number-sub",children:"this month"})]})}),r.jsx("td",{children:ae?r.jsxs("div",{className:"admin-status-stack",children:[r.jsxs("span",{className:de,children:[Z(G.usageRatio)," of"," ",U(G.monthlyEmailLimit)," emails"]}),G.isOverLimit&&r.jsxs("span",{className:"admin-number-sub",children:["Over limit by"," ",U(G.emailsThisMonth-(G.monthlyEmailLimit||0))," ","emails"]})]}):r.jsx("span",{className:"status-pill status-pill-muted",children:"No email limit"})}),r.jsx("td",{className:"admin-actions-cell",children:r.jsx("a",{href:`/app/bots/${G.botSlug}`,className:"btn-link-small",target:"_blank",rel:"noopener noreferrer",children:"Open bot "})})]},G.botId)})})]})}),r.jsxs("footer",{className:"admin-table-footer",children:[r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>!oe&&u(G=>Math.max(1,G-1)),disabled:oe,children:" Previous"}),r.jsxs("span",{children:["Page ",c," of ",_]}),r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>!fe&&u(G=>Math.min(_,G+1)),disabled:fe,children:"Next "})]})]})]})};async function l9(e){const t=new URLSearchParams;e.q&&e.q.trim()&&t.set("q",e.q.trim()),e.status&&e.status.trim()&&t.set("status",e.status.trim()),typeof e.hasReferral=="boolean"&&t.set("hasReferral",e.hasReferral?"true":"false"),e.dateFrom&&e.dateFrom.trim()&&t.set("dateFrom",e.dateFrom.trim()),e.dateTo&&e.dateTo.trim()&&t.set("dateTo",e.dateTo.trim()),typeof e.page=="number"&&t.set("page",String(e.page)),t.set("pageSize",String(e.pageSize));const n=t.toString()?`?${t.toString()}`:"";return se(`/admin/payments${n}`)}const gC=20,c9=()=>{const[e,t]=m.useState([]),[n,a]=m.useState([]),[i,s]=m.useState(!0),[o,l]=m.useState(null),[c,u]=m.useState(1),[d,p]=m.useState(0),[h,f]=m.useState(""),[g,v]=m.useState(""),[y,b]=m.useState(""),[x,w]=m.useState("all"),[j,C]=m.useState(""),[k,E]=m.useState(""),O=m.useMemo(()=>d>0?Math.ceil(d/gC):1,[d]),M=m.useCallback(async I=>{const D=(I==null?void 0:I.pageOverride)??c;s(!0),l(null);try{const R=await l9({q:g||void 0,status:y||void 0,hasReferral:x==="all"?void 0:x==="with",dateFrom:j||void 0,dateTo:k||void 0,page:D,pageSize:gC});t(R.items),a(R.totalsByCurrency),p(R.total),u(R.page)}catch(F){console.error("Failed to load payments:",F),l((F==null?void 0:F.message)||"Failed to load payments")}finally{s(!1)}},[c,g,y,x,j,k]);m.useEffect(()=>{M()},[g,y,x,j,k,c,M]);const P=I=>{I.preventDefault(),u(1),v(h.trim())},T=()=>{f(""),v(""),b(""),w("all"),C(""),E(""),u(1)},S=(I,D)=>{const F=I/100,R=D||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:R}).format(F)}catch{return`${F.toFixed(2)} ${R}`}},N=I=>I.toLocaleString(void 0),A=I=>{if(!I)return"";const D=new Date(I);return Number.isNaN(D.getTime())?"":D.toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})},L=c<=1||i,_=c>=O||i;return r.jsxs("div",{className:"page-root",children:[r.jsxs("header",{className:"page-header",children:[r.jsx("h1",{children:"Payments & invoices"}),r.jsx("p",{className:"page-subtitle",children:"Inspect Stripe payments across all bots. See who paid what, when, on which plan, and which payments generated referral commissions."})]}),r.jsxs("section",{"aria-label":"Payments filters",className:"card",children:[r.jsxs("form",{className:"admin-filters-bar",onSubmit:P,children:[r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"payments-search",children:"Search"}),r.jsx("input",{id:"payments-search",className:"input",type:"search",placeholder:"Search billing email, name, bot name, slug or owner email",value:h,onChange:I=>f(I.target.value)})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"payments-status",children:"Status contains"}),r.jsx("input",{id:"payments-status",className:"input",type:"text",placeholder:"e.g. succeeded, failed, requires_action",value:y,onChange:I=>{b(I.target.value),u(1)}})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"payments-referral-filter",children:"Referral"}),r.jsxs("select",{id:"payments-referral-filter",className:"select",value:x,onChange:I=>{const D=I.target.value;w(D),u(1)},children:[r.jsx("option",{value:"all",children:"All payments"}),r.jsx("option",{value:"with",children:"With referral commission"}),r.jsx("option",{value:"without",children:"Without referral commission"})]})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"payments-date-from",children:"From (created)"}),r.jsx("input",{id:"payments-date-from",className:"input",type:"date",value:j,onChange:I=>{C(I.target.value),u(1)}})]}),r.jsxs("div",{className:"admin-filter-group",children:[r.jsx("label",{className:"admin-filter-label",htmlFor:"payments-date-to",children:"To (created)"}),r.jsx("input",{id:"payments-date-to",className:"input",type:"date",value:k,onChange:I=>{E(I.target.value),u(1)}})]}),r.jsxs("div",{className:"admin-filter-actions",children:[r.jsx("button",{type:"submit",className:"btn-secondary",disabled:i,children:"Apply"}),r.jsx("button",{type:"button",className:"btn-link-small",onClick:T,disabled:i&&!g&&!y&&x==="all"&&!j&&!k,children:"Clear"})]})]}),r.jsx("div",{className:"admin-filters-meta",children:r.jsxs("span",{children:["Page ",c," of ",O,"  ",N(d)," payments"]})})]}),i&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"Loading payments"})}),!i&&o&&r.jsx("div",{className:"card card-error",children:r.jsx("p",{children:o})}),!i&&!o&&e.length===0&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"No payments match your filters."})}),!i&&!o&&n.length>0&&r.jsxs("section",{"aria-label":"Payment totals",className:"card",children:[r.jsx("h2",{className:"card-title",children:"Totals by currency (matching filters)"}),r.jsx("div",{className:"admin-table-wrapper",children:r.jsxs("table",{className:"admin-table admin-table-compact",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Currency"}),r.jsx("th",{children:"Payments"}),r.jsx("th",{children:"Total amount"})]})}),r.jsx("tbody",{children:n.map(I=>r.jsxs("tr",{children:[r.jsx("td",{children:I.currency}),r.jsx("td",{children:N(I.count)}),r.jsx("td",{children:S(I.totalAmountCents,I.currency)})]},I.currency))})]})})]}),!i&&!o&&e.length>0&&r.jsxs("section",{"aria-label":"Payments list",className:"card",children:[r.jsx("div",{className:"admin-table-wrapper",children:r.jsxs("table",{className:"admin-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Payment"}),r.jsx("th",{children:"Bot"}),r.jsx("th",{children:"Plan & billing"}),r.jsx("th",{children:"Referral"}),r.jsx("th",{children:"Period"}),r.jsx("th",{children:"Created"})]})}),r.jsx("tbody",{children:e.map(I=>{const D=I.plan,F=I.referral,R=I.status.toLowerCase();let z="status-pill status-pill-muted";return R.includes("succeeded")||R==="paid"?z="status-pill status-pill-success":R.includes("requires")||R.includes("past_due")?z="status-pill status-pill-info":(R.includes("failed")||R.includes("canceled"))&&(z="status-pill status-pill-warning"),r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("div",{className:"admin-payment-main",children:[r.jsxs("div",{className:"admin-number-cell",children:[r.jsx("span",{className:"admin-number-main",children:S(I.amountCents,I.currency)}),r.jsxs("span",{className:"admin-number-sub",children:["Status:"," ",r.jsx("span",{className:z,children:I.status})]})]}),r.jsxs("div",{className:"admin-payment-meta",children:[r.jsxs("span",{className:"admin-number-sub",children:["Customer:"," ",r.jsxs("code",{children:[I.stripeCustomerId.slice(0,10),""]})]}),I.stripeInvoiceId&&r.jsxs("span",{className:"admin-number-sub",children:["Invoice: ",r.jsx("code",{children:I.stripeInvoiceId})]}),I.stripePaymentIntentId&&r.jsxs("span",{className:"admin-number-sub",children:["PaymentIntent:"," ",r.jsx("code",{children:I.stripePaymentIntentId})]})]})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-bot-main",children:[r.jsx("div",{className:"admin-bot-name",children:I.bot.name}),r.jsxs("div",{className:"admin-bot-meta",children:[r.jsxs("span",{className:"admin-bot-slug",children:["/",I.bot.slug]}),r.jsxs("span",{className:"admin-number-sub",children:["Owner ",I.bot.owner.email]}),r.jsxs("span",{className:"admin-number-sub",children:["Bot status ",I.bot.status.toLowerCase()]})]})]})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-plan-cell",children:[I.billingEmail&&r.jsxs("div",{className:"admin-number-sub",children:[I.billingName&&r.jsxs(r.Fragment,{children:[I.billingName," "," "]}),I.billingEmail]}),D?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"admin-plan-code",children:[r.jsx("strong",{children:D.code})," ",r.jsx("span",{className:"admin-number-sub",children:D.name})]}),r.jsxs("div",{className:"admin-number-sub",children:["Plan billing:"," ",S(D.monthlyAmountCents,D.currency)," ","/ month"]})]}):r.jsx("span",{className:"status-pill status-pill-muted",children:"No linked plan"})]})}),r.jsx("td",{children:F?r.jsxs("div",{className:"admin-status-stack",children:[r.jsxs("span",{className:"status-pill status-pill-info",children:["Referral ",F.status.toLowerCase()]}),r.jsxs("span",{className:"admin-number-sub",children:["Partner:"," ",F.partnerUserEmail||F.partnerId.slice(0,8)+""]}),r.jsxs("span",{className:"admin-number-sub",children:["Base:"," ",S(F.amountBaseCents,F.currency)," "," Commission:"," ",S(F.commissionCents,F.currency)]})]}):r.jsx("span",{className:"status-pill status-pill-muted",children:"No referral"})}),r.jsx("td",{children:r.jsx("div",{className:"admin-status-stack",children:r.jsxs("span",{children:[I.periodStart?A(I.periodStart):"","  ",""," ",I.periodEnd?A(I.periodEnd):""]})})}),r.jsx("td",{children:r.jsxs("div",{className:"admin-status-stack",children:[r.jsx("span",{children:A(I.createdAt)}),r.jsxs("span",{className:"admin-number-sub",children:["Updated ",A(I.updatedAt)]})]})})]},I.id)})})]})}),r.jsxs("footer",{className:"admin-table-footer",children:[r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>!L&&u(I=>Math.max(1,I-1)),disabled:L,children:" Previous"}),r.jsxs("span",{children:["Page ",c," of ",O]}),r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>!_&&u(I=>Math.min(O,I+1)),disabled:_,children:"Next "})]})]})]})};async function u9(e){const t=new URLSearchParams;e.month&&t.set("month",e.month),e.q&&t.set("q",e.q),e.model&&t.set("model",e.model),t.set("take",String(e.take)),typeof e.skip=="number"&&t.set("skip",String(e.skip));const n=t.toString()?`?${t.toString()}`:"";return se(`/admin/openai-usage${n}`)}const Sc=50;function vC(e,t){const[n,a]=e.split("-").map(Number),i=new Date(Date.UTC(n,a-1+t,1));return Ga(i)}const jt=(e,t)=>new Intl.NumberFormat(t,{maximumFractionDigits:0}).format(e),d9=()=>{const e=m.useMemo(()=>"en-GB",[]),[t,n]=m.useState(()=>Ga(new Date)),[a,i]=m.useState(""),[s,o]=m.useState(""),[l,c]=m.useState({q:"",model:""}),[u,d]=m.useState(0),[p,h]=m.useState(null),[f,g]=m.useState(!0),[v,y]=m.useState(null),b=()=>{c({q:a.trim(),model:s.trim()}),d(0)};m.useEffect(()=>{let S=!1;return(async()=>{g(!0),y(null);try{const A=await u9({month:t,q:l.q||void 0,model:l.model||void 0,take:Sc,skip:u});S||h(A)}catch(A){S||y(A instanceof Error?A.message:"Failed to load OpenAI usage")}finally{S||g(!1)}})(),()=>{S=!0}},[t,l.q,l.model,u]);const x=()=>{n(S=>vC(S,-1)),d(0)},w=()=>{n(S=>vC(S,1)),d(0)},j=()=>{n(Ga(new Date)),d(0)},C=()=>{d(S=>Math.max(0,S-Sc))},k=()=>{p&&p.paging.hasMore&&d(S=>S+Sc)},E=(p==null?void 0:p.paging.total)??0,O=(p==null?void 0:p.paging.skip)??0,M=Math.min(((p==null?void 0:p.paging.skip)??0)+((p==null?void 0:p.paging.take)??Sc),E),P=m.useMemo(()=>!p||p.global.byModel.length===0?null:p.global.byModel[0],[p]),T=p==null?void 0:p.global;return r.jsxs("div",{className:"page-root",children:[r.jsx("header",{className:"page-header",children:r.jsxs("div",{children:[r.jsx("h1",{children:"OpenAI & Crawler usage (admin)"}),r.jsx("p",{className:"muted",children:"Monitor token usage per bot, see global OpenAI load by model and knowledge (Crawler) costs for the selected billing month."})]})}),r.jsxs("section",{className:"card mb-3",children:[r.jsx("div",{className:"card-header",children:r.jsx("h2",{children:"Time window"})}),r.jsxs("div",{className:"card-body admin-toolbar",children:[r.jsxs("div",{className:"admin-toolbar-left",children:[r.jsxs("span",{className:"pill",children:["Month: ",r.jsx("strong",{children:t})]}),p&&r.jsxs("span",{className:"pill pill-muted",children:["UTC window:"," ",r.jsxs("strong",{children:[new Date(p.window.from).toISOString().slice(0,10)," "," ",new Date(p.window.to).toISOString().slice(0,10)]})]})]}),r.jsxs("div",{className:"admin-toolbar-right",children:[r.jsx("button",{type:"button",className:"btn-secondary",onClick:x,children:" Previous month"}),r.jsx("button",{type:"button",className:"btn-secondary",onClick:j,children:"Current month"}),r.jsx("button",{type:"button",className:"btn-secondary",onClick:w,children:"Next month "})]})]})]}),r.jsxs("section",{className:"card mb-3",children:[r.jsx("div",{className:"card-header",children:r.jsx("h2",{children:"Filters"})}),r.jsxs("div",{className:"card-body admin-toolbar",children:[r.jsxs("div",{className:"admin-toolbar-left",children:[r.jsx("input",{type:"text",className:"input",placeholder:"Search by bot name, slug or owner email",value:a,onChange:S=>i(S.target.value),onKeyDown:S=>{S.key==="Enter"&&b()}}),r.jsx("input",{type:"text",className:"input",placeholder:"Filter by model (e.g. gpt-4o-mini)",value:s,onChange:S=>o(S.target.value),onKeyDown:S=>{S.key==="Enter"&&b()}})]}),r.jsx("div",{className:"admin-toolbar-right",children:r.jsx("button",{type:"button",className:"btn-primary",onClick:b,children:"Apply filters"})})]})]}),v&&r.jsx("section",{className:"card mb-3",children:r.jsx("div",{className:"card-body",children:r.jsx("div",{className:"form-error",children:v})})}),r.jsxs("section",{className:"card mb-3",children:[r.jsx("div",{className:"card-header",children:r.jsx("h2",{children:"Global usage summary"})}),r.jsx("div",{className:"card-body",children:f&&!p?r.jsx("p",{children:"Loading"}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"dashboard-kpis",children:[r.jsxs("div",{className:"dashboard-kpi",children:[r.jsx("div",{className:"dashboard-kpi-label",children:"Monthly tokens (AI + Crawler)"}),r.jsx("div",{className:"dashboard-kpi-value",children:jt((T==null?void 0:T.totalTokens)??0,e)}),r.jsxs("div",{className:"dashboard-kpi-subvalue",children:["OpenAI:"," ",jt((T==null?void 0:T.totalTokensOpenAI)??0,e),"  Crawler:"," ",jt((T==null?void 0:T.totalTokensKnowledge)??0,e)]})]}),r.jsxs("div",{className:"dashboard-kpi",children:[r.jsx("div",{className:"dashboard-kpi-label",children:"OpenAI requests (all bots)"}),r.jsx("div",{className:"dashboard-kpi-value",children:jt((T==null?void 0:T.requestCount)??0,e)})]}),r.jsxs("div",{className:"dashboard-kpi",children:[r.jsx("div",{className:"dashboard-kpi-label",children:"Top model (by tokens)"}),r.jsx("div",{className:"dashboard-kpi-value",children:P?r.jsxs(r.Fragment,{children:[P.model," ",r.jsxs("span",{className:"dashboard-kpi-subvalue",children:["(",jt(P.totalTokens,e)," tokens)"]})]}):""})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("h3",{children:"Usage by model (OpenAI + Crawler)"}),p&&p.global.byModel.length===0&&r.jsx("p",{className:"muted",children:"No usage recorded for this month."}),p&&p.global.byModel.length>0&&r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Model"}),r.jsx("th",{className:"text-right",children:"Tokens"}),r.jsx("th",{className:"text-right",children:"Requests"})]})}),r.jsx("tbody",{children:p.global.byModel.map(S=>r.jsxs("tr",{children:[r.jsx("td",{children:S.model}),r.jsx("td",{className:"text-right",children:jt(S.totalTokens,e)}),r.jsx("td",{className:"text-right",children:S.model==="Crawler"?"":jt(S.requestCount,e)})]},S.model))})]})})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("h3",{children:"Top users by tokens (AI + Crawler)"}),p&&p.global.topUsers.length===0&&r.jsx("p",{className:"muted",children:"No user-level usage records for this month."}),p&&p.global.topUsers.length>0&&r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"User"}),r.jsx("th",{children:"Email"}),r.jsx("th",{className:"text-right",children:"Tokens (AI + Crawler)"}),r.jsx("th",{className:"text-right",children:"OpenAI requests"})]})}),r.jsx("tbody",{children:p.global.topUsers.map(S=>r.jsxs("tr",{children:[r.jsx("td",{children:S.name||""}),r.jsx("td",{children:S.email}),r.jsx("td",{className:"text-right",children:jt(S.totalTokens,e)}),r.jsx("td",{className:"text-right",children:jt(S.requestCount,e)})]},S.userId))})]})})]})]})})]}),r.jsxs("section",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:"Bots usage"}),r.jsx("div",{className:"card-header-meta",children:E>0&&r.jsxs("span",{className:"muted",children:["Showing ",O+1,"",M," of ",E," bots"]})})]}),r.jsx("div",{className:"card-body",children:f&&!p?r.jsx("p",{children:"Loading"}):!p||p.bots.length===0?r.jsx("p",{className:"muted",children:"No bots match the current filters."}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Bot"}),r.jsx("th",{children:"Owner"}),r.jsx("th",{children:"Plan"}),r.jsx("th",{className:"text-right",children:"Tokens (combined / breakdown)"}),r.jsx("th",{className:"text-right",children:"Requests (OpenAI)"}),r.jsx("th",{className:"text-right",children:"Usage vs plan"})]})}),r.jsx("tbody",{children:p.bots.map(S=>{var D;const N=((D=S.plan)==null?void 0:D.monthlyTokens)??null,A=S.monthTokens.totalTokens,L=S.knowledgeTokens??0,_=S.totalTokensAll??A+L,I=N?Math.min(999,Math.round(_/N*100)):null;return r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("div",{className:"table-main-cell",children:[r.jsx("div",{className:"table-main-title",children:S.name}),r.jsxs("div",{className:"table-main-subtitle",children:[r.jsx("code",{children:S.slug})," "," ",r.jsx("span",{className:"pill pill-muted",children:S.status})]})]})}),r.jsx("td",{children:r.jsxs("div",{className:"table-main-cell",children:[r.jsx("div",{className:"table-main-title",children:S.owner.name||""}),r.jsx("div",{className:"table-main-subtitle",children:S.owner.email})]})}),r.jsx("td",{children:S.plan?r.jsxs("div",{className:"table-main-cell",children:[r.jsx("div",{className:"table-main-title",children:S.plan.name}),r.jsx("div",{className:"table-main-subtitle",children:S.plan.monthlyTokens?`${jt(S.plan.monthlyTokens,e)} tokens / month`:"Unlimited tokens"})]}):r.jsx("span",{className:"muted",children:"No usage plan"})}),r.jsxs("td",{className:"text-right",children:[r.jsx("div",{children:jt(_,e)}),r.jsxs("div",{className:"muted",children:["OpenAI:"," ",jt(A,e)," (",jt(S.monthTokens.promptTokens,e)," ","/"," ",jt(S.monthTokens.completionTokens,e),")  Crawler:"," ",jt(L,e)]})]}),r.jsx("td",{className:"text-right",children:jt(S.monthTokens.requests,e)}),r.jsx("td",{className:"text-right",children:N?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[I,"% of plan",I>=90&&r.jsx("span",{className:"pill pill-warning ml-1",children:"near limit"})]}),r.jsxs("div",{className:"muted",children:[jt(_,e)," /"," ",jt(N,e)]})]}):r.jsx("span",{className:"muted",children:"Unlimited"})})]},S.botId)})})]})}),r.jsxs("div",{className:"table-pagination",children:[r.jsx("button",{type:"button",className:"btn-secondary",onClick:C,disabled:u===0,children:"Previous"}),r.jsx("button",{type:"button",className:"btn-secondary",onClick:k,disabled:!p.paging.hasMore,children:"Next"})]})]})})]})]})};async function p9(e){const t=new URLSearchParams;e!=null&&e.q&&t.set("q",e.q),typeof(e==null?void 0:e.limit)=="number"&&t.set("limit",String(e.limit));const n=t.toString()?`?${t.toString()}`:"";return se(`/admin/integrations${n}`)}async function m9(e){return se(`/admin/integrations/meta/${encodeURIComponent(e)}`,{method:"DELETE"})}async function h9(e){return se(`/admin/integrations/whatsapp/${encodeURIComponent(e)}`,{method:"DELETE"})}const f9=()=>{const e=m.useMemo(()=>"en-GB",[]),[t,n]=m.useState(""),[a,i]=m.useState(null),[s,o]=m.useState(!0),[l,c]=m.useState(null),[u,d]=m.useState(null),p=async j=>{o(!0),c(null);try{const C=await p9({q:j&&j.trim()?j.trim():void 0});i(C)}catch(C){c((C==null?void 0:C.message)||"Failed to load integrations.")}finally{o(!1)}};m.useEffect(()=>{p()},[]);const h=async j=>{j.preventDefault(),await p(t)},f=async()=>{n(""),await p()},g=async j=>{if(window.confirm("Disconnect this Meta integration?")){d(j),c(null);try{await m9(j),await p(t)}catch(C){c((C==null?void 0:C.message)||"Failed to delete Meta integration.")}finally{d(null)}}},v=async j=>{if(window.confirm("Disconnect this WhatsApp integration?")){d(j),c(null);try{await h9(j),await p(t)}catch(C){c((C==null?void 0:C.message)||"Failed to delete WhatsApp integration.")}finally{d(null)}}},y=(a==null?void 0:a.meta.length)??0,b=(a==null?void 0:a.whatsapp.length)??0,x=m.useMemo(()=>{if(!a)return 0;const j=new Set;return a.meta.forEach(C=>j.add(C.bot.id)),a.whatsapp.forEach(C=>j.add(C.bot.id)),j.size},[a]),w=m.useMemo(()=>{if(!a)return 0;const j=new Set;return a.meta.forEach(C=>j.add(C.user.id)),a.whatsapp.forEach(C=>j.add(C.user.id)),j.size},[a]);return r.jsxs("div",{className:"page-root",children:[r.jsxs("div",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Integrations admin"}),r.jsx("p",{className:"muted",children:"Inspect Meta (Facebook / Instagram / Messenger) and WhatsApp sessions across all bots."})]}),r.jsxs("form",{className:"page-header-actions",onSubmit:h,children:[r.jsx("input",{className:"input",type:"search",placeholder:"Search by email, bot, channel, WABA...",value:t,onChange:j=>n(j.target.value)}),r.jsx("button",{className:"btn-secondary",type:"button",onClick:f,children:"Clear"}),r.jsx("button",{className:"btn-primary",type:"submit",children:"Search"})]})]}),s&&r.jsx("div",{className:"card",children:r.jsx("p",{children:"Loading."})}),!s&&l&&r.jsx("div",{className:"card card-error",children:r.jsx("p",{children:l})}),!s&&!l&&a&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:"Summary"}),r.jsx("p",{className:"card-subtitle",children:"High-level view of connected sessions."})]}),r.jsxs("div",{className:"dashboard-kpi-grid",children:[r.jsxs("div",{children:[r.jsx("div",{className:"dashboard-kpi-label",children:"Meta sessions"}),r.jsx("div",{className:"dashboard-kpi-value",children:y})]}),r.jsxs("div",{children:[r.jsx("div",{className:"dashboard-kpi-label",children:"WhatsApp sessions"}),r.jsx("div",{className:"dashboard-kpi-value",children:b})]}),r.jsxs("div",{children:[r.jsx("div",{className:"dashboard-kpi-label",children:"Distinct bots"}),r.jsx("div",{className:"dashboard-kpi-value",children:x})]}),r.jsxs("div",{children:[r.jsx("div",{className:"dashboard-kpi-label",children:"Distinct users"}),r.jsx("div",{className:"dashboard-kpi-value",children:w})]})]})]}),r.jsxs("div",{className:"card",style:{marginTop:"1.1rem"},children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:"Meta integrations"}),r.jsx("p",{className:"card-subtitle",children:"Long-lived sessions for Facebook / Instagram / Messenger bots."})]}),a.meta.length===0?r.jsx("p",{className:"card-empty",children:"No Meta integrations found."}):r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Bot"}),r.jsx("th",{children:"User"}),r.jsx("th",{children:"Channel"}),r.jsx("th",{children:"Pages"}),r.jsx("th",{children:"Created"}),r.jsx("th",{className:"payments-actions-cell",children:"Actions"})]})}),r.jsx("tbody",{children:a.meta.map(j=>{const C=j.pages.count===0?"":`${j.pages.names.join(", ")}${j.pages.count>j.pages.names.length?` +${j.pages.count-j.pages.names.length}`:""}`;return r.jsxs("tr",{children:[r.jsxs("td",{children:[r.jsx("div",{children:j.bot.name}),r.jsx("div",{className:"muted",children:r.jsx("code",{children:j.bot.slug})})]}),r.jsx("td",{children:j.user.email}),r.jsx("td",{children:j.channelType}),r.jsx("td",{children:C}),r.jsx("td",{children:new Date(j.createdAt).toLocaleString(e)}),r.jsx("td",{className:"payments-actions-cell",children:r.jsx("button",{type:"button",className:"btn-link-small danger",onClick:()=>g(j.id),disabled:u===j.id,children:u===j.id?"Removing...":"Disconnect"})})]},j.id)})})]})})]}),r.jsxs("div",{className:"card",style:{marginTop:"1.1rem"},children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:"WhatsApp integrations"}),r.jsx("p",{className:"card-subtitle",children:"Connected WhatsApp Business Accounts and phone numbers."})]}),a.whatsapp.length===0?r.jsx("p",{className:"card-empty",children:"No WhatsApp integrations found."}):r.jsx("div",{className:"table-responsive",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Bot"}),r.jsx("th",{children:"User"}),r.jsx("th",{children:"WABA ID"}),r.jsx("th",{children:"Phone numbers"}),r.jsx("th",{children:"Created"}),r.jsx("th",{className:"payments-actions-cell",children:"Actions"})]})}),r.jsx("tbody",{children:a.whatsapp.map(j=>{const C=j.phoneNumbers.count===0?"":`${j.phoneNumbers.display.join(", ")}${j.phoneNumbers.count>j.phoneNumbers.display.length?` +${j.phoneNumbers.count-j.phoneNumbers.display.length}`:""}`;return r.jsxs("tr",{children:[r.jsxs("td",{children:[r.jsx("div",{children:j.bot.name}),r.jsx("div",{className:"muted",children:r.jsx("code",{children:j.bot.slug})})]}),r.jsx("td",{children:j.user.email}),r.jsx("td",{children:j.wabaId?r.jsx("code",{children:j.wabaId}):r.jsx("span",{className:"muted",children:""})}),r.jsx("td",{children:C}),r.jsx("td",{children:new Date(j.createdAt).toLocaleString(e)}),r.jsx("td",{className:"payments-actions-cell",children:r.jsx("button",{type:"button",className:"btn-link-small danger",onClick:()=>v(j.id),disabled:u===j.id,children:u===j.id?"Removing...":"Disconnect"})})]},j.id)})})]})})]})]})]})};async function g9(e){const t=new URLSearchParams;e!=null&&e.search&&t.set("search",e.search),e!=null&&e.includeInactive&&t.set("includeInactive","true"),t.set("take",String(e.take)),t.set("skip",String(e.skip));const n=t.toString()?`?${t.toString()}`:"";return se(`/admin/plans${n}`)}async function v9(e){return se("/admin/plans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async function bC(e,t){return se(`/admin/plans/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}async function b9(e){return se(`/admin/plans/${encodeURIComponent(e)}`,{method:"DELETE"})}async function y9(e){const t=new URLSearchParams;e!=null&&e.search&&t.set("search",e.search),e!=null&&e.includeInactive&&t.set("includeInactive","true");const n=t.toString()?`?${t.toString()}`:"";return se(`/admin/feature-prices${n}`)}async function x9(e){return se("/admin/feature-prices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async function yC(e,t){return se(`/admin/feature-prices/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}async function w9(e){return se(`/admin/feature-prices/${encodeURIComponent(e)}`,{method:"DELETE"})}function xC(e,t){const n=(t||"eur").toUpperCase(),a=e/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:n}).format(a)}catch{return`${a.toFixed(2)} ${n}`}}const wC={code:"",name:"",description:"",monthlyTokens:"",monthlyEmails:"",monthlyAmountCents:"",currency:"eur",stripePriceId:"",isActive:!0},jC={code:"",label:"",monthlyAmountCents:"",currency:"eur",stripePriceId:"",isActive:!0},j9=()=>{const[e,t]=m.useState([]),[n,a]=m.useState(0),[i,s]=m.useState(!1),[o,l]=m.useState(null),[c,u]=m.useState(""),[d,p]=m.useState(!1),[h,f]=m.useState(wC),[g,v]=m.useState(null),[y,b]=m.useState(null),[x,w]=m.useState(!1),[j,C]=m.useState([]),[k,E]=m.useState(0),[O,M]=m.useState(!1),[P,T]=m.useState(null),[S,N]=m.useState(""),[A,L]=m.useState(!1),[_,I]=m.useState(jC),[D,F]=m.useState(null),[R,z]=m.useState(null),[U,K]=m.useState(!1),Z=async()=>{s(!0),l(null);try{const B=await g9({search:c||void 0,includeInactive:d,take:100,skip:0});t(B.items),a(B.total)}catch(B){l((B==null?void 0:B.message)||"Failed to load usage plans.")}finally{s(!1)}},oe=async()=>{M(!0),T(null);try{const B=await y9({search:S||void 0,includeInactive:A});C(B.items),E(B.total)}catch(B){T((B==null?void 0:B.message)||"Failed to load feature prices.")}finally{M(!1)}};m.useEffect(()=>{Z(),oe()},[]);const fe=()=>{f(wC),v(null),b(null)},V=B=>{f({code:B.code,name:B.name,description:B.description||"",monthlyTokens:B.monthlyTokens!=null?String(B.monthlyTokens):"",monthlyEmails:B.monthlyEmails!=null?String(B.monthlyEmails):"",monthlyAmountCents:String(B.monthlyAmountCents),currency:B.currency||"eur",stripePriceId:B.stripePriceId||"",isActive:B.isActive})},G=async B=>{B.preventDefault(),b(null);const re=h.code.trim(),ne=h.name.trim(),ve=h.description.trim()||"";if(!re){b("Code is required.");return}if(!ne){b("Name is required.");return}const He=Number(h.monthlyAmountCents);if(!Number.isFinite(He)||He<0){b("Monthly price (in cents) must be a non-negative integer.");return}let W=null;if(h.monthlyTokens.trim()!==""){const je=Number(h.monthlyTokens);if(!Number.isFinite(je)||je<0){b("Monthly tokens must be a non-negative integer or blank.");return}W=Math.trunc(je)}let le=null;if(h.monthlyEmails.trim()!==""){const je=Number(h.monthlyEmails);if(!Number.isFinite(je)||je<0){b("Monthly emails must be a non-negative integer or blank.");return}le=Math.trunc(je)}const Te={code:re,name:ne,description:ve||null,monthlyTokens:W,monthlyEmails:le,monthlyAmountCents:Math.trunc(He),currency:(h.currency||"eur").toLowerCase(),stripePriceId:h.stripePriceId.trim()||null,isActive:h.isActive};w(!0);try{g?await bC(g,Te):await v9(Te),await Z(),fe()}catch(je){b((je==null?void 0:je.message)||"Failed to save usage plan.")}finally{w(!1)}},$=B=>{v(B.id),V(B),window.scrollTo({top:0,behavior:"smooth"})},ae=async B=>{if(window.confirm(`Delete plan "${B.name}"? This cannot be undone.`))try{await b9(B.id),await Z()}catch(ne){alert((ne==null?void 0:ne.message)||"Failed to delete usage plan.")}},de=async B=>{try{await bC(B.id,{isActive:!B.isActive}),await Z()}catch(re){alert((re==null?void 0:re.message)||"Failed to update plan status.")}},Q=()=>{I(jC),F(null),z(null)},ie=B=>{I({code:B.code,label:B.label,monthlyAmountCents:String(B.monthlyAmountCents),currency:B.currency||"eur",stripePriceId:B.stripePriceId||"",isActive:B.isActive})},ye=async B=>{B.preventDefault(),z(null);const re=_.code.trim(),ne=_.label.trim();if(!re){z("Code is required.");return}if(!ne){z("Label is required.");return}const ve=Number(_.monthlyAmountCents);if(!Number.isFinite(ve)||ve<0){z("Monthly price (in cents) must be a non-negative integer.");return}const He={code:re,label:ne,monthlyAmountCents:Math.trunc(ve),currency:(_.currency||"eur").toLowerCase(),stripePriceId:_.stripePriceId.trim()||null,isActive:_.isActive};K(!0);try{D?await yC(D,He):await x9(He),await oe(),Q()}catch(W){z((W==null?void 0:W.message)||"Failed to save feature price.")}finally{K(!1)}},Se=B=>{F(B.id),ie(B),window.scrollTo({top:0,behavior:"smooth"})},X=async B=>{if(window.confirm(`Delete feature price "${B.label}"? This cannot be undone.`))try{await w9(B.id),await oe()}catch(ne){alert((ne==null?void 0:ne.message)||"Failed to delete feature price.")}},he=async B=>{try{await yC(B.id,{isActive:!B.isActive}),await oe()}catch(re){alert((re==null?void 0:re.message)||"Failed to update feature price status.")}};return r.jsxs("div",{className:"page-root",children:[r.jsx("div",{className:"page-header",children:r.jsxs("div",{children:[r.jsx("h1",{children:"Plans & feature prices"}),r.jsx("p",{className:"muted",children:"Manage usage plans and legacy feature add-ons."})]})}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:"Usage plans"}),r.jsx("p",{className:"card-subtitle",children:"Per-bot plans with token & email quotas."})]}),r.jsxs("div",{className:"card-toolbar",children:[r.jsx("div",{className:"card-toolbar-left",children:r.jsx("input",{type:"text",className:"form-control",placeholder:"Search by code or name",value:c,onChange:B=>u(B.target.value),onKeyDown:B=>{B.key==="Enter"&&Z()}})}),r.jsxs("label",{className:"form-checkbox",children:[r.jsx("input",{type:"checkbox",checked:d,onChange:B=>{p(B.target.checked),Z()}}),r.jsx("span",{children:"Include inactive"})]}),r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>void Z(),children:"Reload"})]}),r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{style:{marginTop:0},children:g?"Edit plan":"Create new plan"}),y&&r.jsx("div",{className:"form-error",children:y}),r.jsxs("form",{onSubmit:G,className:"form-grid",children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("label",{children:["Code",r.jsx("input",{type:"text",className:"form-control",value:h.code,onChange:B=>f(re=>({...re,code:B.target.value})),placeholder:"STARTER"})]}),r.jsxs("label",{children:["Name",r.jsx("input",{type:"text",className:"form-control",value:h.name,onChange:B=>f(re=>({...re,name:B.target.value})),placeholder:"Starter"})]})]}),r.jsx("div",{className:"form-row",children:r.jsxs("label",{className:"form-grow",children:["Description",r.jsx("input",{type:"text",className:"form-control",value:h.description,onChange:B=>f(re=>({...re,description:B.target.value})),placeholder:"Short description (optional)"})]})}),r.jsxs("div",{className:"form-row",children:[r.jsxs("label",{children:["Monthly tokens",r.jsx("input",{type:"number",className:"form-control",value:h.monthlyTokens,onChange:B=>f(re=>({...re,monthlyTokens:B.target.value})),placeholder:"Leave blank for unlimited",min:0})]}),r.jsxs("label",{children:["Monthly emails",r.jsx("input",{type:"number",className:"form-control",value:h.monthlyEmails,onChange:B=>f(re=>({...re,monthlyEmails:B.target.value})),placeholder:"Leave blank for unlimited",min:0})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("label",{children:["Monthly price (cents)",r.jsx("input",{type:"number",className:"form-control",value:h.monthlyAmountCents,onChange:B=>f(re=>({...re,monthlyAmountCents:B.target.value})),placeholder:"e.g. 2900",min:0,required:!0})]}),r.jsxs("label",{children:["Currency",r.jsx("input",{type:"text",className:"form-control",value:h.currency,onChange:B=>f(re=>({...re,currency:B.target.value})),placeholder:"eur",maxLength:3})]}),r.jsxs("label",{children:["Stripe price ID",r.jsx("input",{type:"text",className:"form-control",value:h.stripePriceId,onChange:B=>f(re=>({...re,stripePriceId:B.target.value})),placeholder:"price_..."})]})]}),r.jsx("div",{className:"form-row",children:r.jsxs("label",{className:"form-checkbox",children:[r.jsx("input",{type:"checkbox",checked:h.isActive,onChange:B=>f(re=>({...re,isActive:B.target.checked}))}),r.jsx("span",{children:"Active"})]})}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn-primary",disabled:x,children:x?g?"Saving...":"Creating...":g?"Save changes":"Create plan"}),g&&r.jsx("button",{type:"button",className:"btn-link",onClick:fe,disabled:x,children:"Cancel edit"})]})]})]}),r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{style:{marginTop:0},children:"Existing plans"}),o&&r.jsx("div",{className:"form-error",children:o}),i&&r.jsx("p",{children:"Loading plans"}),!i&&e.length===0&&r.jsx("p",{className:"muted",children:"No plans found."}),!i&&e.length>0&&r.jsxs("div",{className:"table-responsive",children:[r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Name"}),r.jsx("th",{children:"Code"}),r.jsx("th",{children:"Quotas"}),r.jsx("th",{children:"Price"}),r.jsx("th",{children:"Stripe price"}),r.jsx("th",{children:"Active"}),r.jsx("th",{children:"Subscriptions"}),r.jsx("th",{})]})}),r.jsx("tbody",{children:e.map(B=>r.jsxs("tr",{children:[r.jsxs("td",{children:[r.jsx("div",{children:B.name}),r.jsx("div",{className:"muted small",children:B.description||""})]}),r.jsx("td",{children:r.jsx("code",{children:B.code})}),r.jsxs("td",{children:[r.jsxs("div",{className:"small",children:["Tokens:"," ",B.monthlyTokens!=null?B.monthlyTokens.toLocaleString():""]}),r.jsxs("div",{className:"small",children:["Emails:"," ",B.monthlyEmails!=null?B.monthlyEmails.toLocaleString():""]})]}),r.jsx("td",{children:xC(B.monthlyAmountCents,B.currency)}),r.jsx("td",{className:"small",children:B.stripePriceId?r.jsx("code",{children:B.stripePriceId}):r.jsx("span",{className:"muted",children:""})}),r.jsx("td",{children:r.jsx("button",{type:"button",className:B.isActive?"badge badge-success":"badge",onClick:()=>void de(B),children:B.isActive?"Active":"Inactive"})}),r.jsx("td",{children:B.subscriptionsCount}),r.jsxs("td",{className:"table-actions",children:[r.jsx("button",{type:"button",className:"btn-link",onClick:()=>$(B),children:"Edit"}),r.jsx("button",{type:"button",className:"btn-link text-danger",onClick:()=>void ae(B),children:"Delete"})]})]},B.id))})]}),r.jsx("div",{className:"table-footer",children:r.jsxs("span",{className:"muted",children:["Showing ",e.length," of ",n," plan(s)"]})})]})]})]}),r.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h2",{children:"Feature prices (legacy)"}),r.jsx("p",{className:"card-subtitle",children:"Standalone feature add-ons, kept for backwards compatibility."})]}),r.jsxs("div",{className:"card-toolbar",children:[r.jsx("div",{className:"card-toolbar-left",children:r.jsx("input",{type:"text",className:"form-control",placeholder:"Search by code or label",value:S,onChange:B=>N(B.target.value),onKeyDown:B=>{B.key==="Enter"&&oe()}})}),r.jsxs("label",{className:"form-checkbox",children:[r.jsx("input",{type:"checkbox",checked:A,onChange:B=>{L(B.target.checked),oe()}}),r.jsx("span",{children:"Include inactive"})]}),r.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>void oe(),children:"Reload"})]}),r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{style:{marginTop:0},children:D?"Edit feature price":"Create new feature price"}),R&&r.jsx("div",{className:"form-error",children:R}),r.jsxs("form",{onSubmit:ye,className:"form-grid",children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("label",{children:["Code",r.jsx("input",{type:"text",className:"form-control",value:_.code,onChange:B=>I(re=>({...re,code:B.target.value})),placeholder:"DOMAIN_CRAWLER"})]}),r.jsxs("label",{children:["Label",r.jsx("input",{type:"text",className:"form-control",value:_.label,onChange:B=>I(re=>({...re,label:B.target.value})),placeholder:"Domain crawler add-on"})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("label",{children:["Monthly price (cents)",r.jsx("input",{type:"number",className:"form-control",value:_.monthlyAmountCents,onChange:B=>I(re=>({...re,monthlyAmountCents:B.target.value})),placeholder:"e.g. 900",min:0,required:!0})]}),r.jsxs("label",{children:["Currency",r.jsx("input",{type:"text",className:"form-control",value:_.currency,onChange:B=>I(re=>({...re,currency:B.target.value})),placeholder:"eur",maxLength:3})]}),r.jsxs("label",{children:["Stripe price ID",r.jsx("input",{type:"text",className:"form-control",value:_.stripePriceId,onChange:B=>I(re=>({...re,stripePriceId:B.target.value})),placeholder:"price_..."})]})]}),r.jsx("div",{className:"form-row",children:r.jsxs("label",{className:"form-checkbox",children:[r.jsx("input",{type:"checkbox",checked:_.isActive,onChange:B=>I(re=>({...re,isActive:B.target.checked}))}),r.jsx("span",{children:"Active"})]})}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn-primary",disabled:U,children:U?D?"Saving...":"Creating...":D?"Save changes":"Create feature price"}),D&&r.jsx("button",{type:"button",className:"btn-link",onClick:Q,disabled:U,children:"Cancel edit"})]})]})]}),r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{style:{marginTop:0},children:"Existing feature prices"}),P&&r.jsx("div",{className:"form-error",children:P}),O&&r.jsx("p",{children:"Loading feature prices"}),!O&&j.length===0&&r.jsx("p",{className:"muted",children:"No feature prices found."}),!O&&j.length>0&&r.jsxs("div",{className:"table-responsive",children:[r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Label"}),r.jsx("th",{children:"Code"}),r.jsx("th",{children:"Price"}),r.jsx("th",{children:"Stripe price"}),r.jsx("th",{children:"Active"}),r.jsx("th",{})]})}),r.jsx("tbody",{children:j.map(B=>r.jsxs("tr",{children:[r.jsx("td",{children:B.label}),r.jsx("td",{children:r.jsx("code",{children:B.code})}),r.jsx("td",{children:xC(B.monthlyAmountCents,B.currency)}),r.jsx("td",{className:"small",children:B.stripePriceId?r.jsx("code",{children:B.stripePriceId}):r.jsx("span",{className:"muted",children:""})}),r.jsx("td",{children:r.jsx("button",{type:"button",className:B.isActive?"badge badge-success":"badge",onClick:()=>void he(B),children:B.isActive?"Active":"Inactive"})}),r.jsxs("td",{className:"table-actions",children:[r.jsx("button",{type:"button",className:"btn-link",onClick:()=>Se(B),children:"Edit"}),r.jsx("button",{type:"button",className:"btn-link text-danger",onClick:()=>void X(B),children:"Delete"})]})]},B.id))})]}),r.jsx("div",{className:"table-footer",children:r.jsxs("span",{className:"muted",children:["Showing ",j.length," of ",k," feature price(s)"]})})]})]})]})]})};function C9(e,t){const n=t||"__bot__",a=i=>s=>`/onboarding/bots/${encodeURIComponent(s||n)}${i}`;return[{key:"bot",label:e("onboardingLayout.steps.bot","1. Create bot"),description:e("onboardingLayout.steps.botDescription","Name your assistant and choose how customers will see it."),path:()=>"/onboarding/bots/new"},{key:"channels",label:e("onboardingLayout.steps.channels","2. Channels"),description:e("onboardingLayout.steps.channelsDescription","Connect WhatsApp, Facebook, Instagram or your website."),path:a("/channels")},{key:"booking",label:e("onboardingLayout.steps.booking","3. Bookings"),description:e("onboardingLayout.steps.bookingDescription","Let Coslo propose and book meetings directly from chat."),path:a("/booking")},{key:"leadAds",label:e("onboardingLayout.steps.leadAds","4. Lead Ads"),description:e("onboardingLayout.steps.leadAdsDescription","Sync your Facebook Lead Ads and send WhatsApp messages automatically."),path:a("/lead-ads")},{key:"plan",label:e("onboardingLayout.steps.plan","5. Plan & billing"),description:e("onboardingLayout.steps.planDescription","Review configuration, pick your plan and start using Coslo."),path:a("/plan")},{key:"knowledge",label:e("onboardingLayout.steps.knowledge","6. Knowledge"),description:e("onboardingLayout.steps.knowledgeDescription","Let Coslo learn from your website so it can answer detailed questions."),path:a("/knowledge")}]}const Ir=({currentStep:e,botId:t,title:n,subtitle:a,children:i,layout:s,rightAction:o})=>{const{t:l}=Le(),c=C9(l,t),u=c.findIndex(h=>h.key===e),d=c.length,p=(s??"split")==="full";return r.jsx("section",{className:"auth-landing",children:r.jsx("div",{className:"lp-container",children:r.jsxs("div",{className:"auth-layout-onboarding",children:[r.jsxs("header",{className:"onboarding-header",children:[r.jsx("div",{className:"onboarding-header-top",children:r.jsx("p",{className:"auth-eyebrow",children:l("onboardingLayout.eyebrow","Guided onboarding  {current}/{total}").replace("{current}",String(u+1)).replace("{total}",String(d))})}),r.jsx("ol",{className:"onboarding-steps",children:c.map((h,f)=>{const g=h.key===e,v=f<u,y=f>u,b=["onboarding-step",g&&"onboarding-step--active",v&&"onboarding-step--done",y&&"onboarding-step--future"].filter(Boolean).join(" "),x=h.key==="bot"||!!t,w=r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"onboarding-step-index",children:v?"":f+1}),r.jsxs("div",{className:"onboarding-step-text",children:[r.jsx("div",{className:"onboarding-step-label",children:h.label}),r.jsx("div",{className:"onboarding-step-description",children:h.description})]})]});if(!x)return r.jsx("li",{className:b,children:r.jsx("div",{className:"onboarding-step-inner onboarding-step-inner--disabled",children:w})},h.key);const j=h.key==="bot"?h.path("__ignored__"):h.path(t);return r.jsx("li",{className:b,children:r.jsx(ue,{className:"onboarding-step-inner",to:j,children:w})},h.key)})})]}),r.jsxs("div",{className:p?"onboarding-main onboarding-main--full":"onboarding-main",children:[r.jsxs("div",{className:p?"onboarding-main-copy onboarding-main-copy--full":"onboarding-main-copy",children:[r.jsx("h1",{className:"auth-title",children:n}),a&&r.jsx("p",{className:"auth-subtitle",children:a}),r.jsx("div",{className:"onboarding-title-row",children:o&&r.jsx("div",{className:"onboarding-header-actions",children:o})})]}),r.jsx("div",{className:p?"auth-card onboarding-card onboarding-main-card onboarding-main-card--full":"auth-card onboarding-card onboarding-main-card",children:i})]})]})})})},S9=()=>{const{t:e}=Le(),t=tn(),[n,a]=m.useState({name:"",slug:"",description:""}),[i,s]=m.useState(!1),[o,l]=m.useState(null),c=d=>p=>{const h=p.target.value;a(f=>({...f,[d]:h}))},u=async d=>{d.preventDefault(),l(null),s(!0);try{const p={name:n.name.trim(),slug:n.slug.trim(),description:n.description.trim()||void 0,channelWeb:!0,useDomainCrawler:!0,usePdfCrawler:!0},h=await yk(p);t(`/onboarding/bots/${encodeURIComponent(h.id)}/channels`)}catch(p){console.error(p),l((p==null?void 0:p.message)||e("botCreate.errors.createFailed","Unable to create the bot. Please try again."))}finally{s(!1)}};return r.jsx(Ir,{currentStep:"bot",title:e("botCreate.onboarding.title","Create your first Coslo bot"),subtitle:e("botCreate.onboarding.subtitle","Give your assistant a name and a short description. You can change this later."),children:r.jsxs("form",{className:"form",onSubmit:u,children:[o&&r.jsx("div",{className:"form-error",children:o}),r.jsx("p",{className:"muted",style:{marginBottom:"1rem"},children:e("botCreate.onboarding.intro","This information is used in the dashboard and in your internal tools, not in the public widget.")}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botCreate.fields.name","Bot name")}),r.jsx("input",{type:"text",value:n.name,onChange:c("name"),required:!0,placeholder:e("botCreate.onboarding.namePlaceholder","e.g. Acme Support Assistant")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botCreate.fields.slug","Bot slug")}),r.jsx("input",{type:"text",value:n.slug,onChange:c("slug"),required:!0,placeholder:e("botCreate.onboarding.slugPlaceholder","e.g. acme-support")}),r.jsx("small",{children:e("botCreate.fields.slugHelp","Used in URLs and widget embedding. Lowercase, letters and dashes.")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:e("botCreate.fields.description","Short description")}),r.jsx("textarea",{value:n.description,onChange:c("description"),rows:2,placeholder:e("botCreate.onboarding.descriptionPlaceholder","Optional. A short sentence about what this bot does.")})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{className:"btn-primary",type:"submit",disabled:i||!n.name.trim()||!n.slug.trim(),children:i?e("botCreate.actions.creating","Creating"):e("botCreate.actions.create","Create bot and continue")})})]})})},hd={channelWeb:!0,useDomainCrawler:!0,usePdfCrawler:!0};function N9(e){const t=n=>e.some(a=>a.type===n);return{channelWhatsapp:t("WHATSAPP"),channelMessenger:t("FACEBOOK"),channelInstagram:t("INSTAGRAM")}}const CC=7*24*60*60*1e3;function k9(e){return e==="FACEBOOK"||e==="INSTAGRAM"}const P9=()=>{var Ie;const{id:e}=Ft(),t=Ht(),n=tn(),{t:a}=Le(),[i,s]=m.useState([]),[o,l]=m.useState(!0),[c,u]=m.useState(null),[d,p]=m.useState(!0),[h,f]=m.useState(!0),[g,v]=m.useState(null),[y,b]=m.useState(!1),[x,w]=m.useState(null),[j,C]=m.useState(""),[k,E]=m.useState(!1),[O,M]=m.useState(!1),[P,T]=m.useState(null),[S,N]=m.useState(!1),[A,L]=m.useState(!1),[_,I]=m.useState(null),[D,F]=m.useState(""),[R,z]=m.useState(!1),[U,K]=m.useState(!1),[Z,oe]=m.useState(!1),fe=()=>{e&&(l(!0),u(null),ci(e).then(ee=>s(ee)).catch(ee=>{console.error(ee),u((ee==null?void 0:ee.message)||a("botChannels.errors.loadFailed"))}).finally(()=>l(!1)))},V=()=>{const ee=new URLSearchParams(t.search);ee.has("metaSessionId")&&(ee.delete("metaSessionId"),n({pathname:t.pathname,search:ee.toString()},{replace:!0}))},G=()=>{const Fe=new URLSearchParams(t.search).get("metaSessionId");if(!Fe){v(null),w(null),C(""),M(!1);return}b(!0),w(null),Pk(Fe).then(Y=>{v(Y),C(""),M(!0)}).catch(Y=>{console.error(Y),w((Y==null?void 0:Y.message)||a("botChannels.errors.metaSessionLoad")),v(null),M(!1)}).finally(()=>b(!1))};m.useEffect(()=>{fe()},[e]),m.useEffect(()=>{G()},[t.search]);const $=ee=>{T(ee),N(!1),L(!1)},ae=()=>{T(null),N(!1),L(!1)},de=async()=>{if(!(!e||!P)){L(!0),u(null);try{const ee=`/onboarding/bots/${encodeURIComponent(e)}/channels`,{url:Fe}=await kk(e,P,ee);window.location.href=Fe}catch(ee){console.error(ee);const Fe=P==="FACEBOOK"?"botChannels.errors.facebookConnectFailed":"botChannels.errors.instagramConnectFailed";u((ee==null?void 0:ee.message)||a(Fe)),L(!1)}}},Q=()=>{M(!1),v(null),C(""),V()},ie=async()=>{if(!(!g||!j)){E(!0),u(null);try{await Ak(g.id,j),v(null),C(""),V(),M(!1),fe()}catch(ee){console.error(ee),u((ee==null?void 0:ee.message)||a("botChannels.errors.metaAttachFailed"))}finally{E(!1)}}},ye=async()=>{if(!e)return;u(null),z(!0);const ee="1465664871200825",Fe="927419609614257";try{const Y=window.localStorage.getItem("wa_last_connect_ts");if(Y){const Ne=parseInt(Y,10);if(Date.now()-Ne<CC&&!window.confirm(a("botChannels.whatsapp.confirmReconnectWithinWeek"))){z(!1);return}}(await zk(ee)).login(Ne=>{(async()=>{if(!Ne||!Ne.authResponse||!Ne.authResponse.code){u(a("botChannels.errors.whatsappCancelled")),z(!1);return}const Ee=Ne.authResponse.code;try{const Ge=await Ek(e,{code:Ee});I(Ge),F("")}catch(Ge){console.error(Ge),u((Ge==null?void 0:Ge.message)||a("botChannels.errors.whatsappSignupFailed"))}finally{z(!1)}})()},{config_id:Fe,response_type:"code",override_default_response_type:!0}),window.localStorage.setItem("wa_last_connect_ts",Date.now().toString())}catch(Y){console.error(Y),u((Y==null?void 0:Y.message)||a("botChannels.errors.whatsappInitFailed")),z(!1)}},Se=async()=>{if(!(!_||!D)){K(!0),u(null);try{await Tk(_.sessionId,D),I(null),F(""),fe()}catch(ee){console.error(ee),u((ee==null?void 0:ee.message)||a("botChannels.errors.whatsappAttachFailed"))}finally{K(!1)}}},X=async ee=>{if(e&&window.confirm(a("botChannels.confirm.deleteChannel"))){u(null);try{await Nk(e,ee),fe()}catch(Fe){console.error(Fe),u((Fe==null?void 0:Fe.message)||a("botChannels.errors.deleteFailed"))}}},he=ee=>{if(!ee)return{label:a("botChannels.status.notConnected"),className:"status-badge newstatus-badge-warn",isConnected:!1};const Fe=ee.meta||{};if(!k9(ee.type))return Fe.needsReconnect===!0?{label:a("botChannels.status.needsReconnect"),className:"status-badge newstatus-badge-error",isConnected:!1}:{label:a("botChannels.status.active"),className:"status-badge newstatus-badge-ok",isConnected:!0};const Y=Date.now(),Ce=Fe.needsReconnect===!0,Ne=Fe.tokenExpiresAt;let Ee=null;if(Ne){const ke=new Date(Ne);isNaN(ke.getTime())||(Ee=ke)}if(Ce)return{label:a("botChannels.status.needsReconnect"),className:"status-badge newstatus-badge-error",isConnected:!1};if(!Ee)return{label:a("botChannels.status.connectedUnknownExpiry"),className:"status-badge newstatus-badge-ok",isConnected:!0};const Ge=Ee.getTime()-Y;return Ge<=0?{label:a("botChannels.status.expired"),className:"status-badge newstatus-badge-error",isConnected:!1}:Ge<=CC?{label:a("botChannels.status.expiringSoon"),className:"status-badge newstatus-badge-warn",isConnected:!1}:{label:a("botChannels.status.connected"),className:"status-badge newstatus-badge-ok",isConnected:!0}},B=ee=>{const{label:Fe,className:Y}=he(ee);return r.jsx("span",{className:Y,children:Fe})},re=i.find(ee=>ee.type==="FACEBOOK")||null,ne=i.find(ee=>ee.type==="INSTAGRAM")||null,ve=i.find(ee=>ee.type==="WHATSAPP")||null,He=he(re),W=he(ne),le=he(ve),Te=d&&(He.isConnected||W.isConnected),je=h&&le.isConnected,H=Te||je,J=async()=>{if(!(!e||!H)){oe(!0);try{const ee=await ci(e),Fe=N9(ee);await _n(e,{...hd,channelWhatsapp:h?Fe.channelWhatsapp:!1,channelMessenger:d?Fe.channelMessenger:!1,channelInstagram:d?Fe.channelInstagram:!1}),n(`/onboarding/bots/${encodeURIComponent(e)}/booking`)}catch(ee){console.error("Failed to save channel features",ee)}finally{oe(!1)}}},ce=async()=>{if(e){oe(!0);try{await _n(e,{...hd,channelWhatsapp:!1,channelMessenger:!1,channelInstagram:!1}),n(`/onboarding/bots/${encodeURIComponent(e)}/booking`)}catch(ee){console.error("Failed to skip channels",ee)}finally{oe(!1)}}};return e?r.jsx(Ir,{currentStep:"channels",botId:e,title:a("botChannels.onboarding.channels.title","Where should Coslo talk with your customers?"),subtitle:a("botChannels.onboarding.channels.subtitle","Connect at least one channel now. You can always add more later from the dashboard."),layout:"full",children:r.jsxs("div",{className:"page",style:{margin:0,padding:0},children:[r.jsx("div",{className:"onboarding-section-header",children:r.jsx("button",{type:"button",className:"btn-secondary btn-color",onClick:ce,disabled:Z,children:a("botChannels.onboarding.common.skip","Skip for now")})}),P&&r.jsx("div",{className:"meta-permissions-modal-backdrop",children:r.jsxs("div",{className:"meta-permissions-modal",children:[r.jsxs("div",{className:"meta-permissions-modal-header",children:[r.jsx("h2",{children:a(P==="FACEBOOK"?"botChannels.meta.permissionsDialog.titleFacebook":"botChannels.meta.permissionsDialog.titleInstagram")}),r.jsx("button",{type:"button",className:"btn-ghost small",onClick:ae,children:a("botChannels.actions.cancel")})]}),r.jsxs("div",{className:"meta-permissions-modal-body",children:[r.jsx("p",{className:"muted",children:a(P==="FACEBOOK"?"botChannels.meta.permissionsDialog.introFacebook":"botChannels.meta.permissionsDialog.introInstagram")}),r.jsx("p",{className:"meta-permissions-list-title",children:a("botChannels.meta.permissionsDialog.listTitle")}),P==="FACEBOOK"?r.jsxs("ul",{className:"meta-permissions-list",children:[r.jsx("li",{children:a("botChannels.meta.permissionsDialog.facebook.pagesShowList")}),r.jsx("li",{children:a("botChannels.meta.permissionsDialog.facebook.pagesMessaging")}),r.jsx("li",{children:a("botChannels.meta.permissionsDialog.facebook.pagesManageMetadata")}),r.jsx("li",{children:a("botChannels.meta.permissionsDialog.facebook.businessManagement")})]}):r.jsxs("ul",{className:"meta-permissions-list",children:[r.jsx("li",{children:a("botChannels.meta.permissionsDialog.instagram.pagesShowList")}),r.jsx("li",{children:a("botChannels.meta.permissionsDialog.instagram.instagramBasic")}),r.jsx("li",{children:a("botChannels.meta.permissionsDialog.instagram.instagramManageMessages")}),r.jsx("li",{children:a("botChannels.meta.permissionsDialog.instagram.pagesManageMetadata")}),r.jsx("li",{children:a("botChannels.meta.permissionsDialog.instagram.businessManagement")})]}),r.jsxs("label",{className:"checkbox-inline",style:{marginTop:"0.75rem"},children:[r.jsx("input",{type:"checkbox",checked:S,onChange:ee=>N(ee.target.checked)}),r.jsx("span",{children:a("botChannels.meta.permissionsDialog.checkboxLabel")})]}),r.jsx("p",{className:"muted small",style:{marginTop:"0.5rem"},children:a("botChannels.meta.permissionsDialog.footerNote")})]}),r.jsxs("div",{className:"meta-permissions-modal-footer",children:[r.jsx("button",{type:"button",className:"btn-secondary",onClick:ae,children:a("botChannels.actions.cancel")}),r.jsx("button",{type:"button",className:"btn-primary",disabled:!S||A,onClick:de,children:a(P==="FACEBOOK"?"botChannels.meta.permissionsDialog.continueFacebook":"botChannels.meta.permissionsDialog.continueInstagram")})]})]})}),g&&O&&r.jsx("div",{className:"meta-page-select-modal-backdrop",children:r.jsxs("div",{className:"meta-page-select-modal",children:[r.jsxs("div",{className:"meta-page-select-modal-header",children:[r.jsx("h2",{children:g.channelType==="FACEBOOK"?a("botChannels.meta.selectModal.titleFacebook"):a("botChannels.meta.selectModal.titleInstagram")}),r.jsx("button",{type:"button",className:"btn-ghost small",onClick:Q,children:a("botChannels.actions.cancel")})]}),r.jsxs("div",{className:"meta-page-select-modal-body",children:[r.jsx("p",{className:"muted",children:g.channelType==="FACEBOOK"?a("botChannels.meta.selectModal.introFacebook"):a("botChannels.meta.selectModal.introInstagram")}),y&&r.jsx("p",{className:"muted",children:a("botChannels.meta.loadingPages")}),x&&r.jsxs("div",{className:"form-error",children:[a("botChannels.meta.sessionLoadFailed"),":"," ",x]}),!y&&!x&&(()=>{const ee=g.pages.filter(Ee=>g.channelType==="INSTAGRAM"?!!Ee.instagramBusinessId:!0),Fe=ee.filter(Ee=>!Ee.isBusinessManaged),Y=ee.filter(Ee=>Ee.isBusinessManaged),Ce=g.pages&&g.pages.length>0,Ne=g.channelType==="INSTAGRAM"&&Ce&&ee.length===0;return ee.length===0?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"muted",children:a("botChannels.meta.selectModal.noPages")}),Ne&&r.jsx("p",{className:"muted small",style:{marginTop:"0.5rem"},children:a("botChannels.meta.selectModal.editPreviousSettingsHint")})]}):r.jsxs(r.Fragment,{children:[Fe.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"meta-page-select-group-title",children:a("botChannels.meta.selectModal.personalGroupTitle")}),r.jsx("div",{className:"meta-page-select-list",children:Fe.map(Ee=>r.jsxs("label",{className:"meta-page-select-item"+(j===Ee.id?" selected":""),children:[r.jsx("input",{type:"radio",name:"meta-page-select",value:Ee.id,checked:j===Ee.id,onChange:()=>C(Ee.id)}),r.jsx("span",{className:"meta-page-select-name",children:Ee.name})]},Ee.id))})]}),Y.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"meta-page-select-group-title",children:a("botChannels.meta.selectModal.businessGroupTitle")}),r.jsx("div",{className:"meta-page-select-list",children:Y.map(Ee=>r.jsxs("label",{className:"meta-page-select-item"+(j===Ee.id?" selected":""),children:[r.jsx("input",{type:"radio",name:"meta-page-select",value:Ee.id,checked:j===Ee.id,onChange:()=>C(Ee.id)}),r.jsxs("span",{className:"meta-page-select-name",children:[Ee.name,Ee.businessName?` (${Ee.businessName})`:""]})]},Ee.id))})]})]})})()]}),r.jsxs("div",{className:"meta-page-select-modal-footer",children:[r.jsx("button",{type:"button",className:"btn-secondary",onClick:Q,children:a("botChannels.actions.cancel")}),r.jsx("button",{type:"button",className:"btn-primary",disabled:!j||k,onClick:ie,children:a(k?"botChannels.actions.connecting":"botChannels.actions.connectSelected")})]})]})}),c&&r.jsx("div",{className:"form-error",children:c}),o&&r.jsx("p",{className:"muted",children:a("botChannels.loading")}),_&&r.jsxs("div",{className:"card",style:{marginBottom:"1.5rem"},children:[r.jsx("h2",{children:a("botChannels.whatsapp.selectNumberTitle")}),r.jsx("p",{className:"muted",children:a("botChannels.whatsapp.selectNumberSubtitle")}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:a("botChannels.whatsapp.numberLabel")}),r.jsxs("select",{value:D,onChange:ee=>F(ee.target.value),children:[r.jsx("option",{value:"",children:a("botChannels.whatsapp.selectPlaceholder")}),_.numbers.map(ee=>r.jsxs("option",{value:ee.id,children:[ee.displayPhoneNumber||ee.id,ee.verifiedName?`  ${ee.verifiedName}`:""]},ee.id))]})]}),r.jsxs("div",{className:"form-actions-inline",children:[r.jsx("button",{className:"btn-primary",type:"button",disabled:!D||U,onClick:Se,children:a(U?"botChannels.actions.connecting":"botChannels.actions.connectSelected")}),r.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>{I(null),F("")},children:a("botChannels.actions.cancel")})]})]}),!o&&r.jsxs("div",{className:"connect-grid",children:[r.jsxs("section",{className:"connect-card",children:[r.jsxs("header",{className:"connect-card-header",children:[r.jsxs("div",{children:[r.jsx("h2",{children:a("botChannels.onboarding.channels.meta.title","Meta inbox (Facebook & Instagram)")}),r.jsx("p",{className:"connect-card-subtitle",children:a("botChannels.onboarding.channels.meta.subtitle","Connect your Facebook page and Instagram Business account so Coslo can reply to messages automatically.")})]}),r.jsxs("div",{className:"connect-card-toggle",children:[r.jsxs("label",{className:"booking-toggle",children:[r.jsx("input",{type:"checkbox",checked:d,onChange:ee=>p(ee.target.checked)}),r.jsx("span",{className:"booking-toggle-slider"}),r.jsx("span",{className:"booking-toggle-label",children:d?a("botChannels.onboarding.channels.meta.toggleOn","Meta inbox is ON"):a("botChannels.onboarding.channels.meta.toggleOff","Meta inbox is OFF")})]}),!d&&r.jsx("p",{className:"muted small",children:a("botChannels.onboarding.channels.meta.toggleOffHint","Keep Meta inbox disabled if you don't want Coslo to reply on Facebook or Instagram for this bot.")})]})]}),d?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"connect-channel",children:[r.jsxs("div",{className:"connect-channel-main",children:[r.jsx("div",{className:"connect-channel-icon connect-channel-icon-facebook",children:"f"}),r.jsxs("div",{className:"connect-channel-text",children:[r.jsxs("div",{className:"connect-channel-title-row",children:[r.jsx("span",{className:"connect-channel-title",children:a("botChannels.labels.facebookPage")}),B(re)]}),r.jsx("p",{className:"connect-channel-description",children:a("botChannels.connectSocial.facebookDesc")}),re&&r.jsxs("p",{className:"connect-channel-meta",children:[a("botChannels.connectSocial.connectedPage")," ",r.jsx("strong",{children:((Ie=re.meta)==null?void 0:Ie.pageName)||a("botChannels.meta.connectedViaMeta")})]})]})]}),r.jsxs("div",{className:"connect-channel-actions",children:[!He.isConnected&&r.jsx("button",{type:"button",className:"btn-primary btn-sm",onClick:()=>$("FACEBOOK"),children:a(re?"botChannels.actions.reconnectFacebook":"botChannels.actions.connectFacebook")}),re&&r.jsx("button",{type:"button",className:"btn-secondary btn-sm btn-color",onClick:()=>X(re.id),children:a("botChannels.actions.disconnect")})]})]}),r.jsxs("div",{className:"connect-channel",children:[r.jsxs("div",{className:"connect-channel-main",children:[r.jsx("div",{className:"connect-channel-icon connect-channel-icon-instagram",children:"ig"}),r.jsxs("div",{className:"connect-channel-text",children:[r.jsxs("div",{className:"connect-channel-title-row",children:[r.jsx("span",{className:"connect-channel-title",children:a("botChannels.labels.instagramBusiness")}),B(ne)]}),r.jsx("p",{className:"connect-channel-description",children:a("botChannels.connectSocial.instagramDesc")}),ne&&r.jsxs("p",{className:"connect-channel-meta",children:[a("botChannels.connectSocial.connectedAccount")," ",r.jsx("strong",{children:(()=>{const ee=ne.meta||{};return ee.igUsername||ee.igName||ee.pageName||a("botChannels.meta.connectedViaMeta")})()})]})]})]}),r.jsxs("div",{className:"connect-channel-actions",children:[!W.isConnected&&r.jsx("button",{type:"button",className:"btn-primary btn-sm",onClick:()=>$("INSTAGRAM"),children:a(ne?"botChannels.actions.reconnectInstagram":"botChannels.actions.connectInstagram")}),ne&&r.jsx("button",{type:"button",className:"btn-secondary btn-sm btn-color",onClick:()=>X(ne.id),children:a("botChannels.actions.disconnect")})]})]})]}):r.jsx("p",{className:"muted small",style:{marginTop:"0.75rem"},children:a("botChannels.onboarding.channels.meta.disabledBody","Meta inbox is disabled for this bot. Turn it on above if you want to connect Facebook or Instagram.")})]}),r.jsxs("section",{className:"connect-card",children:[r.jsxs("header",{className:"connect-card-header",children:[r.jsxs("div",{children:[r.jsx("h2",{children:a("botChannels.onboarding.channels.whatsapp.title","WhatsApp Business (embedded signup)")}),r.jsx("p",{className:"connect-card-subtitle",children:a("botChannels.onboarding.channels.whatsapp.subtitle","Connect a WhatsApp Business number using the official Meta embedded signup flow.")})]}),r.jsxs("div",{className:"connect-card-toggle",children:[r.jsxs("label",{className:"booking-toggle",children:[r.jsx("input",{type:"checkbox",checked:h,onChange:ee=>f(ee.target.checked)}),r.jsx("span",{className:"booking-toggle-slider"}),r.jsx("span",{className:"booking-toggle-label",children:h?a("botChannels.onboarding.channels.whatsapp.toggleOn","WhatsApp is ON"):a("botChannels.onboarding.channels.whatsapp.toggleOff","WhatsApp is OFF")})]}),!h&&r.jsx("p",{className:"muted small",children:a("botChannels.onboarding.channels.whatsapp.toggleOffHint","Keep WhatsApp disabled if you don't want Coslo to send messages on WhatsApp for this bot.")})]})]}),h?r.jsxs("div",{className:"connect-channel",children:[r.jsxs("div",{className:"connect-channel-main",children:[r.jsx("div",{className:"connect-channel-icon connect-channel-icon-whatsapp",children:"wa"}),r.jsxs("div",{className:"connect-channel-text",children:[r.jsxs("div",{className:"connect-channel-title-row",children:[r.jsx("span",{className:"connect-channel-title",children:a("botChannels.labels.whatsappBusiness")}),B(ve)]}),r.jsx("p",{className:"connect-channel-description",children:a("botChannels.connectSocial.whatsappDesc")}),ve&&r.jsxs("p",{className:"connect-channel-meta",children:[a("botChannels.connectSocial.connectedNumber")," ",r.jsx("strong",{children:(()=>{const ee=ve.meta||{};return ee.displayPhoneNumber||ee.display_phone_number||ve.externalId})()})]})]})]}),r.jsxs("div",{className:"connect-channel-actions",children:[!le.isConnected&&r.jsx("button",{type:"button",className:"btn-primary btn-sm",onClick:ye,disabled:R,children:a(R?"botChannels.actions.connectingWhatsapp":ve?"botChannels.actions.reconnectWhatsapp":"botChannels.actions.connectWhatsapp")}),ve&&r.jsx("button",{type:"button",className:"btn-secondary btn-sm btn-color",onClick:()=>X(ve.id),children:a("botChannels.actions.disconnect")})]})]}):r.jsx("p",{className:"muted small",style:{marginTop:"0.75rem"},children:a("botChannels.onboarding.channels.whatsapp.disabledBody","WhatsApp is disabled for this bot. Turn it on above if you want to connect a number.")})]})]}),r.jsxs("div",{className:"onboarding-form-actions",style:{marginTop:"1.2rem"},children:[r.jsx("button",{className:"btn-secondary btn-color",type:"button",onClick:()=>n(-1),disabled:Z,children:a("common.back","Back")}),r.jsx("button",{className:"btn-primary",type:"button",onClick:J,disabled:!H||Z,children:a("botChannels.onboarding.channels.next","Continue to bookings")})]})]})}):r.jsx(Ir,{currentStep:"channels",title:a("botChannels.onboarding.channels.title","Where should Coslo talk with your customers?"),children:r.jsx("p",{className:"muted",children:a("botChannels.missingId")})})},sl=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],A9=()=>{const e={};return sl.forEach(t=>{e[t]={enabled:!1,windows:[{start:"",end:""}]}}),e},E9=e=>{const t=A9();return e&&sl.forEach(n=>{const a=e[n];a&&a.length>0&&(t[n]={enabled:!0,windows:a.map(i=>({start:i.start,end:i.end}))})}),t},T9=e=>{const t={};return sl.forEach(n=>{const a=e[n];if(!a.enabled)return;const i=[];a.windows.forEach(s=>{const o=s.start.trim(),l=s.end.trim();!o||!l||o>=l||i.push({start:o,end:l})}),i.length>0&&(t[n]=i.map(s=>({start:s.start,end:s.end})))}),Object.keys(t).length>0?t:null},SC=(e,t)=>{const n=e.trim();if(!n)return t;const a=Number(n);return!Number.isFinite(a)||a<0?t:Math.floor(a)},I9=e=>{const t=e.trim();if(!t)return null;const n=Number(t);return!Number.isFinite(n)||n<=0?null:Math.floor(n)},O9=()=>{const{id:e}=Ft(),{t}=Le(),n=tn(),a=Ht(),[i]=rv(),[s,o]=m.useState(null),[l,c]=m.useState(null),[u,d]=m.useState(!0),[p,h]=m.useState(!1),[f,g]=m.useState(null),[v,y]=m.useState("monday"),[b,x]=m.useState(null),[w,j]=m.useState(null),[C,k]=m.useState(!1),[E,O]=m.useState(!1);m.useEffect(()=>{if(!e){d(!1);return}d(!0),g(null),hn(e).then(z=>{o(z);const U=oe=>typeof oe=="number"?String(oe):"",K=E9(z.bookingWeeklySchedule??null);c({timeZone:z.timeZone||"",defaultDurationMinutes:z.defaultDurationMinutes?String(z.defaultDurationMinutes):"30",bookingMinLeadHours:U(z.bookingMinLeadHours),bookingMaxAdvanceDays:U(z.bookingMaxAdvanceDays),bookingMaxSimultaneousBookings:U(z.bookingMaxSimultaneousBookings),bookingWeeklySchedule:K});const Z=sl.find(oe=>K[oe].enabled)??"monday";y(Z),O(!!z.useCalendar)}).catch(z=>{console.error(z),g((z==null?void 0:z.message)||t("botSettings.errors.loadFailed"))}).finally(()=>d(!1))},[e,t]),m.useEffect(()=>{e&&QF(e).then(z=>j(z)).catch(z=>{console.error(z)})},[e]),m.useEffect(()=>{const z=i.get("googleCalendarSessionId");z&&GF(z).then(U=>x(U)).catch(U=>{console.error(U),g((U==null?void 0:U.message)||t("botSettings.errors.loadFailed","Failed to load calendar session"))})},[i,t]);const M=z=>U=>{l&&c({...l,[z]:U.target.value})},P=(z,U)=>{l&&c({...l,bookingWeeklySchedule:{...l.bookingWeeklySchedule,[z]:{...l.bookingWeeklySchedule[z],enabled:U}}})},T=(z,U,K,Z)=>{if(!l)return;const oe=l.bookingWeeklySchedule[z],fe=[...oe.windows];fe[U]={...fe[U],[K]:Z},c({...l,bookingWeeklySchedule:{...l.bookingWeeklySchedule,[z]:{...oe,windows:fe}}})},S=z=>{if(!l)return;const U=l.bookingWeeklySchedule[z];c({...l,bookingWeeklySchedule:{...l.bookingWeeklySchedule,[z]:{...U,windows:[...U.windows,{start:"",end:""}]}}})},N=(z,U)=>{if(!l)return;const K=l.bookingWeeklySchedule[z],Z=K.windows.filter((oe,fe)=>fe!==U);c({...l,bookingWeeklySchedule:{...l.bookingWeeklySchedule,[z]:{...K,windows:Z.length>0?Z:[{start:"",end:""}]}}})},A=()=>{n(-1)},L=async()=>{if(e){k(!0),g(null);try{const{url:z}=await VF(e,a.pathname);window.location.href=z}catch(z){console.error(z),g((z==null?void 0:z.message)||t("botSettings.errors.saveFailed")),k(!1)}}},_=async z=>{if(b){h(!0),g(null);try{const U=await YF(b.id,z);j(U),x(null),l&&U.calendarTimeZone&&c({...l,timeZone:U.calendarTimeZone});const K=new URLSearchParams(i.toString());K.delete("googleCalendarSessionId"),n({pathname:a.pathname,search:K.toString()},{replace:!0})}catch(U){console.error(U),g((U==null?void 0:U.message)||t("botSettings.errors.saveFailed"))}finally{h(!1)}}},I=async()=>{if(e){h(!0),g(null);try{await ZF(e),j({connected:!1}),l&&c({...l,timeZone:""})}catch(z){console.error(z),g((z==null?void 0:z.message)||t("botSettings.errors.saveFailed"))}finally{h(!1)}}},D=async z=>{if(z.preventDefault(),!(!e||!l)&&E){h(!0),g(null);try{const U=parseInt(l.defaultDurationMinutes,10),K=Number.isFinite(U)&&U>0?U:30,Z=T9(l.bookingWeeklySchedule),oe=SC(l.bookingMinLeadHours,3),fe=SC(l.bookingMaxAdvanceDays,30),V=I9(l.bookingMaxSimultaneousBookings);await _n(e,{timeZone:l.timeZone.trim()||null,defaultDurationMinutes:K,bookingMinLeadHours:oe,bookingMaxAdvanceDays:fe,bookingMaxSimultaneousBookings:V,bookingWeeklySchedule:Z,useCalendar:E,...hd}),n(`/onboarding/bots/${encodeURIComponent(e)}/lead-ads`)}catch(U){console.error(U),g((U==null?void 0:U.message)||t("botSettings.errors.saveFailed"))}finally{h(!1)}}},F=async()=>{if(e){h(!0),g(null);try{await _n(e,{...hd,useCalendar:!1}),n(`/onboarding/bots/${encodeURIComponent(e)}/lead-ads`)}catch(z){console.error(z),g((z==null?void 0:z.message)||t("common.error","Something went wrong"))}finally{h(!1)}}},R=()=>e?u||!l?r.jsx("p",{className:"muted",children:t("botSettings.loading","Loading")}):r.jsxs("form",{className:"form booking-form",onSubmit:D,children:[r.jsx("div",{className:"onboarding-section-header",children:r.jsx("button",{type:"button",className:"btn-secondary btn-color",onClick:F,disabled:p,children:t("botSettings.onboarding.common.skip","Skip for now")})}),f&&r.jsx("div",{className:"form-error",children:f}),r.jsxs("div",{className:"booking-enable-row",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"booking-section-title",children:t("botSettings.onboarding.booking.toggleTitle","Let Coslo propose and book meetings")}),r.jsx("p",{className:"booking-section-subtitle",children:t("botSettings.onboarding.booking.toggleSubtitle","When enabled, Coslo will check your calendar and offer time slots directly in chat.")})]}),r.jsxs("div",{className:"booking-enable-toggle",children:[r.jsxs("label",{className:"booking-toggle",children:[r.jsx("input",{type:"checkbox",checked:E,onChange:z=>O(z.target.checked)}),r.jsx("span",{className:"booking-toggle-slider"}),r.jsx("span",{className:"booking-toggle-label",children:E?t("botSettings.onboarding.booking.toggleOn","Bookings are ON"):t("botSettings.onboarding.booking.toggleOff","Bookings are OFF")})]}),!E&&r.jsx("p",{className:"muted small",children:t("botSettings.onboarding.booking.toggleOffHint","You can keep bookings disabled for now and still complete onboarding. Youll be able to turn them on later from the app.")})]})]}),!E&&r.jsxs("div",{className:"form-actions booking-actions",children:[r.jsx("button",{className:"btn-secondary btn-color",type:"button",onClick:A,disabled:p,children:t("common.back","Back")}),r.jsx("button",{className:"btn-primary",type:"button",disabled:!0,title:t("botSettings.onboarding.booking.enableToContinue","Turn on bookings above or skip this step to continue."),children:t("botSettings.onboarding.booking.nextWhenDisabled","Continue to Lead Ads")})]}),E&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"booking-grid",children:[r.jsxs("section",{className:"booking-section",children:[r.jsx("h2",{className:"booking-section-title",children:t("botSettings.sections.calendarConnection.title","Connect your calendar")}),r.jsx("p",{className:"booking-section-subtitle",children:t("botSettings.sections.calendarConnection.hint","Tell Coslo which calendar to use for availability and bookings.")}),r.jsxs("div",{className:"booking-fields-grid",children:[r.jsxs("div",{className:"form-field",children:[r.jsx("span",{children:t("botSettings.fields.calendarId.label")}),w!=null&&w.connected?r.jsxs("div",{className:"calendar-connection",children:[r.jsxs("div",{className:"calendar-connection-details",children:[r.jsx("strong",{children:w.calendarSummary||w.calendarId}),w.calendarTimeZone&&r.jsx("span",{className:"muted small",children:w.calendarTimeZone})]}),r.jsx("button",{type:"button",className:"btn-secondary btn-xs btn-color",onClick:I,disabled:p,children:t("botSettings.sections.calendarConnection.disconnect","Disconnect")})]}):r.jsx("button",{type:"button",className:"btn-primary",onClick:L,disabled:C,children:C?t("botSettings.sections.calendarConnection.connecting","Connecting..."):t("botSettings.sections.calendarConnection.connect","Connect Google Calendar")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:t("botSettings.fields.timeZone.label")}),r.jsx("input",{type:"text",value:l.timeZone,onChange:M("timeZone"),placeholder:t("botSettings.fields.timeZone.placeholder","e.g. Europe/Rome")}),r.jsx("span",{className:"bot-settings-help",children:t("botSettings.fields.timeZone.help")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:t("botSettings.fields.defaultDurationMinutes.label")}),r.jsx("input",{type:"number",min:5,max:480,value:l.defaultDurationMinutes,onChange:M("defaultDurationMinutes"),placeholder:t("botSettings.fields.defaultDurationMinutes.placeholder","30")}),r.jsx("span",{className:"bot-settings-help",children:t("botSettings.fields.defaultDurationMinutes.help")})]})]}),b&&r.jsxs("div",{className:"calendar-session-picker",children:[r.jsx("p",{className:"muted",children:t("botSettings.sections.calendarConnection.chooseCalendar","Choose which calendar Coslo should use:")}),r.jsx("div",{className:"calendar-session-list",children:b.calendars.map(z=>r.jsxs("button",{type:"button",className:"btn-secondary btn-color",onClick:()=>_(z.id),disabled:p,children:[z.summary,z.primary?" (primary)":""]},z.id))})]})]}),r.jsxs("section",{className:"booking-section",children:[r.jsx("h2",{className:"booking-section-title",children:t("botSettings.sections.bookingRules.title","Booking rules")}),r.jsx("p",{className:"booking-section-subtitle",children:t("botSettings.sections.bookingRules.hint","Control how far in advance users can book and how many bookings can overlap.")}),r.jsxs("div",{className:"booking-fields-grid",children:[r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:t("botSettings.fields.bookingMinLeadHours.label")}),r.jsx("input",{type:"number",min:0,step:1,value:l.bookingMinLeadHours,onChange:M("bookingMinLeadHours"),placeholder:t("botSettings.fields.bookingMinLeadHours.placeholder")}),r.jsx("span",{className:"bot-settings-help",children:t("botSettings.fields.bookingMinLeadHours.help")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:t("botSettings.fields.bookingMaxAdvanceDays.label")}),r.jsx("input",{type:"number",min:0,step:1,value:l.bookingMaxAdvanceDays,onChange:M("bookingMaxAdvanceDays"),placeholder:t("botSettings.fields.bookingMaxAdvanceDays.placeholder")}),r.jsx("span",{className:"bot-settings-help",children:t("botSettings.fields.bookingMaxAdvanceDays.help")})]}),r.jsxs("label",{className:"form-field",children:[r.jsx("span",{children:t("botSettings.fields.bookingMaxSimultaneousBookings.label")}),r.jsx("input",{type:"number",min:1,value:l.bookingMaxSimultaneousBookings,onChange:M("bookingMaxSimultaneousBookings"),placeholder:t("botSettings.fields.bookingMaxSimultaneousBookings.placeholder")}),r.jsx("span",{className:"bot-settings-help",children:t("botSettings.fields.bookingMaxSimultaneousBookings.help")})]})]})]})]}),r.jsxs("section",{className:"booking-section booking-availability",children:[r.jsx("h2",{className:"booking-section-title",children:t("botSettings.sections.availability.title","Weekly availability")}),r.jsx("p",{className:"booking-section-subtitle",children:t("botSettings.sections.availability.hint","Choose on which days and time ranges Coslo can schedule meetings for this bot.")}),r.jsx("div",{className:"booking-day-tabs",children:sl.map(z=>{const U=l.bookingWeeklySchedule[z],K=v===z,Z=U.enabled,oe=["booking-day-pill",K&&"booking-day-pill--active"].filter(Boolean).join(" ");return r.jsxs("button",{type:"button",className:oe,onClick:()=>y(z),children:[r.jsx("span",{className:"booking-day-pill-label",children:t(`botSettings.weekdays.${z}`)}),r.jsx("span",{className:"booking-day-pill-dot"+(Z?" booking-day-pill-dot--on":""),"aria-hidden":"true"})]},z)})}),(()=>{const z=v,U=l.bookingWeeklySchedule[z];return r.jsxs("div",{className:"booking-day-detail-card",children:[r.jsxs("div",{className:"booking-day-detail-header",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"booking-day-detail-title",children:t(`botSettings.weekdays.${z}`)}),r.jsx("p",{className:"booking-day-detail-subtitle",children:U.enabled?t("botSettings.sections.availability.enabledHint","Bookings are allowed on this day within the time ranges below."):t("botSettings.sections.availability.disabledHint","Bookings are not allowed on this day until you enable it.")})]}),r.jsxs("label",{className:"booking-toggle",children:[r.jsx("input",{type:"checkbox",checked:U.enabled,onChange:K=>P(z,K.target.checked)}),r.jsx("span",{className:"booking-toggle-slider"}),r.jsx("span",{className:"booking-toggle-label",children:t("botSettings.sections.availability.acceptBookings","Accept bookings this day")})]})]}),r.jsx("div",{className:"booking-day-ranges",children:U.windows.map((K,Z)=>r.jsxs("div",{className:"booking-day-range-row",children:[r.jsxs("div",{className:"booking-day-range-inputs",children:[r.jsxs("label",{children:[r.jsx("span",{className:"booking-range-label",children:t("botSettings.sections.availability.from","From")}),r.jsx("input",{type:"time",value:K.start,onChange:oe=>T(z,Z,"start",oe.target.value)})]}),r.jsxs("label",{children:[r.jsx("span",{className:"booking-range-label",children:t("botSettings.sections.availability.to","To")}),r.jsx("input",{type:"time",value:K.end,onChange:oe=>T(z,Z,"end",oe.target.value)})]})]}),Z>0&&r.jsx("button",{type:"button",className:"btn-link booking-remove-range",onClick:()=>N(z,Z),children:t("botSettings.sections.availability.removeRange","Remove range")})]},Z))}),r.jsx("button",{type:"button",className:"btn-secondary btn-xs booking-add-range btn-color",onClick:()=>S(z),children:t("botSettings.sections.availability.addRange","Add time range")}),r.jsx("p",{className:"bot-settings-hint booking-availability-note",children:t("botSettings.sections.availability.note")})]})})()]}),r.jsxs("div",{className:"form-actions booking-actions",children:[r.jsx("button",{className:"btn-secondary btn-color",type:"button",onClick:A,disabled:p,children:t("common.back","Back")}),r.jsx("button",{className:"btn-primary",type:"submit",disabled:p,children:p?t("botSettings.actions.saving","Saving"):t("botSettings.onboarding.booking.next","Save & continue to Lead Ads")})]})]})]}):r.jsx("p",{className:"muted",children:t("botSettings.missingId","Missing bot id in URL.")});return r.jsx(Ir,{currentStep:"booking",botId:e,title:t("botSettings.onboarding.booking.title","Enable bookings from chat"),subtitle:t("botSettings.onboarding.booking.subtitle","Connect your calendar, define your available slots and booking rules."),layout:"full",children:r.jsx("div",{className:"onboarding-booking",children:R()})})},Zm={name:"",language:"en_US",category:"UTILITY",headerEnabled:!1,headerText:"",bodyText:"",footerEnabled:!1,footerText:"",buttons:[]};function M9(e){switch(e){case"APPROVED":return"status-badge status-badge-ok";case"PENDING":return"status-badge status-badge-warn";case"REJECTED":return"status-badge status-badge-error";default:return"status-badge"}}function L9(e){const t=[];if(e.headerEnabled&&e.headerText.trim()&&t.push({type:"HEADER",format:"TEXT",text:e.headerText.trim(),example:e.headerText.includes("{{")?{header_text:["Example header"]}:void 0}),e.bodyText.trim()){const a=e.bodyText.trim(),i=a.match(/\{\{\d+\}\}/g)||[];t.push({type:"BODY",text:a,example:i.length>0?{body_text:i.map((s,o)=>`Example ${o+1}`)}:void 0})}e.footerEnabled&&e.footerText.trim()&&t.push({type:"FOOTER",text:e.footerText.trim()});const n=e.buttons.filter(a=>a.text.trim()).map(a=>({type:a.type,text:a.text.trim(),url:a.type==="URL"?a.url:void 0,phone_number:a.type==="PHONE_NUMBER"?a.phone_number:void 0}));return n.length>0&&t.push({type:"BUTTONS",buttons:n}),t}function D9(e){var s;const t=e.components.find(o=>o.type==="HEADER"),n=e.components.find(o=>o.type==="BODY"),a=e.components.find(o=>o.type==="FOOTER"),i=e.components.find(o=>o.type==="BUTTONS");return{name:e.name,language:e.language,category:e.category,headerEnabled:!!t,headerText:(t==null?void 0:t.text)??"",bodyText:(n==null?void 0:n.text)??"",footerEnabled:!!a,footerText:(a==null?void 0:a.text)??"",buttons:((s=i==null?void 0:i.buttons)==null?void 0:s.map((o,l)=>({id:`${e.id}-btn-${l}`,type:o.type,text:o.text,url:o.url,phone_number:o.phone_number})))??[]}}const F9=()=>{const{id:e}=Ft(),{t}=Le(),n=tn(),[a,i]=m.useState(null),[s,o]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState(!0),[p,h]=m.useState(!1),[f,g]=m.useState(null),[v,y]=m.useState({phoneFieldName:"phone_number",consentFieldName:"whatsapp_opt_in",requiresWhatsappOptIn:!0,templateName:"",templateLanguage:""}),[b,x]=m.useState(!1),[w,j]=m.useState(!1),[C,k]=m.useState(!1),[E,O]=m.useState(null),[M,P]=m.useState("create"),[T,S]=m.useState(null),[N,A]=m.useState(Zm),[L,_]=m.useState(!1),[I,D]=m.useState(!1);m.useEffect(()=>{if(!e)return;async function W(){try{d(!0),g(null);const[le,Te]=await Promise.all([hn(e),ci(e)]);i(le),o(Te)}catch(le){console.error(le),g((le==null?void 0:le.message)||"Failed to load bot or channels.")}finally{d(!1)}}W()},[e]);const F=m.useMemo(()=>s.find(W=>W.type==="WHATSAPP")||null,[s]),R=m.useMemo(()=>s.find(W=>W.type==="FACEBOOK")||null,[s]),z=m.useMemo(()=>F?(F.meta||{}).needsReconnect!==!0:!1,[F]),U=m.useMemo(()=>R?(R.meta||{}).needsReconnect!==!0:!1,[R]),K=U&&z;async function Z(){if(!e||!z){c([]);return}try{h(!0),g(null);const W=await Ik(e,{limit:50});c(W.items)}catch(W){console.error(W),g((W==null?void 0:W.message)||"Failed to load WhatsApp templates.")}finally{h(!1)}}async function oe(){if(e)try{x(!0),g(null);const W=await pv(e);y(W?{phoneFieldName:W.phoneFieldName||"phone_number",consentFieldName:W.consentFieldName||"whatsapp_opt_in",requiresWhatsappOptIn:W.requiresWhatsappOptIn,templateName:W.templateName||"",templateLanguage:W.templateLanguage||""}:{phoneFieldName:"phone_number",consentFieldName:"whatsapp_opt_in",requiresWhatsappOptIn:!0,templateName:"",templateLanguage:""})}catch(W){console.error(W),g((W==null?void 0:W.message)||"Failed to load Lead Ads  WhatsApp automation.")}finally{x(!1)}}m.useEffect(()=>{e&&(async()=>(await oe(),await Z()))()},[e,z]);const fe=m.useMemo(()=>l.filter(W=>W.status==="APPROVED"),[l]);m.useEffect(()=>{if(!a)return;const W=!!a.leadWhatsappMessages200||!!a.leadWhatsappMessages500||!!a.leadWhatsappMessages1000,le=!!v.templateName&&!!v.templateLanguage;j(W||le)},[a,v.templateName,v.templateLanguage]),m.useEffect(()=>{K||j(!1)},[K]);const V=m.useMemo(()=>fe.find(W=>W.id===E)||null,[fe,E]);function G(W,le){A(Te=>({...Te,[W]:le}))}function $(W){const le=W.toLowerCase().replace(/[^a-z0-9_]/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"");G("name",le)}function ae(){A(W=>({...W,buttons:[...W.buttons,{id:`btn-${Date.now()}-${W.buttons.length}`,type:"QUICK_REPLY",text:""}]}))}function de(W,le){A(Te=>({...Te,buttons:Te.buttons.map(je=>je.id===W?{...je,...le}:je)}))}function Q(W){A(le=>({...le,buttons:le.buttons.filter(Te=>Te.id!==W)}))}function ie(){P("create"),S(null),A(Zm),D(!0)}function ye(W){P("edit"),S(W.id),A(D9(W)),O(W.id),D(!0)}function Se(){D(!1)}async function X(W){if(W.preventDefault(),!e)return;_(!0),g(null);const le=L9(N),Te={name:N.name,category:N.category,language:N.language,components:le};try{M==="create"?(await Ok(e,Te),A(Zm)):M==="edit"&&T&&await Mk(e,T,Te),await Z(),D(!1)}catch(je){console.error(je),g((je==null?void 0:je.message)||t("whatsappTemplates.messages.saveFailed",{defaultValue:"Failed to save template."}))}finally{_(!1)}}const he=()=>{n(-1)},B=W=>{O(W.id),y(le=>({...le,templateName:W.name,templateLanguage:W.language}))},re=()=>{var W,le;return w?K?(W=v.phoneFieldName)!=null&&W.trim()?v.requiresWhatsappOptIn&&!((le=v.consentFieldName)!=null&&le.trim())?t("whatsappTemplates.leadAutomation.errors.missingConsentField","If you require explicit opt-in, you must specify the consent field name."):!v.templateName||!v.templateLanguage?t("whatsappTemplates.leadAutomation.errors.missingTemplate","Please select an approved WhatsApp template."):null:t("whatsappTemplates.leadAutomation.errors.missingPhoneField","Please specify the phone field name from your lead forms."):t("whatsappTemplates.onboarding.errors.channelsNotReady","To enable this automation, connect both Facebook and WhatsApp in the Channels step."):null},ne=async W=>{e&&await _n(e,{leadWhatsappMessages200:W,leadWhatsappMessages500:!1,leadWhatsappMessages1000:!1})},ve=async()=>{if(e){k(!0),g(null);try{await ne(!1),n(`/onboarding/bots/${encodeURIComponent(e)}/plan`)}catch(W){console.error(W),g((W==null?void 0:W.message)||t("whatsappTemplates.onboarding.errors.save","Could not save Lead Ads configuration."))}finally{k(!1)}}},He=async()=>{if(!e)return;const W=re();if(W){g(W);return}k(!0),g(null);try{if(w){const le={phoneFieldName:v.phoneFieldName||"phone_number",consentFieldName:v.consentFieldName||"",requiresWhatsappOptIn:v.requiresWhatsappOptIn,templateName:v.templateName||"",templateLanguage:v.templateLanguage||""};await Lk(e,le),await ne(!0)}else await ne(!1);n(`/onboarding/bots/${encodeURIComponent(e)}/plan`)}catch(le){console.error(le),g((le==null?void 0:le.message)||t("whatsappTemplates.onboarding.errors.save","Could not save Lead Ads configuration."))}finally{k(!1)}};return e?u?r.jsx(Ir,{currentStep:"leadAds",botId:e,title:t("whatsappTemplates.onboarding.title","Connect Facebook Lead Ads and WhatsApp automation"),subtitle:t("whatsappTemplates.onboarding.subtitle","Choose or create a WhatsApp template and map the fields from your Lead Ads forms."),layout:"full",children:r.jsx("p",{className:"muted",children:t("common.loading","Loading")})}):r.jsx(Ir,{currentStep:"leadAds",botId:e,title:t("whatsappTemplates.onboarding.title","Connect Facebook Lead Ads and WhatsApp automation"),subtitle:t("whatsappTemplates.onboarding.subtitle","Choose or create a WhatsApp template and map the fields from your Lead Ads forms."),layout:"full",children:r.jsxs("div",{className:"leadads-layout",children:[r.jsxs("div",{className:"onboarding-section-header",children:[r.jsx("div",{}),r.jsx("button",{type:"button",className:"btn-secondary btn-color",onClick:ve,disabled:C,children:t("whatsappTemplates.onboarding.common.skip","Skip for now")})]}),!K&&r.jsxs("div",{className:"alert alert-warning leadads-warning",children:[r.jsx("div",{className:"alert-title",children:t("whatsappTemplates.onboarding.warningTitle","Connect channels to activate automation")}),r.jsxs("div",{className:"alert-body",children:[!U&&t("whatsappTemplates.onboarding.warningFacebook","Connect a Facebook page in the Channels step so Coslo can read new leads."),!U&&!z&&" ",!z&&t("whatsappTemplates.onboarding.warningWhatsapp","Connect a WhatsApp Business number in the Channels step to send messages.")]})]}),f&&r.jsx("div",{className:"form-error",children:f}),r.jsxs("div",{className:"leadads-status-row",children:[r.jsxs("div",{className:"leadads-status-main",children:[r.jsx("span",{className:"leadads-status-label",children:t("whatsappTemplates.onboarding.requirementsTitle","Connection status")}),r.jsxs("div",{className:"leadads-status-pills",children:[r.jsxs("span",{className:"leadads-status-pill",children:[r.jsx("span",{className:"leadads-status-dot leadads-status-dot--fb"}),"Facebook"," ",U?t("common.connected","connected"):t("common.notConnected","not connected")]}),r.jsxs("span",{className:"leadads-status-pill",children:[r.jsx("span",{className:"leadads-status-dot leadads-status-dot--wa"}),"WhatsApp"," ",z?t("common.connected","connected"):t("common.notConnected","not connected")]})]})]}),r.jsxs("div",{className:"leadads-toggle",children:[r.jsxs("label",{className:"booking-toggle",children:[r.jsx("input",{type:"checkbox",checked:w,disabled:!K||C,onChange:W=>j(W.target.checked)}),r.jsx("span",{className:"booking-toggle-slider"}),r.jsx("span",{className:"booking-toggle-label",children:w?t("whatsappTemplates.onboarding.toggleOn","Lead Ads automation is ON"):t("whatsappTemplates.onboarding.toggleOff","Lead Ads automation is OFF")})]}),!K&&r.jsx("p",{className:"muted small",children:t("whatsappTemplates.onboarding.toggleDisabledHint","Connect both channels to turn this automation on.")}),w&&K&&r.jsx("p",{className:"muted small",children:t("whatsappTemplates.onboarding.toggleOnHint","New leads from your Facebook forms will automatically receive a WhatsApp message using the template below.")})]})]}),!w&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"leadads-disabled-hint",children:r.jsx("p",{className:"muted",children:t("whatsappTemplates.onboarding.disabledHint","You can keep Lead Ads automation turned off for now and still complete onboarding. Youll be able to come back here later from the app and turn it on.")})}),r.jsxs("div",{className:"onboarding-form-actions",style:{marginTop:"1.2rem"},children:[r.jsx("button",{className:"btn-secondary btn-color",type:"button",onClick:he,disabled:C,children:t("common.back","Back")}),r.jsx("button",{className:"btn-primary",type:"button",onClick:He,disabled:C,children:C?t("common.saving","Saving"):t("whatsappTemplates.onboarding.next","Review plan & pay")})]})]}),w&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"leadads-grid",children:[r.jsx("section",{className:"lead-card",children:r.jsxs("form",{onSubmit:W=>W.preventDefault(),className:"form",children:[r.jsx("header",{className:"lead-card-header",children:r.jsxs("div",{children:[r.jsx("h2",{children:t("whatsappTemplates.leadAutomation.title","Lead Ads  WhatsApp automation")}),r.jsx("p",{className:"lead-card-subtitle",children:t("whatsappTemplates.onboarding.automationHint","When a new lead arrives from Meta, Coslo will send a WhatsApp template and optionally check for explicit opt-in.")})]})}),b?r.jsx("p",{className:"muted",children:t("whatsappTemplates.leadAutomation.loading","Loading automation settings")}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"form-grid-2",children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:t("whatsappTemplates.leadAutomation.phoneField","Phone field name")}),r.jsx("input",{type:"text",value:v.phoneFieldName||"",onChange:W=>y(le=>({...le,phoneFieldName:W.target.value})),placeholder:"phone_number",required:!0}),r.jsx("div",{className:"muted small",children:t("whatsappTemplates.leadAutomation.phoneFieldHelp","Name of the form field that contains the phone number in the lead payload.")})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:t("whatsappTemplates.leadAutomation.consentField","Consent field name (optional)")}),r.jsx("input",{type:"text",value:v.consentFieldName||"",onChange:W=>y(le=>({...le,consentFieldName:W.target.value})),placeholder:"whatsapp_opt_in"}),r.jsx("div",{className:"muted small",children:t("whatsappTemplates.leadAutomation.consentFieldHelp","Name of the yes/no field used for WhatsApp consent.")})]})]}),r.jsx("div",{className:"form-field form-field-inline",children:r.jsxs("label",{className:"booking-toggle",children:[r.jsx("input",{type:"checkbox",checked:v.requiresWhatsappOptIn,onChange:W=>y(le=>({...le,requiresWhatsappOptIn:W.target.checked}))}),r.jsx("span",{className:"booking-toggle-slider"}),r.jsx("span",{className:"booking-toggle-label",children:t("whatsappTemplates.leadAutomation.requireOptIn","Require explicit WhatsApp opt-in")})]})}),r.jsx("hr",{}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:t("whatsappTemplates.leadAutomation.template","Template to send")}),r.jsxs("select",{value:v.templateName&&v.templateLanguage?`${v.templateName}:${v.templateLanguage}`:"",onChange:W=>{const le=W.target.value;y(Te=>{if(!le)return{...Te,templateName:"",templateLanguage:""};const[je,H]=le.split(":");return{...Te,templateName:je,templateLanguage:H}})},disabled:fe.length===0,required:!0,children:[r.jsx("option",{value:"",children:t("whatsappTemplates.leadAutomation.templatePlaceholder","Select an approved template")}),fe.map(W=>r.jsxs("option",{value:`${W.name}:${W.language}`,children:[W.name," (",W.language,")"]},W.id))]}),r.jsx("div",{className:"muted small",children:t("whatsappTemplates.leadAutomation.templateHelp","Template used for new leads from Meta. Only approved templates are available.")})]}),V&&r.jsx("div",{className:"leadads-template-preview",children:r.jsxs("p",{className:"muted small",children:[t("whatsappTemplates.onboarding.previewLabel","Selected template:")," ",r.jsxs("strong",{children:[V.name," (",V.language,")"]})]})}),r.jsx("p",{className:"muted small",children:t("whatsappTemplates.onboarding.autoSaveHint","Settings and templates will be saved when you click Review plan & pay.")})]})]})}),r.jsxs("section",{className:"lead-card",children:[r.jsxs("header",{className:"lead-card-header lead-card-header--row",children:[r.jsxs("div",{children:[r.jsx("h2",{children:t("whatsappTemplates.title","WhatsApp message templates")}),a&&r.jsx("p",{className:"lead-card-subtitle",children:t("whatsappTemplates.subtitle",{defaultValue:"Choose which template should be used for new leads from {{name}}.",name:a.name})})]}),r.jsx("button",{type:"button",className:"btn-primary btn-sm",onClick:ie,disabled:!z,children:t("whatsappTemplates.addTemplate","New template")})]}),p?r.jsx("p",{className:"muted",children:t("whatsappTemplates.loadingTemplates","Loading templates")}):z?l.length===0?r.jsxs("div",{className:"wa-template-empty",children:[r.jsx("p",{className:"muted",children:t("whatsappTemplates.empty","No WhatsApp templates found for this bot yet.")}),r.jsx("button",{type:"button",className:"btn-primary",onClick:ie,children:t("whatsappTemplates.emptyCta","Create your first template")})]}):r.jsx("div",{className:"lead-template-list",children:l.map(W=>{const le=W.name===v.templateName&&W.language===v.templateLanguage;return r.jsxs("button",{type:"button",className:"lead-template-row"+(le?" lead-template-row--active":""),onClick:()=>B(W),children:[r.jsxs("div",{className:"lead-template-main",children:[r.jsxs("div",{className:"lead-template-name",children:[W.name,r.jsxs("span",{className:"lead-template-language",children:[" "," ",W.language]})]}),r.jsx("div",{className:"lead-template-meta",children:r.jsx("span",{children:W.category})})]}),r.jsxs("div",{className:"lead-template-status",children:[r.jsx("span",{className:M9(W.status),children:W.status}),r.jsx("button",{type:"button",className:"btn-secondary btn-xs btn-color",onClick:Te=>{Te.stopPropagation(),ye(W)},disabled:!z,children:t("whatsappTemplates.actions.edit","Edit")})]})]},W.id)})}):r.jsx("p",{className:"muted",children:t("whatsappTemplates.templates.requireWhatsapp","Connect a WhatsApp number on the Channels step to sync and manage templates.")})]})]}),r.jsxs("div",{className:"form-actions",style:{marginTop:"1.2rem"},children:[r.jsx("button",{className:"btn-secondary btn-color",type:"button",onClick:he,disabled:C,children:t("common.back","Back")}),r.jsx("button",{className:"btn-primary",type:"button",onClick:He,disabled:C,children:C?t("common.saving","Saving"):t("whatsappTemplates.onboarding.next","Review plan & pay")})]})]}),I&&r.jsx("div",{className:"wa-template-modal-backdrop",children:r.jsxs("div",{className:"wa-template-modal",children:[r.jsxs("div",{className:"wa-template-modal-header",children:[r.jsx("h2",{children:M==="create"?t("whatsappTemplates.modal.createTitle","New WhatsApp template"):t("whatsappTemplates.modal.editTitle","Edit WhatsApp template")}),r.jsx("button",{type:"button",className:"btn-ghost btn-xs",onClick:Se,children:""})]}),r.jsxs("form",{onSubmit:X,className:"form",children:[r.jsxs("div",{className:"form-grid-2",children:[r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:t("whatsappTemplates.form.name","Template name")}),r.jsx("input",{type:"text",value:N.name,onChange:W=>$(W.target.value),disabled:M==="edit",placeholder:t("whatsappTemplates.form.namePlaceholder","e.g. order_update"),required:!0}),r.jsx("div",{className:"muted small",children:t("whatsappTemplates.form.nameHelp","Lowercase, numbers and underscores only. This is not visible to end users.")})]}),r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:t("whatsappTemplates.form.language","Language")}),r.jsx("input",{type:"text",value:N.language,onChange:W=>G("language",W.target.value),placeholder:"en_US",required:!0}),r.jsx("div",{className:"muted small",children:t("whatsappTemplates.form.languageHelp","Use WhatsApp language codes like en_US, it_IT, es_ES")})]})]}),r.jsx("div",{className:"form-grid-2",children:r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:t("whatsappTemplates.form.category","Category")}),r.jsxs("select",{value:N.category,onChange:W=>G("category",W.target.value),children:[r.jsx("option",{value:"UTILITY",children:t("whatsappTemplates.category.utility","Utility")}),r.jsx("option",{value:"MARKETING",children:t("whatsappTemplates.category.marketing","Marketing")}),r.jsx("option",{value:"AUTHENTICATION",children:t("whatsappTemplates.category.authentication","Authentication")})]})]})}),r.jsx("hr",{}),r.jsxs("div",{className:"form-section",children:[r.jsx("div",{className:"form-field form-field-inline",children:r.jsxs("label",{children:[r.jsx("input",{type:"checkbox",checked:N.headerEnabled,onChange:W=>G("headerEnabled",W.target.checked)})," ",t("whatsappTemplates.form.header","Header (optional)")]})}),N.headerEnabled&&r.jsxs("div",{className:"form-field",children:[r.jsx("textarea",{value:N.headerText,onChange:W=>G("headerText",W.target.value),maxLength:60,placeholder:t("whatsappTemplates.form.headerPlaceholder","Short title shown above the body")}),r.jsx("div",{className:"muted small",children:t("whatsappTemplates.form.headerHelp","Up to 60 characters. You can use variables like {{1}}.")})]})]}),r.jsx("div",{className:"form-section",children:r.jsxs("div",{className:"form-field",children:[r.jsx("label",{children:t("whatsappTemplates.form.body","Body")}),r.jsx("textarea",{value:N.bodyText,onChange:W=>G("bodyText",W.target.value),rows:5,placeholder:t("whatsappTemplates.form.bodyPlaceholder","Main message text. Use {{1}}, {{2}},  for variables."),required:!0}),r.jsx("div",{className:"muted small",children:t("whatsappTemplates.form.bodyHelp","Keep it clear and concise. Variables will be filled at send time.")})]})}),r.jsxs("div",{className:"form-section",children:[r.jsx("div",{className:"form-field form-field-inline",children:r.jsxs("label",{children:[r.jsx("input",{type:"checkbox",checked:N.footerEnabled,onChange:W=>G("footerEnabled",W.target.checked)})," ",t("whatsappTemplates.form.footer","Footer (optional)")]})}),N.footerEnabled&&r.jsx("div",{className:"form-field",children:r.jsx("textarea",{value:N.footerText,onChange:W=>G("footerText",W.target.value),maxLength:60,placeholder:t("whatsappTemplates.form.footerPlaceholder","Small line below the message (e.g. legal or brand).")})})]}),r.jsxs("div",{className:"form-section",children:[r.jsxs("div",{className:"form-field",children:[r.jsxs("div",{className:"form-label-row",children:[r.jsx("label",{children:t("whatsappTemplates.form.buttons","Buttons")}),r.jsx("button",{type:"button",className:"btn-secondary btn-xs btn-color",onClick:ae,children:t("whatsappTemplates.form.addButton","Add button")})]}),r.jsx("div",{className:"muted small",children:t("whatsappTemplates.form.buttonsHelp","Optional quick reply, URL or phone buttons.")})]}),N.buttons.map(W=>r.jsxs("div",{className:"wa-template-button-row form-grid-3",children:[r.jsx("div",{className:"form-field",children:r.jsxs("select",{value:W.type,onChange:le=>de(W.id,{type:le.target.value,url:le.target.value==="URL"?W.url:void 0,phone_number:le.target.value==="PHONE_NUMBER"?W.phone_number:void 0}),children:[r.jsx("option",{value:"QUICK_REPLY",children:t("whatsappTemplates.buttons.quickReply","Quick reply")}),r.jsx("option",{value:"URL",children:t("whatsappTemplates.buttons.url","URL")}),r.jsx("option",{value:"PHONE_NUMBER",children:t("whatsappTemplates.buttons.phone","Phone number")})]})}),r.jsx("div",{className:"form-field",children:r.jsx("input",{type:"text",value:W.text,onChange:le=>de(W.id,{text:le.target.value}),placeholder:t("whatsappTemplates.buttons.textPlaceholder","Button label"),required:!0})}),r.jsxs("div",{className:"form-field form-field-inline",children:[W.type==="URL"&&r.jsx("input",{type:"url",value:W.url||"",onChange:le=>de(W.id,{url:le.target.value}),placeholder:"https://example.com",required:!0}),W.type==="PHONE_NUMBER"&&r.jsx("input",{type:"tel",value:W.phone_number||"",onChange:le=>de(W.id,{phone_number:le.target.value}),placeholder:"+1 555 123456",required:!0}),r.jsx("button",{type:"button",className:"btn-ghost btn-xs",onClick:()=>Q(W.id),children:t("whatsappTemplates.buttons.remove","Remove")})]})]},W.id))]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"submit",className:"btn-primary",disabled:L,children:L?t("common.saving","Saving"):M==="create"?t("whatsappTemplates.actions.create","Create template"):t("whatsappTemplates.actions.update","Update template")})})]})]})})]})}):null},Xm=(e,t)=>new Intl.NumberFormat("en-GB",{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:2}).format(e/100),z9=()=>{const{id:e}=Ft(),{t}=Le(),n=tn(),a=K=>K==null?t("botPlan.plans.unlimited","Unlimited"):(K/10).toLocaleString("en-GB"),i={free:K=>[{id:"energy",label:t("botPlan.features.free.energy","{{amount}} Energy",{amount:a(K.monthlyTokens)}),available:!0},{id:"emails",label:t("botPlan.features.free.emails","Up to 20 emails"),available:!0},{id:"whatsapp",label:t("botPlan.features.free.whatsapp","No WhatsApp messages"),available:!1},{id:"leadads",label:t("botPlan.features.free.leadAds","Lead Ads not included"),available:!1},{id:"mobile",label:t("botPlan.features.free.mobileApp","Mobile app not included"),available:!1}],starter:K=>[{id:"energy",label:t("botPlan.features.starter.energy","{{amount}} Energy",{amount:a(K.monthlyTokens)}),available:!0},{id:"emails",label:t("botPlan.features.starter.emails","Up to 200 emails"),available:!0},{id:"whatsapp",label:t("botPlan.features.starter.whatsapp","Up to 200 WhatsApp messages"),available:!0},{id:"leadads",label:t("botPlan.features.starter.leadAds","Lead Ads included"),available:!0},{id:"mobile",label:t("botPlan.features.starter.mobileApp","Mobile app included"),available:!0},{id:"support",label:t("botPlan.features.starter.support","Dedicated support not included"),available:!1}],growth:K=>[{id:"energy",label:t("botPlan.features.growth.energy","{{amount}} Energy",{amount:a(K.monthlyTokens)}),available:!0},{id:"emails",label:t("botPlan.features.growth.emails","Up to 1,000 emails"),available:!0},{id:"whatsapp",label:t("botPlan.features.growth.whatsapp","Up to 1,000 WhatsApp messages"),available:!0},{id:"leadads",label:t("botPlan.features.growth.leadAds","Lead Ads included"),available:!0},{id:"mobile",label:t("botPlan.features.growth.mobileApp","Mobile app included"),available:!0},{id:"support",label:t("botPlan.features.growth.support","Dedicated support included"),available:!0}],scale:K=>[{id:"energy",label:t("botPlan.features.scale.energy","{{amount}} Energy",{amount:a(K.monthlyTokens)}),available:!0},{id:"emails",label:t("botPlan.features.scale.emails","Up to 5,000 emails"),available:!0},{id:"whatsapp",label:t("botPlan.features.scale.whatsapp","Up to 5,000 WhatsApp messages"),available:!0},{id:"leadads",label:t("botPlan.features.scale.leadAds","Lead Ads included"),available:!0},{id:"mobile",label:t("botPlan.features.scale.mobileApp","Mobile app included"),available:!0},{id:"support",label:t("botPlan.features.scale.support","Dedicated support included"),available:!0}],default:K=>[{id:"energy",label:t("botPlan.features.default.energy","{{amount}} Energy",{amount:a(K.monthlyTokens)}),available:!0}]},s="growth",o=K=>{const Z=K.name.toLowerCase();return(i[Z]??i.default)(K)},l=K=>K.name.toLowerCase()===s,[c,u]=m.useState(null),[d,p]=m.useState([]),[h,f]=m.useState(!0),[g,v]=m.useState(null),[y,b]=m.useState([]),[x,w]=m.useState(!1),[j,C]=m.useState(null),[k,E]=m.useState(null),[O,M]=m.useState(!1),[P,T]=m.useState(null);m.useEffect(()=>{if(!e)return;const K=e;f(!0),v(null),w(!0),Promise.all([hn(K),ci(K),Ck()]).then(([Z,oe,fe])=>{u(Z),p(oe),b(fe),fe.length>0&&E(fe[0].id)}).catch(Z=>{console.error("Failed to load onboarding plan data",Z),v((Z==null?void 0:Z.message)||t("botPlan.errors.loadFailed"))}).finally(()=>{f(!1),w(!1)})},[e]);const S=K=>d.some(Z=>Z.type===K),N=c==null?void 0:c.useCalendar,A=c&&(c.leadWhatsappMessages200||c.leadWhatsappMessages500||c.leadWhatsappMessages1000),L=()=>{e&&n(`/onboarding/bots/${encodeURIComponent(e)}/lead-ads`)},_=K=>{E(K),T(null)},I=async()=>{if(!e||!c||!k)return;const K=c.status==="ACTIVE";M(!0),v(null),T(null);try{if(K){await jk(e,{usagePlanId:k}),T(t("botPlan.success.planUpdatedProration"));const Z=await hn(e);u(Z)}else{const Z=Fk(),oe={usagePlanId:k};Z&&(oe.referralCode=Z);const{checkoutUrl:fe}=await xk(e,oe);window.location.href=fe}}catch(Z){console.error(Z),v((Z==null?void 0:Z.message)||t("botPlan.errors.updateFailed"))}finally{M(!1)}};if(!e)return null;const D=t("botPlan.onboarding.title","Choose your plan and start using Coslo"),F=t("botPlan.onboarding.subtitle","Weve preconfigured your channels, bookings and Lead Ads. Now pick the plan that matches your volume."),R=y.find(K=>K.id===k)||null,z=R?Xm(R.monthlyAmountCents,R.currency):null,U=(c==null?void 0:c.status)==="ACTIVE";return r.jsx(Ir,{currentStep:"plan",botId:e,title:D,subtitle:F,layout:"full",children:r.jsxs("div",{className:"onb-plan-layout",children:[g&&r.jsx("div",{className:"form-error",children:g}),P&&r.jsxs("div",{className:"alert alert-success",children:[r.jsx("div",{className:"alert-title",children:t("botPlan.success.title","Plan updated")}),r.jsx("div",{className:"alert-body",children:P})]}),r.jsxs("section",{className:"onb-plan-summary-card",children:[r.jsxs("header",{className:"onb-plan-summary-header",children:[r.jsxs("div",{children:[r.jsx("h2",{children:t("botPlan.onboarding.summaryTitle","Configuration summary")}),r.jsx("p",{className:"onb-plan-summary-subtitle",children:t("botPlan.onboarding.summarySubtitle","Heres what youve configured for this bot so far.")})]}),c&&r.jsxs("span",{className:"onb-plan-status-pill",children:[t("botPlan.summary.statusLabel","Status:")," ",r.jsx("strong",{children:c.status})]})]}),h||!c?r.jsx("p",{className:"muted",children:t("common.loading","Loading")}):r.jsxs("ul",{className:"onb-plan-summary-list",children:[r.jsxs("li",{children:[r.jsx("span",{className:"onb-plan-summary-label",children:t("botPlan.onboarding.summary.channels","Channels")}),r.jsxs("span",{className:"onb-plan-summary-value",children:[["WEB","WHATSAPP","FACEBOOK","INSTAGRAM"].filter(K=>S(K)).join(", ")||t("botPlan.onboarding.summary.none","None configured"),"  ",r.jsx(ue,{to:`/onboarding/bots/${encodeURIComponent(c.id)}/channels`,children:t("botPlan.onboarding.edit","Edit")})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"onb-plan-summary-label",children:t("botPlan.onboarding.summary.booking","Bookings")}),r.jsxs("span",{className:"onb-plan-summary-value",children:[N?t("botPlan.onboarding.summary.enabled","Enabled"):t("botPlan.onboarding.summary.disabled","Disabled"),"  ",r.jsx(ue,{to:`/onboarding/bots/${encodeURIComponent(c.id)}/booking`,children:t("botPlan.onboarding.edit","Edit")})]})]}),r.jsxs("li",{children:[r.jsx("span",{className:"onb-plan-summary-label",children:t("botPlan.onboarding.summary.leadAds","Lead Ads  WhatsApp")}),r.jsxs("span",{className:"onb-plan-summary-value",children:[A?t("botPlan.onboarding.summary.enabled","Enabled"):t("botPlan.onboarding.summary.disabled","Disabled"),"  ",r.jsx(ue,{to:`/onboarding/bots/${encodeURIComponent(c.id)}/lead-ads`,children:t("botPlan.onboarding.edit","Edit")})]})]})]})]}),r.jsxs("div",{className:"onb-plan-grid",children:[r.jsxs("section",{className:"onb-plan-card",children:[r.jsxs("header",{className:"onb-plan-card-header",children:[r.jsx("h2",{children:t("botPlan.plans.title","Plans")}),r.jsx("p",{className:"onb-plan-card-subtitle",children:t("botPlan.plans.subtitle","Pick the plan that matches your expected usage. You can change it later.")})]}),x&&r.jsx("p",{className:"muted",children:t("botPlan.plans.loading","Loading plans")}),j&&r.jsx("p",{className:"form-error",children:j}),!x&&y.length===0&&!j&&r.jsx("p",{className:"muted",children:t("botPlan.plans.empty","No plans available.")}),y.length>0&&r.jsx("div",{className:"onb-plan-cards",children:y.map(K=>{const Z=K.id===k,oe=o(K),fe=l(K);return r.jsx("button",{type:"button",className:"onb-plan-card-item"+(Z?" onb-plan-card-item--selected":""),onClick:()=>_(K.id),children:r.jsx("div",{className:"onb-plan-card-inner",children:r.jsxs("div",{className:"onb-plan-card-copy",children:[r.jsxs("div",{className:"onb-plan-card-header-row",children:[r.jsx("div",{className:"onb-plan-card-name",children:K.name}),fe&&r.jsx("span",{className:"onb-plan-badge-popular",children:t("botPlan.plans.mostPopular","Most popular")})]}),r.jsxs("div",{className:"onb-plan-card-price",children:[Xm(K.monthlyAmountCents,K.currency),r.jsxs("span",{className:"onb-plan-card-price-period",children:["/",t("botPlan.perMonth","month")]})]}),K.description&&r.jsx("p",{className:"onb-plan-card-description",children:K.description}),r.jsx("ul",{className:"onb-plan-card-meta",children:r.jsxs("li",{children:[t("botPlan.plans.tokensPerMonthLabel","Energy per month"),":"," ",r.jsx("strong",{children:a(K.monthlyTokens)})]})}),r.jsx("ul",{className:"onb-plan-features",children:oe.map(V=>r.jsxs("li",{className:"onb-plan-feature",children:[r.jsx("span",{className:"onb-plan-feature-icon "+(V.available?"onb-plan-feature-icon--ok":"onb-plan-feature-icon--off"),children:V.available?"":""}),r.jsx("span",{className:"onb-plan-feature-text",children:V.label})]},V.id))})]})})},K.id)})})]}),r.jsxs("section",{className:"onb-plan-card onb-plan-card--side",children:[r.jsxs("header",{className:"onb-plan-card-header",children:[r.jsx("h2",{children:t("botPlan.summary.title","Monthly cost summary")}),r.jsx("p",{className:"onb-plan-card-subtitle",children:t("botPlan.summary.subtitle","Features, selected plan and combined total.")})]}),r.jsx("h3",{className:"onb-plan-side-heading",children:t("botPlan.summary.featuresSubtotal","Configured features")}),r.jsx("h3",{className:"onb-plan-side-heading",children:t("botPlan.summary.selectedPlan","Selected plan")}),R?r.jsxs("div",{className:"onb-plan-summary-lines",children:[r.jsxs("div",{className:"onb-plan-summary-line",children:[r.jsx("span",{className:"onb-plan-summary-line-label",children:R.name}),r.jsxs("span",{className:"onb-plan-summary-line-amount",children:[Xm(R.monthlyAmountCents,R.currency),"/",t("botPlan.perMonth","month")]})]}),r.jsxs("div",{className:"onb-plan-summary-line",children:[r.jsx("span",{className:"onb-plan-summary-line-label",children:t("botPlan.plans.tokensPerMonthLabel","Energy per month")}),r.jsx("span",{className:"onb-plan-summary-line-amount",children:a(R.monthlyTokens)})]})]}):r.jsx("p",{className:"muted",children:t("botPlan.summary.noPlanSelected","Select a plan on the left to see details.")}),R&&r.jsx("ul",{className:"onb-plan-features onb-plan-features--summary",children:o(R).map(K=>r.jsxs("li",{className:"onb-plan-feature",children:[r.jsx("span",{className:"onb-plan-feature-icon "+(K.available?"onb-plan-feature-icon--ok":"onb-plan-feature-icon--off"),children:K.available?"":""}),r.jsx("span",{className:"onb-plan-feature-text",children:K.label})]},K.id))}),r.jsxs("div",{className:"onb-plan-summary-total onb-plan-summary-total--strong",children:[r.jsx("span",{children:t("botPlan.summary.totalPerMonth","Estimated total per month")}),r.jsx("strong",{children:z??t("botPlan.summary.selectPlanToSeeTotal","Select a plan to see the total")})]})]})]}),r.jsxs("div",{className:"onboarding-form-actions",style:{marginTop:"1.2rem"},children:[r.jsx("button",{className:"btn-secondary btn-color",type:"button",onClick:L,disabled:O,children:t("common.back","Back")}),r.jsx("button",{className:"btn-primary",type:"button",onClick:I,disabled:O||!R,children:O?U?t("botPlan.actions.updating","Updating"):t("botPlan.actions.redirecting","Redirecting"):U?t("botPlan.actions.changePlan","Change plan"):t("botPlan.actions.activatePay","Activate & pay")})]})]})})},_9=4e3,R9=()=>{const{t:e}=Le(),{id:t}=Ft(),n=tn(),[a,i]=m.useState(null),[s,o]=m.useState(!0),[l,c]=m.useState(""),[u,d]=m.useState(!1),[p,h]=m.useState("idle"),[f,g]=m.useState(null),[v,y]=m.useState(null),[b,x]=m.useState(!1),[w,j]=m.useState(null);m.useEffect(()=>{t&&(o(!0),j(null),hn(t).then(N=>{i(N),c(N.domain||""),N.knowledgeClientId&&N.domain?(h("completed"),y(e("botKnowledge.onboarding.status.readyExisting","Your content is already indexed. You can re-index anytime to keep Coslo up to date."))):h("idle")}).catch(N=>{console.error(N),j((N==null?void 0:N.message)||e("botKnowledge.onboarding.errors.loadBot","Unable to load this bot right now."))}).finally(()=>o(!1)))},[t,e]),m.useEffect(()=>{if(!t||!f)return;let N=!1,A=null;const L=async()=>{try{const _=await Jh(t,f);if(N||!_.job)return;const I=_.job;I.status==="completed"?(h("completed"),y(e("botKnowledge.onboarding.status.completed","Knowledge ready. Coslo now understands your website.")),A&&window.clearInterval(A)):I.status==="failed"?(h("failed"),y(I.errorMessage||e("botKnowledge.onboarding.status.failed","The crawl failed. Check your domain and try again.")),A&&window.clearInterval(A)):(h("running"),y(e("botKnowledge.onboarding.status.running","Indexing in progress. You can already use your bot while we finish crawling.")))}catch(_){console.error(_),N||y(e("botKnowledge.onboarding.status.pollError","Were having trouble refreshing the status, but the crawl is still running."))}};return L().catch(()=>{}),A=window.setInterval(()=>{L().catch(()=>{})},_9),()=>{N=!0,A&&window.clearInterval(A)}},[t,f,e]);let C,k="neutral";switch(p){case"running":C=e("botKnowledge.onboarding.statusPill.running","Indexing in progress"),k="info";break;case"completed":C=e("botKnowledge.onboarding.statusPill.completed","Knowledge ready"),k="success";break;case"failed":C=e("botKnowledge.onboarding.statusPill.failed","Crawl failed"),k="warn";break;default:C=e("botKnowledge.onboarding.statusPill.idle","Not started yet")}const E=!!l.trim()&&!b&&!!a&&t!=null,O=!!(a!=null&&a.domain)&&!!(a!=null&&a.knowledgeClientId),M=p==="completed"||O,P=async N=>{if(N.preventDefault(),!(!t||!a)){d(!0),j(null);try{const A=await _n(t,{domain:l.trim()||null});i(A)}catch(A){console.error(A),j((A==null?void 0:A.message)||e("botKnowledge.onboarding.errors.saveDomain","Unable to save this domain."))}finally{d(!1)}}},T=async()=>{if(!(!t||!a||!l.trim())){j(null),x(!0),h("running"),y(e("botKnowledge.onboarding.status.running","Indexing in progress. You can already use your bot while we finish crawling."));try{const N=await _n(t,{domain:l.trim()});i(N);const A=await Sk(t,l.trim());g(A.jobId)}catch(N){console.error(N),h("failed"),y((N==null?void 0:N.message)||e("botKnowledge.onboarding.errors.crawlFailed","We couldnt start the crawl. Please check your domain and try again."))}finally{x(!1)}}},S=()=>{n("/app/dashboard")};return r.jsx(Ir,{currentStep:"knowledge",botId:t,layout:"full",title:e("botKnowledge.onboarding.title","Were preparing your bots knowledge"),subtitle:e("botKnowledge.onboarding.subtitle","Connect your website so Coslo can crawl it and answer detailed, up-to-date questions."),children:s?r.jsx("div",{className:"knowledge-shell",children:r.jsx("p",{className:"muted",children:"Loading"})}):r.jsx("div",{className:"knowledge-shell",children:r.jsx("section",{className:"knowledge-hero knowledge-hero--light",children:r.jsxs("div",{className:"knowledge-hero-inner",children:[r.jsxs("div",{className:"knowledge-main",children:[r.jsxs("div",{className:"knowledge-status-row",children:[r.jsx("span",{className:["knowledge-status-pill",`knowledge-status-pill--${k}`].join(" "),children:C}),v&&r.jsx("span",{className:"knowledge-status-caption",children:v})]}),r.jsx("h2",{className:"knowledge-main-title",children:e("botKnowledge.onboarding.heroTitle","Teach Coslo about your website in one click")}),r.jsx("p",{className:"knowledge-main-copy",children:e("botKnowledge.onboarding.heroBody","Well crawl your main domain to extract FAQs, help articles and key pages so your assistant feels like a real member of your team.")}),w&&r.jsx("div",{className:"alert alert-warn knowledge-alert",children:w}),r.jsx("form",{className:"knowledge-form",onSubmit:P,autoComplete:"off",children:r.jsxs("label",{className:"knowledge-field",children:[r.jsx("span",{className:"knowledge-field-label",children:e("botKnowledge.onboarding.domainLabel","Website domain")}),r.jsxs("div",{className:"knowledge-domain-row",children:[r.jsxs("div",{className:"knowledge-domain-input-wrap",children:[r.jsx("span",{className:"knowledge-domain-prefix",children:""}),r.jsx("input",{type:"url",className:"knowledge-input",placeholder:e("botKnowledge.onboarding.domainPlaceholder","https://your-website.com"),value:l,onChange:N=>c(N.target.value)})]}),r.jsx("button",{type:"submit",className:"btn-secondary btn-color",disabled:u||!l.trim(),children:u?e("botKnowledge.onboarding.savingDomain","Saving"):e("botKnowledge.onboarding.saveDomain","Save domain")})]}),r.jsx("p",{className:"knowledge-field-hint",children:e("botKnowledge.onboarding.domainHint","We only use publicly available pages and always respect your robots.txt.")})]})}),r.jsxs("div",{className:"knowledge-actions",children:[r.jsx("button",{type:"button",className:"btn-primary knowledge-primary-cta btn-color",onClick:T,disabled:!E,children:b||p==="running"?e("botKnowledge.onboarding.btnIndexing","Indexing website"):p==="completed"?e("botKnowledge.onboarding.btnReindex","Re-index website"):e("botKnowledge.onboarding.btnStartIndexing","Start indexing")}),r.jsx("button",{type:"button",className:"btn-secondary knowledge-secondary-cta btn-color",onClick:S,disabled:!M,children:e("botKnowledge.onboarding.goToDashboard","Go to dashboard")})]}),!M&&r.jsx("p",{className:"knowledge-dash-hint",children:e("botKnowledge.onboarding.dashboardHint","Well unlock the dashboard button right after the first index is completed.")})]}),r.jsxs("aside",{className:"knowledge-side knowledge-side--light",children:[r.jsx("div",{className:"knowledge-orb",children:r.jsxs("div",{className:"knowledge-orb-inner",children:[r.jsx("div",{className:"knowledge-orb-pulse"}),r.jsx("div",{className:"knowledge-orb-core",children:r.jsx("span",{children:""})})]})}),r.jsxs("div",{className:"knowledge-steps",children:[r.jsxs("div",{className:["knowledge-step",l.trim()?"knowledge-step--done":"knowledge-step--idle"].join(" "),children:[r.jsx("span",{className:"knowledge-step-bullet"}),r.jsxs("div",{className:"knowledge-step-body",children:[r.jsx("div",{className:"knowledge-step-title",children:e("botKnowledge.onboarding.step1.title","Connect your domain")}),r.jsx("div",{className:"knowledge-step-text",children:e("botKnowledge.onboarding.step1.text","Add the main website your customers use.")})]})]}),r.jsxs("div",{className:["knowledge-step",p==="running"?"knowledge-step--active":p==="completed"?"knowledge-step--done":"knowledge-step--idle"].join(" "),children:[r.jsx("span",{className:"knowledge-step-bullet"}),r.jsxs("div",{className:"knowledge-step-body",children:[r.jsx("div",{className:"knowledge-step-title",children:e("botKnowledge.onboarding.step2.title","Coslo crawls your pages")}),r.jsx("div",{className:"knowledge-step-text",children:e("botKnowledge.onboarding.step2.text","We follow links, extract content and clean it up.")})]})]}),r.jsxs("div",{className:["knowledge-step",p==="completed"||O?"knowledge-step--done":"knowledge-step--idle"].join(" "),children:[r.jsx("span",{className:"knowledge-step-bullet"}),r.jsxs("div",{className:"knowledge-step-body",children:[r.jsx("div",{className:"knowledge-step-title",children:e("botKnowledge.onboarding.step3.title","Your bot answers like a pro")}),r.jsx("div",{className:"knowledge-step-text",children:e("botKnowledge.onboarding.step3.text","Use Coslo in any channel, backed by your sites content.")})]})]})]})]})]})})})})},B9=()=>r.jsxs("div",{className:"app-root",children:[r.jsx(rz,{}),r.jsxs(tD,{children:[r.jsxs(xe,{element:r.jsx(Hx,{}),children:[r.jsx(xe,{path:"/",element:r.jsx(yF,{})}),r.jsx(xe,{path:"/policy",element:r.jsx(SF,{})}),r.jsx(xe,{path:"/terms",element:r.jsx(jz,{})}),r.jsx(xe,{path:"/login",element:r.jsx(XF,{})}),r.jsx(xe,{path:"/register",element:r.jsx(ez,{})}),r.jsx(xe,{path:"/verify-email",element:r.jsx(tz,{})}),r.jsx(xe,{path:"/demo/:slug",element:r.jsx(gF,{})})]}),r.jsx(xe,{path:"/widget/:slug",element:r.jsx(F7,{})}),r.jsxs(xe,{path:"/onboarding",element:r.jsx(ym,{children:r.jsx(Hx,{})}),children:[r.jsx(xe,{path:"bots/new",element:r.jsx(S9,{})}),r.jsx(xe,{path:"bots/:id/channels",element:r.jsx(P9,{})}),r.jsx(xe,{path:"bots/:id/booking",element:r.jsx(O9,{})}),r.jsx(xe,{path:"bots/:id/lead-ads",element:r.jsx(F9,{})}),r.jsx(xe,{path:"bots/:id/plan",element:r.jsx(z9,{})}),r.jsx(xe,{path:"bots/:id/knowledge",element:r.jsx(R9,{})})]}),r.jsxs(xe,{path:"/app",element:r.jsx(ym,{children:r.jsx(qx,{})}),children:[r.jsx(xe,{index:!0,element:r.jsx(sC,{})}),r.jsx(xe,{path:"dashboard",element:r.jsx(sC,{})}),r.jsx(xe,{path:"bots",element:r.jsx(cz,{})}),r.jsx(xe,{path:"bots/new",element:r.jsx(uz,{})}),r.jsx(xe,{path:"bots/:id",element:r.jsx(dz,{})}),r.jsx(xe,{path:"bots/:id/channels",element:r.jsx(pz,{})}),r.jsx(xe,{path:"bots/:id/conversations",element:r.jsx(mz,{})}),r.jsx(xe,{path:"bots/:id/knowledge",element:r.jsx(yz,{})}),r.jsx(xe,{path:"bots/:id/features",element:r.jsx(xz,{})}),r.jsx(xe,{path:"bots/:id/plan",element:r.jsx(R7,{})}),r.jsx(xe,{path:"bots/:id/settings",element:r.jsx(B7,{})}),r.jsx(xe,{path:"billing",element:r.jsx(Ez,{})}),r.jsx(xe,{path:"account",element:r.jsx(Vz,{})}),r.jsx(xe,{path:"bots/:id/whatsapp-templates",element:r.jsx(lz,{})}),r.jsx(xe,{path:"referrals",element:r.jsx(Kn,{allowed:["REFERRER","ADMIN"],children:r.jsx(K7,{})})}),r.jsx(xe,{path:"admin/referrals",element:r.jsx(Kn,{allowed:["ADMIN"],children:r.jsx(Y7,{})})}),r.jsx(xe,{path:"admin/referrals/partners/:id",element:r.jsx(Kn,{allowed:["ADMIN"],children:r.jsx(Z7,{})})}),r.jsx(xe,{path:"admin/users",element:r.jsx(Kn,{allowed:["ADMIN"],children:r.jsx(e9,{})})}),r.jsx(xe,{path:"admin/bots",element:r.jsx(Kn,{allowed:["ADMIN"],children:r.jsx(n9,{})})}),r.jsx(xe,{path:"admin/bookings",element:r.jsx(Kn,{allowed:["ADMIN"],children:r.jsx(r9,{})})}),r.jsx(xe,{path:"admin/emails",element:r.jsx(Kn,{allowed:["ADMIN"],children:r.jsx(o9,{})})}),r.jsx(xe,{path:"admin/payments",element:r.jsx(Kn,{allowed:["ADMIN"],children:r.jsx(c9,{})})}),r.jsx(xe,{path:"admin/openai-usage",element:r.jsx(Kn,{allowed:["ADMIN"],children:r.jsx(d9,{})})}),r.jsx(xe,{path:"admin/integrations",element:r.jsx(Kn,{allowed:["ADMIN"],children:r.jsx(f9,{})})}),r.jsx(xe,{path:"admin/plans",element:r.jsx(Kn,{allowed:["ADMIN"],children:r.jsx(j9,{})})})]}),r.jsx(xe,{path:"/app/conversations/:id",element:r.jsx(ym,{children:r.jsx(qx,{})}),children:r.jsx(xe,{index:!0,element:r.jsx(gz,{})})}),r.jsx(xe,{path:"*",element:r.jsx($9,{})})]})]}),$9=()=>r.jsxs("div",{className:"page-container",children:[r.jsx("h2",{children:"Page not found"}),r.jsxs("p",{children:["Check the URL or go back to the ",r.jsx("a",{href:"/",children:"home page"}),"."]})]}),{slice:U9,forEach:W9}=[];function H9(e){return W9.call(U9.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function q9(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const NC=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,K9=function(e,t){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(t);let s=`${e}=${i}`;if(a.maxAge>0){const o=a.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(a.domain){if(!NC.test(a.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${a.domain}`}if(a.path){if(!NC.test(a.path))throw new TypeError("option path is invalid");s+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(s+="; HttpOnly"),a.secure&&(s+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a.partitioned&&(s+="; Partitioned"),s},kC={create(e,t,n,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),a&&(i.domain=a),document.cookie=K9(e,t,i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let a=0;a<n.length;a++){let i=n[a];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var V9={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return kC.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:a,cookieDomain:i,cookieOptions:s}=t;n&&typeof document<"u"&&kC.create(n,e,a,i,s)}},G9={name:"querystring",lookup(e){var a;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((a=window.location.hash)==null?void 0:a.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(n=o[l].substring(c+1))}}return n}},Y9={name:"hash",lookup(e){var i;let{lookupHash:t,lookupFromHashIndex:n}=e,a;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const o=s.substring(1);if(t){const l=o.split("&");for(let c=0;c<l.length;c++){const u=l[c].indexOf("=");u>0&&l[c].substring(0,u)===t&&(a=l[c].substring(u+1))}}if(a)return a;if(!a&&n>-1){const l=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(i=l[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return a}};let Pi=null;const PC=()=>{if(Pi!==null)return Pi;try{if(Pi=typeof window<"u"&&window.localStorage!==null,!Pi)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Pi=!1}return Pi};var Q9={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&PC())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&PC()&&window.localStorage.setItem(n,e)}};let Ai=null;const AC=()=>{if(Ai!==null)return Ai;try{if(Ai=typeof window<"u"&&window.sessionStorage!==null,!Ai)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Ai=!1}return Ai};var Z9={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&AC())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&AC()&&window.sessionStorage.setItem(n,e)}},X9={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:a,language:i}=navigator;if(n)for(let s=0;s<n.length;s++)t.push(n[s]);a&&t.push(a),i&&t.push(i)}return t.length>0?t:void 0}},J9={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const a=t||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(n=a.getAttribute("lang")),n}},eY={name:"path",lookup(e){var i;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}},tY={name:"subdomain",lookup(e){var i,s;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,a=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(a)return a[n]}};let TI=!1;try{document.cookie,TI=!0}catch{}const II=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];TI||II.splice(1,1);const nY=()=>({order:II,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class OI{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=H9(n,this.options||{},nY()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(V9),this.addDetector(G9),this.addDetector(Q9),this.addDetector(Z9),this.addDetector(X9),this.addDetector(J9),this.addDetector(eY),this.addDetector(tY),this.addDetector(Y9)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(a=>{if(this.detectors[a]){let i=this.detectors[a].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(a=>a!=null&&!q9(a)).map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(t,this.options)}))}}OI.type="languageDetector";const aY={language:{en:"English",it:"Italian",es:"Spanish"},error:"Error",saving:"Saving...",loading:"Loading",back:"Back"},rY={noSlug:"No bot slug provided.",loading:"Loading bot...",errorTitle:"Error",notFoundTitle:"Bot not found",notFoundBody:"Please check the link you were given.",defaultError:"Failed to load bot"},iY={hero:{title:"Why choose our Artificial Intelligence platform?",subtitle:"Transform your business with an AI assistant that supports customers 24/7, responds instantly and handles the repetitive operational flows that waste your time.",ctaPrimary:"Get started",ctaSecondary:"Log in",note:"A digital assistant always available on your website, social channels and messaging, designed to answer customer questions and handle common support and booking flows using your business information.",badge:"Coslo  AI assistant for your business",altHero:"Coslo, your AI assistant"},intro:{title:"Continuous, precise and truly useful assistance",imageAlt:"Coslo always working 24/7 at the computer",p1:"Our platform is designed to simplify companies' work, increase conversions and offer customers a communication experience that is modern, smooth and immediate.",p2:"Thanks to an advanced system for automation and content understanding, your business can guarantee constant, consistent and high-quality support without increasing the workload of your internal team.",p3:"Here youll find in detail all the features that make our AI assistant a truly essential tool for your business."},multichannel:{title:"Multichannel: present wherever your customers are",p1:"People expect quick answers, without having to switch channels or wait hours. Thats why the AI assistant integrates with the tools your customers use every day.",p2:"This way your brand is always reachable and ready to interact, improving the user experience and increasing conversion opportunities.",cards:{webWidget:{title:"Web widget",text:"Integrated directly into your website, always visible and active 24/7 to answer questions and guide users towards action."},whatsapp:{title:"WhatsApp",text:"The most widely used messaging channel: perfect for support, quick requests and instant bookings."},messenger:{title:"Facebook Messenger",text:"Ideal for following up with users coming from your campaigns and social content, without missing any conversation."},instagram:{title:"Instagram Direct",text:"Perfect for capturing questions and requests that arise from posts, reels and stories, turning them into contacts and opportunities."}}},knowledge:{title:"Deep knowledge of your content",imageAlt:"Coslo studying your content",labels:{pdf:"PDF",site:"Website",faq:"FAQ"},p1:"The assistant doesnt just generate generic answers: it responds based on your materials and what you publish online.",p2:"Thanks to an advanced crawling and analysis system, the platform:",list:{l1:"autonomously browses your website,",l2:"reads and understands the content of your PDFs,",l3:"processes texts, FAQs, guides, articles and technical documentation,",l4:"organises all information into a clear and consistent knowledge base."},p3:"This way the assistant can reflect your business: products, services, internal processes, specific terminology and strengths. The result is answers that stay accurate, precise and consistent with your brand identity as your sources evolve.",p4:"You dont need ad-hoc texts: its enough to use what you already have, and the assistant will do the rest."},booking:{title:"Real, confirmed bookings directly in your Google Calendar",p1:"The assistant isnt just informational support, but a real operational collaborator. One of the most appreciated features is the complete management of bookings.",p2:"Heres what it can do on its own:",list:{l1:"propose available dates and time slots,",l2:"collect customer data (name, contact details, request),",l3:"confirm the appointment in real time,",l4:"create the event in your Google Calendar with all the details."},p3:"No more scattered messages, cross-checks or appointments written down by hand: the flow is simple, automated and minimises errors and time waste.",calendar:{header:"Google Calendar",event1:{time:"14:00",title:"Client appointment",subtitle:"Mario Rossi  Consultation"},event2:{time:"16:30",title:"Product demo",subtitle:"Laura Bianchi  Presentation"}}},growth:{title:"An assistant that grows with your company",imageAlt:"Coslo building your AI assistant",p1:"Every new document and every update to your website helps keep the assistants answers accurate and aligned over time. The platform evolves together with your business.",p2:"You can use it, for example, for:",p3:"Its like having a digital assistant thats always available, able to answer simple and complex business questions and to take care of the most repetitive tasks for you.",pills:{p1:"Customer support",p2:"Bookings and appointments",p3:"Replies to social contacts",p4:"Lead generation",p5:"Technical support",p6:"Information management"}},benefits:{title:"Why companies that try it never go back",cards:{c1:{title:"Reduced response times",text:"You improve customer satisfaction thanks to quick and consistent answers at any time of day."},c2:{title:"More contacts and bookings",text:"Multichannel presence increases touchpoints and lets you turn more conversations into appointments or sales opportunities."},c3:{title:"Smart automation",text:"By delegating repetitive tasks to AI, your team can focus on strategic activities that generate more value."},c4:{title:"Brand consistency",text:"Answers are aligned with your information, tone of voice and brand guidelines, without improvisation."}}},miniCoslo:{title:"Coslo talks to your customers like a real assistant",imageAlt:"Coslo  AI assistant",p1:"Customer chats are handled with a natural, professional tone: Coslo answers FAQs, suggests appointments and collects important data without wasting your teams time.",p2:"Below you can see a simplified example of what a typical conversation with your customers might look like.",bubbleUser:"Hi Coslo, can I reschedule my appointment for tomorrow?",bubbleBot:"Of course! Just tell me the day and time you prefer and Ill update the calendar right away."},cta:{title:"Take your business into the future",text:"In an increasingly competitive market, the quality and speed of communication make the difference. With our AI assistant you can offer a modern, professional and fully automated experience.",primaryCta:"Get started",secondaryCta:"Access your area"}},sY={pageTitle:"Log in to your Coslo space",subtitle:"Manage your AI assistants, review conversations and update settings in just a few clicks.",bullets:{b1:"A single dashboard for all your channels",b2:"Real-time statistics on bot performance",b3:"Secure access with two-factor authentication"},cardTitle:"Login",email:"Email",password:"Password",submit:"Log in",submitting:"Logging in...",divider:"or",noAccount:"Dont have an account yet?",register:"Sign up",googleError:"Google login failed",loginError:"Login failed",mfaTitle:"Two-factor authentication",mfaSubtitle:"Open your authenticator app (Google Authenticator, 1Password, Authy, etc.) and enter the 6-digit code to finish logging in.",mfaCodeLabel:"Security code",mfaSubmit:"Confirm and log in",mfaSubmitting:"Verifying...",mfaError:"Invalid code. Please try again.",backToCredentials:"Back to email and password login",mfaHelp:"No longer have access to your authentication app? Use one of the backup codes you saved when you enabled 2FA."},oY={pageTitle:"Create your Coslo account",subtitle:"In just a few minutes you connect your channels and have an AI assistant ready to answer your customers 24/7.",bullets:{b1:"Multi-channel (web, WhatsApp, social, calendar)",b2:"Guided and customizable configuration",b3:"Multi-tenant plan designed for agencies and teams"},cardTitle:"Sign up",email:"Email",password:"Password",passwordConfirm:"Confirm password",submit:"Create account",submitting:"Creating account...",success:"Registration completed! Check your email and verify your account before logging in.",errorGeneric:"Registration failed",errorPasswordMismatch:"Passwords do not match",errorPasswordRequirements:"The password does not meet the requirements. Please check the list below the password field.",pwTitle:"Password requirements:",pwRules:{minLength:"At least 8 characters",uppercase:"At least one uppercase letter (AZ)",lowercase:"At least one lowercase letter (az)",digit:"At least one digit (09)",special:"At least one special character (e.g. !@#$%^&*)"},alreadyAccount:"Already have an account?",login:"Log in"},lY={title:"Verify email",loading:"We are verifying your email...",missingToken:"Verification token missing.",successDefault:"Email successfully verified!",invalidOrExpired:"Invalid or expired token.",genericError:"Verification failed.",backToLogin:"You can now go back to",loginLink:"login"},cY={sidebarTitle:"Dashboard",brandSmall:"Coslo - AI Assistant",logout:"Logout",nav:{dashboard:"Dashboard",bots:"Bots",billing:"Billing",profile:"Profile"},aria:{openNav:"Open navigation",closeNav:"Close navigation"}},uY={title:"Billing & usage",subtitle:"See your active bot subscriptions, usage this month and payment history.",loading:"Loading billing data...",activeSubscriptions:"Active subscriptions",totalMonthlyAcrossAllBots:"Total monthly across all bots:",thisMonth:"This month:",tokens:"Energy",of:"of",noActiveSubscriptions:"You don't have any active subscriptions yet.",slugLabel:"Slug",perMonth:"month",breakdown:{features:"Features",plan:"Plan"},usageThisMonth:"Usage this month:",noConfiguredLimit:"(no configured limit)",subscriptionStatus:{active:"Active",pastDue:"Past due",canceled:"Canceled",trial:"Trial",unpaid:"Unpaid",incomplete:"Incomplete",incompleteExpired:"Incomplete (expired)"},usageStatus:{overLimit:"Over limit",atLimit:"At limit",highUsage:"High usage",healthyUsage:"Healthy usage"},paymentHistory:{title:"Payment history",empty:"No payments recorded yet.",table:{date:"Date",bot:"Bot",amount:"Amount",status:"Status",period:"Period"}},invoice:{ariaDownload:"Download invoice",ariaOpening:"Opening invoice",titleDownload:"Download invoice",titleOpening:"Opening",srDownload:"Download invoice",srOpening:"Opening invoice"},errors:{loadFailed:"Failed to load billing overview",invoiceUnavailable:"Invoice is not available for this payment.",invoiceDownloadFailed:"Failed to download invoice."}},dY={title:"Dashboard",subtitle:"Overview of your bots, conversations and energy usage.",loading:"Loading dashboard data...",actions:{createNewBot:"+ Create new bot"},empty:{title:"No bots yet",subtitle:"Start by creating your first bot. Once traffic arrives, youll see conversations, energy usage and top performers here.",cta:"Create your first bot"},kpis:{totalBots:"Total bots",activeBots:"Active bots",conversationsLast30Days:"Conversations (last 30 days)",tokensThisMonth:"Energy used (this month)"},kpisHints:{totalBots:"All bots created under this account.",activeBots:"Bots currently live and serving traffic.",conversationsLast30Days:"Across all channels & bots.",tokensThisMonth:"Useful to keep an eye on costs."},charts:{conversationsLast10Days:{title:"Conversations (last 10 days)",subtitle:"Each line represents a bot. Hover or tap to see daily volumes.",empty:"No conversations yet in the last 10 days."},tokensLast10Days:{title:"Energy usage (last 10 days)",subtitle:"Total Energy per day for each bot.",empty:"No Energy usage recorded yet in the last 10 days."},topBots:{title:"Top bots by conversations",subtitle:"Last 30 days, ranked by conversation volume.",empty:"No conversations yet in the last 30 days."}},activity:{title:"Activity details",subtitle:"Quick view of your most active bots.",empty:"No active bots in the last 30 days.",lastConversation:"Last conversation",convAbbrev:"conv.",view:"View"},errors:{loadFailed:"Failed to load dashboard"}},pY={pageTitle:"Account",pageSubtitle:"Manage your profile information, login and security.",loading:"Loading account...",confirmDelete:"This will permanently delete your account, all your bots and their data. This action cannot be undone. Continue?",common:{cancel:"Cancel"},profile:{title:"Profile",subtitle:"This information is visible inside your dashboard only.",avatarAlt:"Avatar",displayName:{label:"Display name",placeholder:"Your name or company name"},avatarUrl:{label:"Avatar URL",placeholder:"https://",help:"You can paste a link to an image (e.g. from your site or logo CDN)."},actions:{save:"Save profile",saving:"Saving"},success:"Profile updated."},security:{title:"Login & security",emailLabel:"Email",loginMethodLabel:"Login method",loginMethod:{google:"Google",emailPassword:"Email & password",unknown:"Unknown"},googleOnlyNoteStrongPrefix:"This account uses",googleSignInStrong:"Google Sign-In",googleOnlyNoteSuffix:"Password login is not enabled."},password:{current:{label:"Current password"},new:{label:"New password",help:"At least 8 characters, with upper & lower case, a number and a symbol."},confirm:{label:"Confirm new password"},actions:{change:"Change password",updating:"Updating"},success:"Password updated.",errors:{mismatch:"New password and confirmation do not match."}},mfa:{title:"Two-factor authentication",subtitle:"Extra protection for your account using an authenticator app. After login, you'll be asked for a 6-digit code from your phone.",statusLabel:"Status",status:{enabled:"Enabled",disabled:"Disabled"},recommendation:"We strongly recommend enabling two-factor authentication, especially if you reuse this email elsewhere or share devices.",setup:{step1Title:"1. Scan the QR code",step1Body:"Open your authenticator app (Google Authenticator, 1Password, Authy, etc.) and scan this code. If you can't scan the QR code, enter the secret manually.",manualSecretLabel:"Manual secret:",step2Title:"2. Enter the 6-digit code",step2Body:"After you've added the account to your app, enter the current 6-digit code to confirm everything works.",codeLabel:"Code from your app"},actions:{enable:"Enable two-factor authentication",preparing:"Preparing",confirmEnable:"Confirm & enable 2FA",verifying:"Verifying",disabling:"Disabling"},enabledNote:"At each login, after your primary method (email/password or Google), we'll ask for a 6-digit code from your authenticator app.",backupCodes:{title:"Backup codes (save now)",body:"These codes are shown only once. Save them somewhere safe (password manager, secure note, printed copy). Each code can be used one time if you lose access to your phone.",copyAll:"Copy all codes"},disable:{intro:"If you ever change device or authenticator app, you can disable 2FA and set it up again.",open:"Disable two-factor authentication",confirmBody:"For your security, confirm with a code from your authenticator app or with a backup code.",codeLabel:"Code from your app (6 digits)",backupCodeLabel:"Or a backup code",confirm:"Confirm disable 2FA"},success:{enabledSaveBackupCodes:"Two-factor authentication enabled. Save your backup codes in a safe place.",disabled:"Two-factor authentication disabled.",backupCodesCopied:"Backup codes copied to clipboard. Store them somewhere safe."},errors:{startFailed:"Failed to start two-factor authentication setup.",confirmFailed:"Could not confirm the code. Check the code and try again.",disableRequiresCode:"Enter a code from your authenticator app or a backup code.",disableFailed:"Could not disable two-factor authentication. Check the code and try again.",backupCodesCopyFailed:"Unable to copy codes automatically. Please copy them manually and store them somewhere safe."}},danger:{title:"Danger zone",subtitle:"Permanently delete your account and all your bots, conversations, documents and usage data. This action cannot be undone.",passwordConfirm:{label:"Confirm with your password",help:"For your security, we require your current password to delete the account."},googleNote:"This account uses Google Sign-In. Click the button below to confirm with Google and delete your account and all associated bots and data.",actions:{delete:"Delete my account",deleting:"Deleting",deletingInline:"Deleting your account"},unsupported:"This account does not support self-service deletion yet."},errors:{loadFailed:"Failed to load account",updateProfileFailed:"Failed to update profile.",changePasswordFailed:"Failed to change password.",deleteFailed:"Failed to delete account."}},mY={title:"Features",subtitle:"Step 1  configure channels, crawlers and booking for {{botName}}. These options influence your subscription price.",backToBot:" Back to overview",missingId:"Missing bot ID.",loadingBot:"Loading bot...",errorTitle:"Error",notFoundTitle:"Bot not found",calendarIncomplete:"Calendar booking is enabled but calendar ID or time zone is missing. Fill them below to allow bookings to work properly.",perMonth:"month",groups:{knowledge:"Knowledge features",channels:"Channels",calendar:"Bookings & calendar",leadAds:"Lead Ads"},knowledge:{domain:{title:"Domain crawler (website content)",description:"Automatically scan your website so the bot always answers with fresh, up-to-date content."},pdf:{title:"PDF / document ingestion",description:"Upload manuals, brochures or documents and let the bot answer questions based on them."}},channels:{web:{title:"Web widget & hosted demo",description:"Embed a chat widget on your site and get a hosted demo link to share with your customers."},whatsapp:{title:"WhatsApp",description:"Connect your bot to WhatsApp so customers can chat with you from anywhere."},messenger:{title:"Facebook Messenger",description:"Answer questions directly on your Facebook page via Messenger."},instagram:{title:"Instagram DM",description:"Reply to Instagram direct messages automatically with your bot."}},calendar:{title:"Google Calendar bookings",description:"Let the bot schedule meetings directly in your Google Calendar, with availability checks and time zones handled for you.",fields:{calendarId:"Google Calendar ID",timeZone:"Business time zone",defaultDuration:"Default appointment duration (minutes)"},placeholders:{calendarId:"your-calendar-id@group.calendar.google.com",timeZone:"Europe/Rome"}},leadAds:{whatsapp:{title:"Lead Ads  WhatsApp",description:"Automatically send a WhatsApp message to new leads from your Meta lead forms.",selectTier:"Select a WhatsApp messages tier",requiresWhatsapp:"This feature requires the WhatsApp channel to be enabled."}},actions:{save:"Save features",saving:"Saving...",next:"Next: choose plan & pay",viewChangePlan:"View / change plan",cancelSubscription:"Cancel subscription",cancelling:"Cancelling...",backToBot:" Back to overview"},side:{title:"Plan & billing",statusLabel:"Status:",subtitle:"Step 2  choose a usage plan and confirm payment. The total price is: features subtotal + usage plan.",loadingPricing:"Loading pricing",featuresSubtotal:"Features subtotal",featuresTotalPerMonth:"Features total (per month)",nextNote:"You'll be redirected to a Stripe checkout page to confirm your subscription."},success:{featuresUpdated:"Features updated.",subscriptionCanceled:"Subscription canceled and bot deactivated.",saved:"Features updated."},errors:{loadBot:"Failed to load bot",updateFeatures:"Failed to update bot features",loadPricing:"Unable to load pricing right now.",cancelSubscription:"Failed to cancel subscription",saveFeatures:"Failed to update bot features"}},hY={title:"Plan & billing",subtitle:"Step 2  choose a usage plan for {{botName}}. Final price = features subtotal + plan.",backToFeatures:" Back to features",missingId:"Missing bot ID.",loading:"Loading plan options...",errorTitle:"Error",notFoundTitle:"Bot not found",perMonth:"month",plans:{title:"Usage plans",subtitle:"Pick how much usage you expect. You can change your plan later.",loading:"Loading plans",empty:"No usage plans are configured yet. Please contact support.",tokensPerMonth:"Energy per month:",tokensPerMonthLabel:"Energy per month",unlimited:"Unlimited",select:"Select this plan",selected:"Selected",planImageAlt:"{{planName}} plan",mostPopular:"Most popular"},summary:{title:"Summary",statusLabel:"Status:",subtitle:"Final price = features subtotal + selected usage plan.",featuresSubtotal:"Features subtotal",loadingPricing:"Loading pricing",featuresTotalPerMonth:"Features total (per month)",selectedPlan:"Selected plan",noPlanSelected:"No plan selected.",totalPerMonth:"Total per month",selectPlanToSeeTotal:"Select a plan to see total"},actions:{activatePay:"Activate & Pay",changePlan:"Change plan",redirecting:"Redirecting...",updating:"Updating..."},notes:{redirectToStripe:"You'll be redirected to Stripe to confirm and pay for this bot.",proration:"Your subscription will be updated immediately. Stripe will apply prorated charges/credits."},success:{planUpdatedProration:"Plan updated. Stripe has applied proration to your subscription.",title:"Plan updated"},errors:{loadFailed:"Failed to load plan data",selectPlan:"Please select a plan.",updateFailed:"Failed to update plan"},onboarding:{title:"Choose your plan and start using Coslo",subtitle:"Weve preconfigured your channels, bookings and Lead Ads. Now pick the plan that matches your volume.",summaryTitle:"Configuration summary",summarySubtitle:"Heres what youve configured for this bot so far.",summary:{channels:"Channels",none:"None configured",booking:"Bookings",leadAds:"Lead Ads  WhatsApp",enabled:"Enabled",disabled:"Disabled"},edit:"Edit"},features:{free:{energy:"{{amount}} Energy",emails:"Up to 20 emails",whatsapp:"No WhatsApp messages",leadAds:"Lead Ads not included",mobileApp:"Mobile app not included"},starter:{energy:"{{amount}} Energy",emails:"Up to 200 emails",whatsapp:"Up to 200 WhatsApp messages",leadAds:"Lead Ads included",mobileApp:"Mobile app included",support:"Dedicated support not included"},growth:{energy:"{{amount}} Energy",emails:"Up to 1,000 emails",whatsapp:"Up to 1,000 WhatsApp messages",leadAds:"Lead Ads included",mobileApp:"Mobile app included",support:"Dedicated support included"},scale:{energy:"{{amount}} Energy",emails:"Up to 5,000 emails",whatsapp:"Up to 5,000 WhatsApp messages",leadAds:"Lead Ads included",mobileApp:"Mobile app included",support:"Dedicated support included"},default:{energy:"{{amount}} Energy"}}},fY={title:"Conversations",subtitle:"All conversations across web, WhatsApp, Facebook Messenger and Instagram.",missingId:"Missing bot ID.",loading:"Loading conversations...",empty:"No conversations yet.",notEvaluated:"Not evaluated",backToBot:" Back to overview",actions:{evaluateSelected:"Evaluate selected",evaluateSelectedCount:"Evaluate selected ({{count}})",evaluatingSelected:"Evaluating selected...",evaluate:"Evaluate",reevaluate:"Re-evaluate",evaluating:"Evaluating...",view:"View"},pagination:{total:"Total conversations: {{total}}",pageOf:"Page {{page}} of {{totalPages}}",prev:"Previous",next:"Next"},table:{selectAll:"Select all conversations on this page",selectRow:"Select conversation",channel:"Channel",externalUser:"External user",lastMessage:"Last message",score:"Score"},errors:{loadFailed:"Failed to load conversations",evalFailed:"Failed to evaluate conversation",bulkEvalFailed:"Failed to bulk evaluate conversations",someFailed:"Some conversations could not be evaluated (e.g. too short or other errors)."}},gY={title:"Create new bot",subtitle:"Step 1: choose a name and a slug. You can configure channels, knowledge, bookings and billing after this.",fields:{name:"Name",slug:"Slug",slugHelp:"Used in demo URLs, widget, and internal routing.",description:"Description (optional)"},actions:{create:"Create bot",creating:"Creating..."},errors:{createFailed:"Failed to create bot"},onboarding:{title:"Create your first Coslo bot",subtitle:"Give your assistant a name and a short description. You can change this later.",intro:"This information is used in the dashboard and in your internal tools, not in the public widget.",namePlaceholder:"e.g. Acme Support Assistant",slugPlaceholder:"e.g. acme-support",descriptionPlaceholder:"Optional. A short sentence about what this bot does."}},vY={missingId:"Missing bot ID.",loading:"Loading bot...",errorTitle:"Error",notFoundTitle:"Bot not found",slugLabel:"Slug:",actions:{openDemo:"Open demo",activatePay:"Activate & Pay",viewPlanBilling:"View plan & billing",saveBasics:"Save basics",saving:"Saving..."},basics:{title:"Bot basics",subtitle:"High-level description and core behavior for this assistant.",descriptionLabel:"Description",descriptionPlaceholder:"Short description of what this bot does...",systemPromptLabel:"System prompt (advanced behavior)",systemPromptPlaceholder:"Internal instructions the AI must always follow...",systemPromptHelp:"This is not shown to end users. Use it to define tone, boundaries and special rules for the bot.",autoEvalLabel:"Automatic conversation evaluation",autoEvalHelp:"Automatically score conversations in the background to help you monitor quality. This uses your bot's energy plan but does not affect users."},health:{title:"Health overview",botStatusTitle:"Bot status",knowledgeTitle:"Knowledge status",channelsTitle:"Channels status",calendarTitle:"Calendar status",evalTitle:"Conversation evaluation",badges:{configured:"Configured",disabled:"Disabled",enabledNotInitialized:"Enabled, not initialized",enabledNotConfigured:"Enabled, not configured",noChannelsEnabled:"No channels enabled",allChannelsConfigured:"All enabled channels configured",someChannelsNeedSetup:"Some channels need setup"},botStatus:{active:"This bot is active and ready to handle conversations.",draft:"This bot is not active yet. You can activate it from the billing flow.",inactive:"This bot is currently not active. Check your plan & billing or contact support if this is unexpected."},knowledge:{disabled:"Domain crawler / PDF ingestion are disabled for this bot.",enabledNotInitialized:"Knowledge features are enabled, but no crawl/upload has initialized the knowledge base yet.",configured:"Knowledge base is created and can be used for answers."},channels:{and:"and configure them in",none:"No channels are enabled yet. Enable them in",enabledList:"Enabled channels: {{channels}}. All of them have the required configuration.",missingConfig:"Some enabled channels are missing required configuration: {{missing}}. Go to"},calendar:{disabled:"Google Calendar bookings are disabled. You can enable them in Features & Plan.",enabledNotConfigured:"Calendar bookings are enabled, but calendar ID, time zone or duration are missing. Configure them in Features & Plan.",configured:"Bookings use Google Calendar ({{calendarId}}) in {{timeZone}}, with default duration of {{duration}} minutes."},eval:{automatic:"Automatic",manual:"Manual only",automaticDesc:"New conversations may be automatically scored in the background to help you monitor quality.",manualDesc:"Conversations are only evaluated when you trigger it manually from the Conversations section."}},channels:{names:{web:"Web",whatsapp:"WhatsApp",messenger:"Facebook Messenger",instagram:"Instagram DM"},missing:{webDomain:"Web domain",whatsappExternalId:"WhatsApp external ID",facebookPageId:"Facebook Page ID",instagramBusinessId:"Instagram Business ID"}},workspace:{title:"Bot workspace",subtitle:"Jump to configuration and monitoring areas for this bot."},billing:{title:"Current billing",perMonth:"month",totalPerMonth:"Total per month",manage:"Manage plan & billing"},nav:{featuresPlan:"Features & Plan",featuresPlanDesc:"Enable channels, crawlers and choose the usage plan.",knowledge:"Content & Knowledge",knowledgeDesc:"Upload documents and configure how the bot learns.",channels:"Channels",channelsDesc:"Connect WhatsApp, website, Facebook and Instagram.",conversations:"Conversations",conversationsDesc:"Review user chats and debug bot behavior.",settings:"Booking Settings",settingsDesc:"Manage your booking settings",adsSettings:"Lead ADS Settings",adsSettingsDesc:"Manage your lead ads settings"},success:{basicsUpdated:"Bot basics updated successfully."},errors:{loadBot:"Failed to load bot",updateBot:"Failed to update bot",loadPricing:"Unable to load current plan pricing."}},bY={title:"Channels",subtitle:"Connect your bot to web, WhatsApp, Facebook Pages and Instagram Business profiles.",backToBot:" Back to overview",missingId:"Missing bot ID.",loading:"Loading channels...",labels:{facebookPage:"Facebook Page",instagramBusiness:"Instagram Business Profile",whatsapp:"WhatsApp",whatsappBusiness:"WhatsApp Business",webWidget:"Web widget"},status:{notConnected:"Not connected",active:"Active",connected:"Connected",connectedUnknownExpiry:"Connected (expiry unknown)",needsReconnect:"Needs reconnect",expiringSoon:"Expiring soon",expired:"Expired"},meta:{loadingPages:"Loading Meta pages...",sessionLoadFailed:"Failed to load Meta session",selectTitle:"Select {{channel}}",selectSubtitle:"We retrieved the pages you manage from Meta. Choose which one to link to this bot.",selectPlaceholder:"Select a page...",instagramEligiblePagesLabel:"Page with Instagram Business account",instagramHint:"Only pages with an attached Instagram Business account can be used for Instagram.",connectedViaMeta:"Connected via Meta",permissionsDialog:{titleFacebook:"Review access for Facebook",titleInstagram:"Review access for Instagram",introFacebook:"Before you continue with Facebook, please review the access this app will receive from Meta.",introInstagram:"Before you continue with Instagram, please review the access this app will receive from Meta.",listTitle:"We will be able to:",facebook:{pagesShowList:"See the list of Facebook Pages you manage so you can choose which Page to connect.",pagesMessaging:"Read and send messages on your connected Page so your bot can reply to people via Messenger.",pagesManageMetadata:"Manage Page messaging settings and webhooks so we can receive new messages in real time.",businessManagement:"Access Facebook assets (Pages and Instagram accounts) you manage in Meta Business Manager in order to connect them to this bot."},instagram:{pagesShowList:"See the Facebook Pages linked to your Instagram Business account so you can choose which one to connect.",instagramBasic:"Read basic profile information (name, username, profile picture) of your Instagram Business account to show it inside the dashboard.",instagramManageMessages:"Read and send Instagram Direct messages so your bot can reply to DMs.",pagesManageMetadata:"Manage Page messaging settings and webhooks so we can receive new Instagram messages in real time.",businessManagement:"Access Facebook assets (Pages and Instagram accounts) you manage in Meta Business Manager in order to connect them to this bot."},checkboxLabel:"I understand and agree to grant this access.",continueFacebook:"Continue with Facebook",continueInstagram:"Continue with Instagram",footerNote:"You can revoke this access at any time from your Facebook and Instagram account settings."},selectModal:{titleFacebook:"Select a Facebook Page",titleInstagram:"Select a Page for Instagram",introFacebook:"We retrieved the Facebook Pages you can manage from Meta. Choose one Page to connect to this bot.",introInstagram:"We retrieved the Facebook Pages linked to your Instagram Business accounts. Choose one Page to connect.",personalGroupTitle:"Personal pages",businessGroupTitle:"Business managed pages",noPages:"No eligible pages were found for this connection.",editPreviousSettingsHint:'If you expected to see Instagram pages here, when the Facebook popup opens click "Edit previous settings" and make sure you select both your Facebook page and the connected Instagram account.'}},whatsapp:{selectNumberTitle:"Select WhatsApp number",selectNumberSubtitle:"We retrieved the WhatsApp numbers in your WhatsApp Business account. Choose which one to link to this bot.",numberLabel:"WhatsApp number",selectPlaceholder:"Select a number...",number:"Number: {{number}}",numberId:"Number ID: {{id}}"},connectSocial:{title:"Connect social channels",subtitle:"Use Meta login to connect your Facebook Page, Instagram Business account or WhatsApp Business number. We'll store the necessary tokens securely and keep your bot responding.",facebookDesc:"Connect a Facebook Page so your bot can respond via Messenger.",instagramDesc:"Connect an Instagram Business account to reply to DMs.",whatsappDesc:"Connect a WhatsApp Business number using embedded signup.",connectedPage:"Connected page",connectedAccount:"Linked business account",connectedNumber:"Connected number"},connected:{title:"Connected channels",subtitle:"Review and manage all channels attached to this bot.",empty:"No channels connected yet."},table:{type:"Type",details:"Details",status:"Status"},fields:{type:"Type",externalId:"External ID",accessToken:"Access token",metaJson:"Meta (JSON)"},placeholders:{metaJson:`{
  "example": true
}`},create:{title:"Add channel",metaWarning:"Facebook/Instagram channels must be connected via the Meta connect buttons above."},edit:{title:"Edit channel"},web:{externalId:"External ID: {{id}}",defaultWidget:"Default website widget"},generic:{externalId:"External ID: {{id}}"},actions:{connectSelected:"Connect selected",connecting:"Connecting...",cancel:"Cancel",connectFacebook:"Connect Facebook",reconnectFacebook:"Reconnect Facebook",connectInstagram:"Connect Instagram",reconnectInstagram:"Reconnect Instagram",connectWhatsapp:"Connect WhatsApp",reconnectWhatsapp:"Reconnect WhatsApp",connectingWhatsapp:"Connecting WhatsApp...",disconnect:"Disconnect",edit:"Edit",save:"Save",addChannel:"Add channel",create:"Create"},confirm:{deleteChannel:"Delete this channel?"},errors:{loadFailed:"Failed to load channels",createFailed:"Failed to create channel",updateFailed:"Failed to update channel",deleteFailed:"Failed to delete channel",metaSessionLoad:"Failed to load Meta session",metaAttachFailed:"Failed to attach Meta page",metaMustUseConnect:"Facebook/Instagram channels must be connected via the Meta connect buttons above.",metaManagedExternally:"Facebook and Instagram channels are managed via Meta. To update them, disconnect and reconnect using the buttons above.",facebookConnectFailed:"Failed to start Facebook connection",instagramConnectFailed:"Failed to start Instagram connection",whatsappEnvMissing:"WhatsApp signup is not configured. Please set VITE_META_APP_ID and VITE_WHATSAPP_EMBEDDED_CONFIG_ID.",whatsappCancelled:"WhatsApp signup was cancelled or did not complete.",whatsappSignupFailed:"Failed to complete WhatsApp embedded signup",whatsappInitFailed:"Failed to initialize WhatsApp signup",whatsappAttachFailed:"Failed to attach WhatsApp number"},onboarding:{common:{skip:"Skip for now"},channels:{title:"Where should Coslo talk with your customers?",subtitle:"Connect at least one channel now. You can always add more later from the dashboard.",meta:{title:"Meta inbox (Facebook & Instagram)",subtitle:"Connect your Facebook page and Instagram Business account so Coslo can reply to messages automatically.",toggleOn:"Meta inbox is ON",toggleOff:"Meta inbox is OFF",toggleOffHint:"Keep Meta inbox disabled if you don't want Coslo to reply on Facebook or Instagram for this bot.",disabledBody:"Meta inbox is disabled for this bot. Turn it on above if you want to connect Facebook or Instagram."},whatsapp:{title:"WhatsApp Business (embedded signup)",subtitle:"Connect a WhatsApp Business number using the official Meta embedded signup flow.",toggleOn:"WhatsApp is ON",toggleOff:"WhatsApp is OFF",toggleOffHint:"Keep WhatsApp disabled if you don't want Coslo to send messages on WhatsApp for this bot.",disabledBody:"WhatsApp is disabled for this bot. Turn it on above if you want to connect a number."},next:"Continue to bookings"}}},yY={title:"Content & Knowledge",subtitle:"Configure domain, prompt and trigger crawls or document ingestion for {{botName}}.",backToBot:" Back to overview",missingId:"Missing bot ID.",loadingBot:"Loading bot...",notFound:"Bot not found",featuresAndPlan:"Features & Plan",status:{knowledgeStatus:"Knowledge status",locked:"Locked",missing:"Missing"},lockedBody:"This bot is currently {{status}}. Activate it in",missingBody:"No knowledge base has been built yet. Crawl your domain or upload PDFs to give this bot real context.",feature:{enabled:"Feature enabled",disabled:"Feature disabled"},fields:{domain:"Domain",systemPrompt:"System prompt (for knowledge usage)"},placeholders:{domain:"https://example.com",systemPrompt:"Explain how the bot should use website / document knowledge in its answers..."},domainCard:{title:"Domain knowledge",description:"Configure the website to crawl and refine how the bot should use it in answers.",domainNote:"This domain is used when crawling your site and as context for knowledge search.",disabledNote:"Domain crawler is disabled for this bot. Enable it in"},docsCard:{title:"Documents & PDFs",description:"Upload PDFs and other documents to enrich the bot's knowledge with manuals, FAQs or product sheets.",disabledNote:"PDF ingestion is disabled for this bot. Enable it in",uploadLabel:"Upload one or more files",supportedFormats:"Supported formats: PDF, DOC, DOCX, TXT."},actions:{saveKnowledgeSettings:"Save knowledge settings",crawlNow:"Crawl domain now",crawling:"Crawling...",uploading:"Uploading and ingesting documents",estimateTokens:"Estimate energy",estimating:"Estimating..."},estimate:{crawlCostLabel:"Estimated crawl cost:",tokensUnit:"Energy",sampledPages:"(based on {{count}} sampled page(s))"},confirm:{uploadDocsEstimate:`Estimated Energy cost: ~{{tokens}} energy.

Do you want to upload and ingest these documents now?`},history:{title:"Crawl history",autoRefreshNote:"Auto-refresh updates only running rows on this page (every {{seconds}}s).",refreshPage:"Refresh page",refreshingPage:"Refreshing...",loadingRows:"Loading...",uploadInProgress:"Upload in progress",uploadedDocument:"Uploaded document",storedUnder:"Stored under: {{namespace}}",pagesStored:"{{count}} pages",refreshRow:"Refresh",refreshingRow:"Refreshing",prev:"Prev",next:"Next",tokenUsageNote:"Note: energy usage is best-effort, computed from usage events within the crawls time window.",footer:"Showing {{shown}} of {{total}}  page {{page}} / {{totalPages}} ({{pageSize}} per page)",empty:{noClient:"No knowledge client yet. Start a crawl or upload a document to initialize.",noRuns:"No crawl runs yet."},status:{queued:"queued",running:"running",completed:"completed",failed:"failed"},jobType:{docs:"DOCUMENT",domain:"DOMAIN"},table:{status:"Status",type:"Type",origin:"Origin",started:"Started",finished:"Finished",pages:"Pages",chunks:"Chunks",tokens:"Energy",actions:"Actions"}},success:{settingsUpdated:"Knowledge settings updated.",domainCrawlStarted:"Domain crawl started/completed for {{domain}}. The knowledge base will be refreshed shortly.",uploadedDocs:"Uploaded and ingested {{count}} document(s): {{files}}"},errors:{loadBot:"Failed to load bot",updateSettings:"Failed to update settings",mustBeActiveToCrawl:"This bot is not active yet. Activate it before crawling content.",mustBeActiveToUpload:"This bot is not active yet. Activate it before uploading documents.",domainRequired:"Please set a domain before crawling.",domainCrawlerDisabled:"Domain crawler feature is disabled for this bot.",pdfUploadDisabled:"PDF upload feature is disabled for this bot.",crawlFailed:"Failed to crawl domain",uploadFailed:"Failed to upload documents",estimateFailed:"Failed to estimate crawl cost."},onboarding:{title:"Were preparing your bots knowledge",subtitle:"Connect your website so Coslo can crawl it and answer detailed, up-to-date questions.",status:{readyExisting:"Your content is already indexed. You can re-index anytime to keep Coslo up to date.",completed:"Knowledge ready. Coslo now understands your website.",failed:"The crawl failed. Check your domain and try again.",running:"Indexing in progress. You can already use your bot while we finish crawling.",pollError:"Were having trouble refreshing the status, but the crawl is still running."},statusPill:{running:"Indexing in progress",completed:"Knowledge ready",failed:"Crawl failed",idle:"Not started yet"},errors:{loadBot:"Unable to load this bot right now.",saveDomain:"Unable to save this domain.",crawlFailed:"We couldnt start the crawl. Please check your domain and try again."},heroTitle:"Teach Coslo about your website in one click",heroBody:"Well crawl your main domain to extract FAQs, help articles and key pages so your assistant feels like a real member of your team.",domainLabel:"Website domain",domainPlaceholder:"https://your-website.com",savingDomain:"Saving",saveDomain:"Save domain",domainHint:"We only use publicly available pages and always respect your robots.txt.",btnIndexing:"Indexing website",btnReindex:"Re-index website",btnStartIndexing:"Start indexing",goToDashboard:"Go to dashboard",dashboardHint:"Well unlock the dashboard button right after the first index is completed.",step1:{title:"Connect your domain",text:"Add the main website your customers use."},step2:{title:"Coslo crawls your pages",text:"We follow links, extract content and clean it up."},step3:{title:"Your bot answers like a pro",text:"Use Coslo in any channel, backed by your sites content."}}},xY={title:"Your bots",loading:"Loading bots...",empty:"No bots yet.",table:{name:"Name",slug:"Slug",status:"Status",domain:"Domain",channels:"Channels",actions:"Actions"},channels:{web:"Web",whatsapp:"WhatsApp",messenger:"Messenger",instagram:"Instagram"},actions:{create:"Create new bot",openBot:"Open bot",deleteBot:"Delete bot"},confirm:{typeSlug:'Type the slug of this bot ("{{slug}}") to confirm deletion:',slugMismatch:"Slug does not match. Bot was not deleted.",deleteBot:'This will permanently delete bot "{{name}}" and all its conversations and data. Continue?'},errors:{loadFailed:"Failed to load bots",deleteFailed:"Failed to delete bot"}},wY={title:"Conversation",backToBots:" Back to overview",missingId:"Missing conversation ID.",loading:"Loading messages...",empty:"No messages.",roles:{user:"User",assistant:"Assistant",human:"Human",system:"System"},parties:{title:"Conversation parties",business:"Your channel",user:"Contact"},testSend:{title:"Test send (Meta verification)",description:"Send a manual test message to this contact using the connected channel. Intended only for Meta App verification.",placeholder:"Type a test message",button:"Send test message",sending:"Sending",empty:"Please enter a message before sending.",success:"Test message sent.",error:"Failed to send the test message."},manualSend:{title:"Manual reply (HUMAN)",description:"Send a manual reply as a human agent over this channel.",windowExpired:"You can no longer send manual messages: the last user message is more than 24 hours old on this channel. Meta requires templates beyond the 24h window.",placeholder:"Type a manual reply...",sending:"Sending...",button:"Send",success:"Message sent as HUMAN."},mode:{title:"Conversation mode",humanDescription:"Human handoff is active. The bot will not reply automatically to user messages.",aiDescription:"The AI assistant replies automatically to new user messages.",humanLabel:"HUMAN",aiLabel:"AI",switchingToHuman:"Switching",toHumanButton:"Switch to HUMAN (pause AI)",switchingToAi:"Switching",toAiButton:"Back to AI",error:"Failed to update conversation mode."},errors:{loadFailed:"Failed to load messages"}},jY={title:"Calendar & bookings",backToOverview:" Back to overview",featuresAndPlan:"Features & plan",missingId:"Missing bot id.",loading:"Loading bot settings",notFound:"Bot not found.",intro:"Connect this bot to your Google Calendar and fine-tune how bookings, reminders, and emails behave.",calendarDisabled:{title:"Calendar is disabled for this bot.",body:"Booking features will only be active once you enable the calendar add-on in"},sections:{calendarConnection:{title:"Calendar connection",hint:"Configure which Google Calendar the assistant should use and the default duration for new bookings."},bookingRules:{title:"Booking rules",hint:"Define how far in advance customers can book, and how close to the start time bookings are allowed."},reminderWindow:{title:"Reminder window",hint:"Control when reminder emails are sent relative to the appointment start time."},emails:{title:"Emails",hint:"Customize booking confirmation and reminder emails. You can use placeholders like"},bookingFields:{title:"Booking fields",hint:"These are the fields the assistant will try to collect when booking an appointment."},availability:{title:"Available days & hours",hint:"Choose which days you take bookings and the time ranges for each day.",addRange:"Add time range",removeRange:"Remove",note:"Bookings will only be accepted inside these ranges (in your bot's time zone).",enabledHint:"Bookings are allowed on this day within the time ranges below.",disabledHint:"Bookings are not allowed on this day until you enable it.",acceptBookings:"Accept bookings this day",from:"From",to:"To"}},weekdays:{monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},fields:{calendarId:{label:"Calendar ID",placeholder:"primary or your-calendar-id@group.calendar.google.com",help:"Use"},timeZone:{label:"Time zone",placeholder:"e.g. Europe/Rome",help:"IANA timezone name. The assistant uses it to compute available slots and email times."},defaultDurationMinutes:{label:"Default booking duration (minutes)",placeholder:"30",help:"Used when the user doesnt specify a duration explicitly."},bookingMinLeadHours:{label:"Minimum lead time (hours)",placeholder:"e.g. 2",help:"The appointment must start at least this many hours after it is created."},bookingMaxAdvanceDays:{label:"Maximum days in advance",placeholder:"e.g. 30",help:"Do not accept bookings further than this many days from now. Leave empty for no limit."},bookingMaxSimultaneousBookings:{label:"Maximum bookings per time slot",placeholder:"e.g. 1",help:"Limit how many bookings can be accepted for the same time slot. Leave empty for no limit."},bookingReminderWindowHours:{label:"Reminder window (hours before start)",placeholder:"e.g. 24",help:"Appointments starting within this many hours will be eligible for reminders."},bookingReminderMinLeadHours:{label:"Min hours between creation and start",placeholder:"e.g. 3",help:"Avoid sending reminders for last-minute bookings. Leave empty to disable this extra constraint."}},advanced:{prompt:"Need more control over booking rules, reminders and emails?",show:"Advanced settings",hide:"Hide advanced settings"},toggles:{confirmationEmail:"Send confirmation email after a new booking",reminderEmail:"Send reminder email before the appointment"},emailFields:{subject:"Subject",bodyText:"Body (text)",bodyHtmlOptional:"Body (HTML, optional)"},emailGroups:{confirmation:{title:"Confirmation email",subjectPlaceholder:"Your booking with {{bot.name}} is confirmed",textPlaceholder:`Hi {{client.name}},

your booking for {{booking.service}} on {{booking.start}} is confirmed.
If you need to reschedule, please contact us.

 {{bot.name}}`,htmlPlaceholder:"<p>Hi {{client.name}},</p><p>Your booking for {{booking.service}} on {{booking.start}} is confirmed.</p>",htmlHelp:"If provided, HTML will be used as the main email body. Keep it simple and mobile-friendly."},reminder:{title:"Reminder email",subjectPlaceholder:"Reminder: your booking with {{bot.name}}",textPlaceholder:`Hi {{client.name}},

this is a reminder for your booking {{booking.service}} on {{booking.start}}.

 {{bot.name}}`,htmlPlaceholder:"<p>Hi {{client.name}},</p><p>This is a reminder for your booking {{booking.service}} on {{booking.start}}.</p>",htmlHelp:"Leave empty to use the text-only version."},cancellation:{title:"Cancellation email",subjectPlaceholder:"Your booking with {{bot.name}} has been cancelled",textPlaceholder:`Hi {{client.name}},

your booking for {{booking.service}} on {{booking.start}} has been cancelled.
If this is a mistake, please contact us.

 {{bot.name}}`,htmlPlaceholder:"<p>Hi {{client.name}},</p><p>Your booking for {{booking.service}} on {{booking.start}} has been cancelled.</p>",htmlHelp:"Leave empty to use the text-only version."}},bookingFields:{alwaysRequiredTitle:"Always required",alwaysRequiredHelp:"These core fields are always required for bookings and cannot be removed.",additionalTitle:"Additional fields",additionalEmpty:"No extra fields configured yet. Add any extra pieces of information you want the bot to ask for (e.g.",addPlaceholder:"Add a field key, e.g. notes",addButton:"Add",keysHelp:"Use short, machine-friendly keys (no spaces). The assistant will still talk to users in natural language.",removeFieldAria:"Remove field {{field}}"},actions:{save:"Save settings",saving:"Saving",note:"Changes apply to new conversations and bookings."},side:{title:"How calendar & bookings are used",subtitle:"Calendar configuration controls where events are created. Advanced settings fine-tune how your assistant offers time slots and sends notifications.",cards:{calendar:{title:"Calendar connection",text:"The assistant creates events on this calendar using the time zone and default duration you configure here."},timeRules:{title:"Time rules",text:"Booking rules prevent last-minute or too-far-in-the-future appointments, so your schedule stays under control."},emailTemplates:{title:"Email templates",text:"If SMTP is misconfigured, the backend falls back to sending confirmations only in chat. When emails are sent, placeholders like",and:"and",replaced:"are replaced with real data"},bookingFields:{title:"Booking fields",text:"Extra fields you configure are stored with each appointment and can be used in your own workflows or CRM."}}},success:{saved:"Settings updated successfully."},errors:{loadFailed:"Could not load bot settings. Please refresh and try again.",saveFailed:"Could not save settings. Please check the values and try again."},onboarding:{common:{skip:"Skip for now"},booking:{title:"Enable bookings from chat",subtitle:"Connect your calendar, define your available slots and booking rules.",toggleTitle:"Let Coslo propose and book meetings",toggleSubtitle:"When enabled, Coslo will check your calendar and offer time slots directly in chat.",toggleOn:"Bookings are ON",toggleOff:"Bookings are OFF",toggleOffHint:"You can keep bookings disabled for now and still complete onboarding. Youll be able to turn them on later from the app.",enableToContinue:"Turn on bookings above or skip this step to continue.",nextWhenDisabled:"Continue to Lead Ads",next:"Save & continue to Lead Ads"}}},CY={hero:{kicker:"Legal",title:"Privacy & Data Policy",intro:"Coslo is a multi-tenant SaaS platform that connects your business channels (Web Widget, WhatsApp, Facebook Messenger, Instagram Direct) to an AI assistant and optional booking automation with Google Calendar. This page explains what data we process, why we process it, how its protected, and what controls you have.",lastUpdatedLabel:"Last updated"},sections:{whoWeAre:{title:"1) Who we are",serviceLabel:"Service",serviceValue:"Coslo (coslo.it)",providerLabel:"Provider",addressLabel:"Address",emailLabel:"Email"},appliesTo:{title:"2) Who this policy applies to",paragraphs:["This policy applies to (a) account owners and team members who use Coslo to configure and operate an assistant (the Business Users), and (b) end-users who message a business where the business uses Coslo to provide automated replies (the End Users).","In most business messaging scenarios, the business you contact determines how it uses its messaging channels and what information it provides to the assistant. If you are an End User, you should typically contact the business directly for requests about your conversation (access/deletion), unless the business instructs you otherwise."]},dataWeProcess:{title:"3) What data we collect / process",paragraphs:["We process the following categories of data, depending on what you enable:"],list:["Account data: email address and authentication data (passwords are stored in hashed form), plus basic account settings.","Assistant configuration: bot name, slug, connected domain, system instructions/prompts, enabled features, and channel settings.","Knowledge base inputs: content you connect or upload to power the assistant, such as your public website content and PDFs (and related metadata like source URL / filename).","Knowledge base outputs: processed representations of the above content (for example: extracted text, chunks, and embeddings/vectors) used to retrieve relevant information.","Conversation data: message content exchanged with the assistant (text) and related metadata (timestamps, channel type, and identifiers required to route replies).","Integration identifiers: identifiers needed to connect channels and deliver messages (e.g., WhatsApp phone number IDs, Facebook Page IDs, Instagram Business IDs) and authorization credentials/tokens used to send/receive messages on your behalf.","Booking data (if enabled): information needed to schedule an appointment (e.g., name, contact details, service, date/time, and notes or custom fields you configure).","Service analytics (tenant-scoped): metrics for the business account owner such as number of conversations, message volumes, usage over time, and quality indicators (e.g., whether the assistant answered successfully).","Technical and security logs: operational logs (e.g., error logs, webhook delivery logs, and security events) used to run and protect the service."]},howWeUse:{title:"4) How we use your data",paragraphs:["We use data to operate Coslo and deliver the features you enable:"],list:["Provide the service: create and manage accounts, assistants, dashboards, and connected channels.","Deliver messaging: receive messages from connected channels and send replies on behalf of the business.","Generate responses: retrieve relevant knowledge from your configured sources (website/PDFs/FAQs) and generate replies consistent with the assistant configuration.","Bookings (optional): check availability and create bookings/events in Google Calendar when enabled.","Analytics & quality monitoring: provide tenant-scoped analytics and allow the business owner to review conversation history to evaluate assistant performance, resolve customer requests, and improve content/configuration.","Security & reliability: detect abuse, prevent fraud, troubleshoot issues, and maintain platform stability."]},aiProcessing:{title:"5) AI processing and knowledge-scoped answers",paragraphs:["Coslo is designed for business support use cases. Your assistant is configured to respond using the business knowledge sources you provide (for example: public website pages, PDFs, FAQs).","When generating a reply, we may send to our AI provider the End Users message text, relevant retrieved knowledge snippets (RAG), and the assistants configuration (such as system instructions). This processing is necessary to provide the requested AI response.","We may keep logs of AI requests/responses to operate, debug, and improve the service. We do not use Customer conversation content to train or improve a shared/general-purpose AI model, and we do not use one businesss conversation data to build or improve another businesss assistant."]},tenantSeparation:{title:"6) Conversation review, access & multi-tenant separation",paragraphs:["Coslo is multi-tenant. Conversation data, knowledge bases, and analytics generated for one business account are isolated from other business accounts.","Businesses can review their own assistants conversation history inside the Coslo dashboard for operational purposes (e.g., quality checks, resolving requests, improving the knowledge base). Access is limited to authorized users of that same business account.","End Users do not get access to the businesss internal analytics dashboards or operational tools."]},messagingChannels:{title:"7) Messaging channels (WhatsApp, Facebook, Instagram)",paragraphs:["If you connect Meta channels, Coslo uses Meta APIs to deliver messages and receive events (webhooks). This requires storing channel identifiers (such as Page IDs / Business IDs / phone number IDs) and credentials/tokens needed to send and receive messages on your behalf.","Businesses are responsible for ensuring they have the appropriate rights/permissions to connect and use these channels, and for communicating with End Users about how messaging is handled.","Where required to provide the service, authorization credentials/tokens are stored securely (including encryption at rest) and access is restricted to authorized systems and personnel."]},automationEscalation:{title:"8) Automation and human escalation",paragraphs:["Businesses may use Coslo to automate parts of customer support on messaging channels. If a request requires a human, the business should provide a clear way for End Users to reach a person (for example: talk to a human, phone, email, or a support form). Coslo supports these workflows through configuration and business-defined escalation options."]},googleCalendar:{title:"9) Google Calendar bookings (optional feature)",paragraphs:["If you enable booking automation, Coslo will create calendar events in the Google Calendar you connect (or grant access to) and may check for availability/conflicts to propose time slots.","Events created in your Google Calendar are stored under your Google account and remain there unless you remove them directly in Google Calendar."]},thirdParties:{title:"10) Third-party services (subprocessors)",paragraphs:["We rely on third-party providers to deliver Coslo. Depending on your enabled features, data may be processed by:"],list:["Meta (WhatsApp, Facebook, Instagram) for messaging delivery and webhooks.","AI provider (e.g., OpenAI) to generate assistant responses.","Google (Google Calendar) for booking automation.","Stripe for billing and payments.","Hosting/infrastructure providers to run the application and store data securely."]},retention:{title:"11) Data retention",paragraphs:["We retain data to operate the service and provide the dashboard features you enable. In general:"],list:["Conversations & assistant configuration: retained until you delete the assistant, delete your account, or request deletion (subject to limited backup retention).","Knowledge base data: retained until you remove the source (website/PDF), delete the assistant, delete your account, or request deletion.","Operational logs: retained for a limited period for security, debugging, and reliability, then overwritten or deleted."]},deletion:{title:"12) Deletion, disconnecting channels, and requests",useTrans:"true",paragraphs:["You can disconnect connected channels (WhatsApp, Facebook, Instagram) from your Coslo dashboard at any time.","You can delete a specific assistant from the Bot List page. This deletes the assistant and all data related to that assistant (including its knowledge base and conversations) from our primary systems.","You can delete your entire account from the Profile page (Danger Zone). This deletes your account and all related data from our primary systems.","Some limited technical data may remain for a short period in security logs and backups, then is overwritten or deleted.","For privacy questions or deletion requests, contact <a>support</a>."]},security:{title:"13) Security",paragraphs:["We apply reasonable technical and organizational measures to protect data, such as access controls and secure communications. No method of transmission or storage is 100% secure, but we continuously work to reduce risk and prevent unauthorized access."]},transfers:{title:"14) International data transfers",paragraphs:["Some of our service providers may process data in countries different from your own. Where applicable, we rely on appropriate safeguards for international transfers (such as contractual protections) in line with applicable law."]},children:{title:"15) Children",paragraphs:["Coslo is intended for business use. It is not designed to be directed to children, and businesses should ensure their use of messaging channels complies with applicable age-related requirements."]},rights:{title:"16) Your rights",useTrans:"true",paragraphs:["Depending on your location (including the EU/EEA), you may have rights to access, correct, delete, or object to certain processing of your personal data. To exercise these rights, contact <a>support</a>.","If you are an End User messaging a business, you should typically contact that business first because it controls the conversation and how it is handled."]},changes:{title:"17) Changes to this policy",paragraphs:["We may update this policy from time to time. When we do, we will update the Last updated date at the top of this page."]},questions:{title:"18) Questions",useTrans:"true",paragraphs:["For any questions about privacy, data use, or deletion requests, contact <a>support</a>."]}}},SY={hero:{kicker:"Legal",title:"Terms & Conditions",intro:"These Terms & Conditions govern your use of Coslo (the Platform), a multi-tenant SaaS service that connects your business channels (e.g., Web Widget, WhatsApp, Facebook Messenger, Instagram Direct) to an AI assistant and, if enabled, booking automation (e.g., Google Calendar). By using the Platform, you agree to these Terms.",lastUpdatedLabel:"Last updated"},sections:{provider:{title:"1) Provider information",labels:{provider:"Provider",address:"Address",contact:"Contact"}},definitions:{title:"2) Definitions",paragraphs:["For the purposes of these Terms: (a) Platform means Coslo; (b) Customer means the business user creating an account; (c) End Users means people messaging the Customer; (d) Customer Content means content and data configured or provided by the Customer (including knowledge sources and conversations); (e) Third-Party Services means integrated external services (e.g., Meta channels, Google Calendar, AI providers, Stripe, hosting)."]},scope:{title:"3) Service scope and eligibility",paragraphs:["Coslo allows Customers to create and manage AI assistants for messaging channels, connect knowledge sources (e.g., website/PDFs), automate workflows (e.g., bookings), integrate Third-Party Services, and view tenant-scoped analytics and conversation history.","The Platform is intended for business/professional use. If you use Coslo on behalf of an organization, you represent that you have authority to bind that organization to these Terms."]},account:{title:"4) Account, security, and access",paragraphs:["You must provide accurate and up-to-date information when creating an account and keep your credentials secure.","You are responsible for activity under your account and for safeguarding connected channels, tokens, and permissions.","We may suspend or terminate access if we reasonably believe there is abuse, unlawful activity, or a violation of these Terms or Third-Party policies."]},plansPayments:{title:"5) Plans, subscriptions, and payments",paragraphs:["Access may be offered through free plans, trials, or paid subscriptions as described in the Platform or on our website.","Paid plans are billed on a recurring basis (monthly/annual) via our payment processor (e.g., Stripe). You authorize recurring charges while your subscription remains active.","Unless required by law or explicitly stated in your plan, payments are non-refundable."]},permittedUseCompliance:{title:"6) Permitted use, prohibited use, and channel compliance",paragraphs:["You are responsible for your assistants, Customer Content, and interactions with End Users.","You must not use Coslo for unlawful activity, spam, phishing, malware, harassment, or infringement of third-party rights.","You must comply with Third-Party terms/policies for connected channels (including WhatsApp/Meta policies). These policies may restrict automation and AI usage.","Coslo is intended for business support use cases (support, information, bookings, lead handling). You must not configure or promote it as a general-purpose chatbot unrelated to your business, nor use it in ways that violate channel rules.","Where required, you must provide End Users with a clear escalation path to reach a human (e.g., talk to a human, phone, email, support form). You are responsible for configuring and maintaining the human-contact option presented to End Users on your connected channels."]},privacyMultiTenant:{title:"7) Privacy, data handling, and multi-tenant separation",paragraphs:["Coslo is multi-tenant: each Customers data is logically separated from other tenants and accessible only to authorized users of the same Customer account.","Our Privacy & Data Policy forms part of these Terms and describes what data we process, why, retention, and the available deletion controls (including how to delete assistants and accounts).","Depending on your use case, a Data Processing Addendum (DPA) may be made available for business Customers."]},aiLimitations:{title:"8) AI: limitations and responsibilities",paragraphs:["Assistant outputs are generated automatically based on your configuration, knowledge sources, and third-party AI models.","AI may produce inaccurate or incomplete outputs. The Platform is provided on a best-effort basis and does not replace professional advice (legal/medical/tax).","You are responsible for reviewing and using assistant outputs appropriately, especially in regulated or high-impact contexts.","We do not use Customer conversation content to train or improve a shared/general-purpose AI model, and we do not use one Customers conversation data to build or improve another Customers assistant."]},thirdParties:{title:"9) Third-Party Services",paragraphs:["The Platform integrates with Third-Party Services (e.g., Meta channels, Google Calendar, AI providers, Stripe, hosting). Your use of those services is subject to their own terms and policies.","We are not responsible for outages, restrictions, or changes imposed by Third-Party Services, including revoked API access or policy changes."]},availabilitySupport:{title:"10) Availability, maintenance, and support",useTrans:"true",paragraphs:["We aim to keep the Platform reasonably available, but availability may be affected by maintenance, updates, and Third-Party Services.","Support may vary by plan. For support, contact <a>{{email}}</a>."]},ip:{title:"11) Intellectual property",paragraphs:["All rights in the Platform (software, design, trademarks, documentation) remain with the Provider and its licensors.","You retain rights to your Customer Content. You grant us a limited license to process Customer Content only to provide and operate the Platform."]},termination:{title:"12) Term, suspension, and termination",paragraphs:["Your account remains active while you maintain an active plan or otherwise have access to the Platform.","You may cancel your subscription according to the cancellation flow available in the Platform.","We may suspend or terminate access for material breaches, non-payment, or unlawful use.","Events created in your Google Calendar remain in your Google account unless you remove them there."]},warranty:{title:"13) Disclaimer of warranties",paragraphs:["The Platform is provided as is and as available, to the maximum extent permitted by law. We disclaim all warranties, express or implied.","We do not warrant that the Platform will be uninterrupted, error-free, or that AI outputs will always be accurate."]},liability:{title:"14) Limitation of liability",paragraphs:["To the maximum extent permitted by law, our total liability is limited to the amounts you paid us in the twelve (12) months preceding the event giving rise to the claim.","We are not liable for indirect, incidental, consequential, punitive damages, loss of profits, loss of business, or loss of opportunities."]},indemnity:{title:"15) Indemnity",paragraphs:["You agree to indemnify and hold us harmless from claims, damages, losses, and expenses (including reasonable legal fees) arising from: (a) your unlawful or non-compliant use of the Platform; (b) your violation of these Terms or Third-Party policies; (c) infringement or violations arising from your Customer Content."]},changes:{title:"16) Changes to the Platform and these Terms",paragraphs:["We may update the Platform and these Terms from time to time. If we make material changes, we may provide notice via email or in-product notifications.","Continued use of the Platform after changes take effect constitutes acceptance of the updated Terms."]},lawForum:{title:"17) Governing law and jurisdiction",paragraphs:["Unless otherwise agreed in writing, these Terms are governed by Italian law. Any dispute shall be subject to the exclusive jurisdiction of the court where the Provider has its registered office, except where mandatory law provides otherwise."]},specificApproval:{title:"18) Specific approval (Italy)",paragraphs:["Under Articles 1341 and 1342 of the Italian Civil Code, you specifically approve the clauses on suspension/termination, warranty disclaimers, limitation of liability, indemnity, changes to terms, and governing law/jurisdiction.","Operational note: for stronger enforceability, consider implementing a dedicated checkbox at signup for this specific approval."]},contacts:{title:"19) Contact",useTrans:"true",paragraphs:["For questions about these Terms, contact <a>{{email}}</a>."]}}},NY={legalNotice:{p1:"By continuing, you agree to the",terms:"Terms & Conditions",and:"and",privacy:"Privacy & Data Policy"}},kY={title:"WhatsApp message templates",titleFallback:"WhatsApp templates",subtitle:"Lead Ads  WhatsApp automation for {{name}}",status:{facebookStatus:"Facebook status",facebookNotConnected:"Not connected",whatsappStatus:"WhatsApp status",notConnected:"Not connected"},facebookNotConnectedBody:"Lead Ads from Facebook will not be received until you connect a Facebook page on the Channels page.",notConnectedBody:"You can configure Lead Ads and see incoming leads, but to send WhatsApp templates you must connect a WhatsApp business number on the Channels page.",leadFeatureNotEnabledTitle:"Lead Ads feature not enabled",leadFeatureNotEnabledBody:"To configure Lead Ads  WhatsApp automation, first enable the Lead Ads add-on on the Features page for this bot.",leadFeatureGoToFeatures:"Go to Features",leadAutomation:{title:"Lead Ads  WhatsApp automation",loading:"Loading automation settings",phoneField:"Phone field name",phoneFieldHelp:"Name of the form field that contains the phone number in the lead payload.",consentField:"Consent field name (optional)",consentFieldHelp:"Name of the yes/no field used for WhatsApp consent.",requireOptIn:"Require explicit WhatsApp opt-in",template:"Template to send",templatePlaceholder:"Select an approved template",templateHelp:"Template used for new leads from Meta. Only approved templates are available.",save:"Save automation",saveSuccess:"Lead automation settings saved.",saveError:"Failed to save lead automation settings.",errors:{missingPhoneField:"Please specify the phone field name from your lead forms.",missingConsentField:"If you require explicit opt-in, you must specify the consent field name.",missingTemplate:"Please select an approved WhatsApp template."}},history:{title:"Template history"},filters:{search:"Search",searchPlaceholder:"Search by name or language",status:"Status",statusAll:"All",statusApproved:"Approved",statusPending:"Pending",statusRejected:"Rejected",category:"Category",categoryAll:"All"},category:{utility:"Utility",marketing:"Marketing",authentication:"Authentication"},loadingTemplates:"Loading templates",templates:{requireWhatsapp:"Connect a WhatsApp number on the Channels page to sync and manage templates."},empty:"No WhatsApp templates found for this bot yet.",emptyCta:"Create your first template",columns:{name:"Template",status:"Status",updated:"Last update"},actions:{edit:"Edit",create:"Create template",update:"Update template"},messages:{created:"Template created.",updated:"Template updated.",saveFailed:"Failed to save template."},modal:{createTitle:"New WhatsApp template",editTitle:"Edit WhatsApp template"},form:{name:"Template name",namePlaceholder:"e.g. order_update",nameHelp:"Lowercase, numbers and underscores only. This is not visible to end users.",language:"Language",languageHelp:"Use WhatsApp language codes like en_US, it_IT, es_ES",category:"Category",header:"Header (optional)",headerPlaceholder:"Short title shown above the body",headerHelp:"Up to 60 characters. You can use variables like {{1}}.",body:"Body",bodyPlaceholder:"Main message text. Use {{1}}, {{2}},  for variables.",bodyHelp:"Keep it clear and concise. Variables will be filled at send time.",footer:"Footer (optional)",footerPlaceholder:"Small line below the message (e.g. legal or brand).",buttons:"Buttons",addButton:"Add button",buttonsHelp:"Optional quick reply, URL or phone buttons."},buttons:{quickReply:"Quick reply",url:"URL",phone:"Phone number",textPlaceholder:"Button label",remove:"Remove"},leads:{title:"Recent leads",refresh:"Refresh",loading:"Loading leads",requireFacebook:"Connect a Facebook page on the Channels page to start receiving leads.",empty:"No leads received yet.",refreshError:"Failed to refresh leads.",createdAt:"Received at",phone:"Phone",messageSent:"Message sent",status:"Status"},onboarding:{title:"Connect Facebook Lead Ads and WhatsApp automation",subtitle:"Choose or create a WhatsApp template and map the fields from your Lead Ads forms.",common:{skip:"Skip for now"},warningTitle:"Connect channels to activate automation",warningFacebook:"Connect a Facebook page in the Channels step so Coslo can read new leads.",warningWhatsapp:"Connect a WhatsApp Business number in the Channels step to send messages.",requirementsTitle:"Connection status",toggleOn:"Lead Ads automation is ON",toggleOff:"Lead Ads automation is OFF",toggleDisabledHint:"Connect both channels to turn this automation on.",toggleOnHint:"New leads from your Facebook forms will automatically receive a WhatsApp message using the template below.",disabledHint:"You can keep Lead Ads automation turned off for now and still complete onboarding. Youll be able to come back here later from the app and turn it on.",automationHint:"When a new lead arrives from Meta, Coslo will send a WhatsApp template and optionally check for explicit opt-in.",previewLabel:"Selected template:",autoSaveHint:"Settings and templates will be saved when you click Review plan & pay.",next:"Review plan & pay",errors:{channelsNotReady:"To enable this automation, connect both Facebook and WhatsApp in the Channels step.",save:"Could not save Lead Ads configuration."}}},PY={eyebrow:"Guided onboarding  {current}/{total}",steps:{bot:"1. Create bot",botDescription:"Name your assistant and choose how customers will see it.",channels:"2. Channels",channelsDescription:"Connect WhatsApp, Facebook, Instagram or your website.",booking:"3. Bookings",bookingDescription:"Let Coslo propose and book meetings directly from chat.",leadAds:"4. Lead Ads",leadAdsDescription:"Sync your Facebook Lead Ads and send WhatsApp messages automatically.",plan:"5. Plan & billing",planDescription:"Review configuration, pick your plan and start using Coslo.",knowledge:"6. Knowledge",knowledgeDescription:"Let Coslo learn from your website so it can answer detailed questions."}},AY={common:aY,demoBot:rY,landing:iY,login:sY,register:oY,verifyEmail:lY,appLayout:cY,billing:uY,dashboard:dY,profile:pY,botFeatures:mY,botPlan:hY,botConversations:fY,botCreate:gY,botDetails:vY,botChannels:bY,botKnowledge:yY,botsList:xY,conversationDetail:wY,botSettings:jY,policy:CY,terms:SY,auth:NY,whatsappTemplates:kY,onboardingLayout:PY},EY={language:{en:"Inglese",it:"Italiano",es:"Spagnolo"},error:"Errore",saving:"Salvataggio...",loading:"Caricamento...",back:"Indietro"},TY={noSlug:"Nessuno slug del bot fornito.",loading:"Caricamento bot...",errorTitle:"Errore",notFoundTitle:"Bot non trovato",notFoundBody:"Controlla il link che hai ricevuto.",defaultError:"Impossibile caricare il bot"},IY={hero:{title:"Perch scegliere la nostra piattaforma di Intelligenza Artificiale?",subtitle:"Trasforma il tuo business con un assistente AI che supporta i clienti 24/7, risponde in modo immediato e gestisce i flussi operativi ripetitivi che ti fanno perdere tempo.",ctaPrimary:"Inizia ora",ctaSecondary:"Accedi",note:"Un assistente digitale sempre disponibile su sito, canali social e messaggistica, progettato per rispondere alle domande dei clienti e gestire flussi di assistenza e prenotazione utilizzando le informazioni del tuo business.",badge:"Coslo  Assistente AI per il tuo business",altHero:"Coslo, il tuo assistente AI"},intro:{title:"Un'assistenza continua, precisa e realmente utile",imageAlt:"Coslo sempre operativo 24/7 al computer",p1:"La nostra piattaforma  pensata per semplificare il lavoro delle aziende, aumentare le conversioni e offrire ai clienti unesperienza di comunicazione moderna, fluida e immediata.",p2:"Grazie a un sistema avanzato di automazione e comprensione dei contenuti, il tuo business pu garantire un supporto costante, coerente e di qualit, senza aumentare il carico di lavoro del team interno.",p3:"Qui troverai nel dettaglio tutte le funzionalit che rendono il nostro assistente AI uno strumento davvero indispensabile per la tua attivit."},multichannel:{title:"Multicanale: presente dove sono i tuoi clienti",p1:"Le persone si aspettano risposte rapide, senza dover cambiare canale o aspettare ore. Per questo l'assistente AI si integra con gli strumenti che i tuoi clienti usano ogni giorno.",p2:"In questo modo il tuo brand  sempre raggiungibile e pronto a interagire, migliorando l'esperienza utente e aumentando le opportunit di conversione.",cards:{webWidget:{title:"Web Widget",text:"Integrato direttamente nel tuo sito, sempre visibile e attivo 24/7 per rispondere alle domande e guidare gli utenti all'azione."},whatsapp:{title:"WhatsApp",text:"Il canale di messaggistica pi utilizzato: perfetto per assistenza, richieste rapide e prenotazioni immediate."},messenger:{title:"Facebook Messenger",text:"Ideale per seguire gli utenti che arrivano dalle tue campagne e dai contenuti social, senza farti perdere nessuna conversazione."},instagram:{title:"Instagram Direct",text:"Perfetto per intercettare domande e richieste che nascono da post, reel e storie, trasformandole in contatti e opportunit."}}},knowledge:{title:"Conoscenza profonda dei tuoi contenuti",imageAlt:"Coslo che studia i tuoi contenuti",labels:{pdf:"PDF",site:"Sito",faq:"FAQ"},p1:"L'assistente non si limita a generare risposte generiche: risponde in base al tuo materiale e a ci che comunichi online.",p2:"Grazie a un sistema avanzato di crawling e analisi, la piattaforma:",list:{l1:"naviga autonomamente il tuo sito web,",l2:"legge e comprende i contenuti dei tuoi PDF,",l3:"elabora testi, FAQ, guide, articoli e documentazione tecnica,",l4:"organizza tutte le informazioni in una base di conoscenza chiara e coerente."},p3:"In questo modo lassistente pu riflettere a fondo il tuo business: prodotti, servizi, processi interni, terminologia specifica e punti di forza. Il risultato sono risposte accurate, precise e in linea con l'identit del brand, anche quando i tuoi contenuti si aggiornano.",p4:"Non servono testi ad hoc:  sufficiente utilizzare ci che hai gi a disposizione, e l'assistente far il resto."},booking:{title:"Prenotazioni reali e confermate, direttamente nel tuo Google Calendar",p1:"L'assistente non  solo un supporto informativo, ma un vero collaboratore operativo. Tra le funzioni pi apprezzate c' la gestione completa delle prenotazioni.",p2:"Ecco cosa pu fare in autonomia:",list:{l1:"propone date e fasce orarie disponibili,",l2:"raccoglie i dati del cliente (nome, contatto, richiesta),",l3:"conferma l'appuntamento in tempo reale,",l4:"inserisce l'evento nel tuo Google Calendar con tutti i dettagli."},p3:"Niente pi messaggi sparsi, controlli incrociati o appuntamenti trascritti a mano: il flusso  semplice, automatizzato e riduce al minimo errori e perdite di tempo.",calendar:{header:"Google Calendar",event1:{time:"14:00",title:"Appuntamento Cliente",subtitle:"Mario Rossi - Consulenza"},event2:{time:"16:30",title:"Demo Prodotto",subtitle:"Laura Bianchi - Presentazione"}}},growth:{title:"Un assistente che cresce con la tua azienda",imageAlt:"Coslo costruisce il tuo assistente AI",p1:"Ogni nuovo documento e ogni aggiornamento del tuo sito aiutano a mantenere le risposte dellassistente accurate e allineate nel tempo. La piattaforma evolve insieme al tuo business.",p2:"Puoi utilizzarlo, ad esempio, per:",p3:" come avere un assistente digitale sempre disponibile, capace di rispondere a domande semplici e complesse legate al business e di occuparsi delle attivit pi ripetitive al posto tuo.",pills:{p1:"Assistenza clienti",p2:"Prenotazioni e appuntamenti",p3:"Risposte ai contatti social",p4:"Lead generation",p5:"Supporto tecnico",p6:"Gestione delle informazioni"}},benefits:{title:"Perch le aziende che lo provano non tornano indietro",cards:{c1:{title:"Tempi di risposta ridotti",text:"Migliori la soddisfazione dei clienti grazie a risposte rapide e consistenti, in qualsiasi momento della giornata."},c2:{title:"Pi contatti e prenotazioni",text:"La presenza multicanale aumenta i punti di contatto e ti permette di trasformare pi conversazioni in appuntamenti o opportunit commerciali."},c3:{title:"Automazione intelligente",text:"Delegando all'AI i compiti ripetitivi, il tuo team pu concentrarsi sulle attivit strategiche che generano maggior valore."},c4:{title:"Coerenza con il brand",text:"Le risposte sono in linea con le informazioni, il tono di voce e le linee guida della tua azienda, senza improvvisazioni."}}},miniCoslo:{title:"Coslo parla con i tuoi clienti, come un vero assistente",imageAlt:"Coslo - Assistente AI",p1:"Le chat con i clienti vengono gestite con un tono professionale e naturale: Coslo risponde alle domande frequenti, propone appuntamenti e raccoglie i dati importanti senza far perdere tempo al tuo team.",p2:"Qui sotto vedi un esempio semplificato di come potrebbe apparire una conversazione tipica con i tuoi clienti.",bubbleUser:"Ciao Coslo, posso spostare il mio appuntamento di domani?",bubbleBot:"Certo! Dimmi solo il giorno e l'orario che preferisci e aggiorno subito il calendario."},cta:{title:"Porta il tuo business nel futuro",text:"In un mercato sempre pi competitivo, la qualit e la velocit della comunicazione fanno la differenza. Con il nostro assistente AI puoi offrire un'esperienza moderna, professionale e completamente automatizzata.",primaryCta:"Inizia ora",secondaryCta:"Accedi alla tua area"}},OY={pageTitle:"Accedi al tuo spazio Coslo",subtitle:"Gestisci i tuoi assistenti AI, controlla le conversazioni e modifica le impostazioni in pochi clic.",bullets:{b1:"Un'unica dashboard per tutti i tuoi canali",b2:"Statistiche in tempo reale sulle performance del bot",b3:"Accesso sicuro e protetto con autenticazione a due fattori"},cardTitle:"Login",email:"Email",password:"Password",submit:"Accedi",submitting:"Accesso in corso...",divider:"oppure",noAccount:"Non hai ancora un account?",register:"Registrati",googleError:"Accesso con Google non riuscito",loginError:"Login non riuscito",mfaTitle:"Autenticazione a due fattori",mfaSubtitle:"Apri la tua app di autenticazione (Google Authenticator, 1Password, Authy, ecc.) e inserisci il codice a 6 cifre per completare l'accesso.",mfaCodeLabel:"Codice di sicurezza",mfaSubmit:"Conferma e accedi",mfaSubmitting:"Verifica in corso...",mfaError:"Codice non valido. Riprova.",backToCredentials:"Torna al login con email e password",mfaHelp:"Non hai pi accesso alla tua app di autenticazione? Usa uno dei codici di backup che hai salvato quando hai attivato la 2FA."},MY={pageTitle:"Crea il tuo account Coslo",subtitle:"In pochi minuti colleghi i tuoi canali e hai un assistente AI pronto a rispondere ai tuoi clienti 24/7.",bullets:{b1:"Multi-canale (web, WhatsApp, social, calendario)",b2:"Configurazione guidata e personalizzabile",b3:"Piano multi-tenant pensato per agenzie e team"},cardTitle:"Registrazione",email:"Email",password:"Password",passwordConfirm:"Conferma password",submit:"Crea account",submitting:"Creazione in corso...",success:"Registrazione completata! Controlla la tua email e verifica l'account prima di effettuare il login.",errorGeneric:"Registrazione fallita",errorPasswordMismatch:"Le password non coincidono",errorPasswordRequirements:"La password non soddisfa i requisiti. Controlla i punti sotto il campo password.",pwTitle:"Requisiti password:",pwRules:{minLength:"Almeno 8 caratteri",uppercase:"Almeno una lettera maiuscola (A-Z)",lowercase:"Almeno una lettera minuscola (a-z)",digit:"Almeno una cifra (0-9)",special:"Almeno un carattere speciale (es. !@#$%^&*)"},alreadyAccount:"Hai gi un account?",login:"Accedi"},LY={title:"Verifica email",loading:"Stiamo verificando la tua email...",missingToken:"Token di verifica mancante.",successDefault:"Email verificata con successo!",invalidOrExpired:"Token non valido o scaduto.",genericError:"Verifica fallita.",backToLogin:"Ora puoi tornare al",loginLink:"login"},DY={sidebarTitle:"Dashboard",brandSmall:"Coslo - Assistente AI",logout:"Esci",nav:{dashboard:"Dashboard",bots:"Bot",billing:"Fatturazione",profile:"Profilo"},aria:{openNav:"Apri navigazione",closeNav:"Chiudi navigazione"}},FY={title:"Fatturazione e utilizzo",subtitle:"Visualizza gli abbonamenti attivi dei bot, l'utilizzo di questo mese e lo storico pagamenti.",loading:"Caricamento dati di fatturazione...",activeSubscriptions:"Abbonamenti attivi",totalMonthlyAcrossAllBots:"Totale mensile su tutti i bot:",thisMonth:"Questo mese:",tokens:"Energia",of:"di",noActiveSubscriptions:"Non hai ancora abbonamenti attivi.",slugLabel:"Slug",perMonth:"mese",breakdown:{features:"Funzionalit",plan:"Piano"},usageThisMonth:"Utilizzo questo mese:",noConfiguredLimit:"(nessun limite configurato)",subscriptionStatus:{active:"Attivo",pastDue:"Scaduto",canceled:"Annullato",trial:"Prova",unpaid:"Non pagato",incomplete:"Incompleto",incompleteExpired:"Incompleto (scaduto)"},usageStatus:{overLimit:"Oltre limite",atLimit:"Al limite",highUsage:"Uso elevato",healthyUsage:"Uso regolare"},paymentHistory:{title:"Storico pagamenti",empty:"Nessun pagamento registrato.",table:{date:"Data",bot:"Bot",amount:"Importo",status:"Stato",period:"Periodo"}},invoice:{ariaDownload:"Scarica fattura",ariaOpening:"Apertura fattura",titleDownload:"Scarica fattura",titleOpening:"Apertura",srDownload:"Scarica fattura",srOpening:"Apertura fattura"},errors:{loadFailed:"Impossibile caricare la panoramica di fatturazione",invoiceUnavailable:"La fattura non  disponibile per questo pagamento.",invoiceDownloadFailed:"Download della fattura non riuscito."}},zY={title:"Dashboard",subtitle:"Panoramica di bot, conversazioni e utilizzo energia.",loading:"Caricamento dati dashboard...",actions:{createNewBot:"+ Crea nuovo bot"},empty:{title:"Nessun bot",subtitle:"Inizia creando il tuo primo bot. Quando arriver traffico, qui vedrai conversazioni, utilizzo energia e i migliori risultati.",cta:"Crea il tuo primo bot"},kpis:{totalBots:"Totale bot",activeBots:"Bot attivi",conversationsLast30Days:"Conversazioni (ultimi 30 giorni)",tokensThisMonth:"Energia usata (questo mese)"},kpisHints:{totalBots:"Tutti i bot creati con questo account.",activeBots:"Bot attualmente live e operativi.",conversationsLast30Days:"Su tutti i canali e bot.",tokensThisMonth:"Utile per tenere d'occhio i costi."},charts:{conversationsLast10Days:{title:"Conversazioni (ultimi 10 giorni)",subtitle:"Ogni linea rappresenta un bot. Passa sopra o tocca per vedere i volumi giornalieri.",empty:"Nessuna conversazione negli ultimi 10 giorni."},tokensLast10Days:{title:"Utilizzo energia (ultimi 10 giorni)",subtitle:"Energia totale per giorno per ciascun bot.",empty:"Nessun utilizzo d'energia registrato negli ultimi 10 giorni."},topBots:{title:"Top bot per conversazioni",subtitle:"Ultimi 30 giorni, in ordine di volume conversazioni.",empty:"Nessuna conversazione negli ultimi 30 giorni."}},activity:{title:"Dettagli attivit",subtitle:"Vista rapida dei bot pi attivi.",empty:"Nessun bot attivo negli ultimi 30 giorni.",lastConversation:"Ultima conversazione",convAbbrev:"conv.",view:"Vedi"},errors:{loadFailed:"Impossibile caricare la dashboard"}},_Y={pageTitle:"Account",pageSubtitle:"Gestisci profilo, accesso e sicurezza.",loading:"Caricamento account...",confirmDelete:"Questo eliminer definitivamente il tuo account, tutti i tuoi bot e i relativi dati. Questa azione non pu essere annullata. Continuare?",common:{cancel:"Annulla"},profile:{title:"Profilo",subtitle:"Queste informazioni sono visibili solo all'interno della tua dashboard.",avatarAlt:"Avatar",displayName:{label:"Nome visualizzato",placeholder:"Il tuo nome o nome azienda"},avatarUrl:{label:"URL avatar",placeholder:"https://",help:"Puoi incollare un link a un'immagine (es. dal tuo sito o CDN del logo)."},actions:{save:"Salva profilo",saving:"Salvataggio"},success:"Profilo aggiornato."},security:{title:"Accesso e sicurezza",emailLabel:"Email",loginMethodLabel:"Metodo di accesso",loginMethod:{google:"Google",emailPassword:"Email e password",unknown:"Sconosciuto"},googleOnlyNoteStrongPrefix:"Questo account usa",googleSignInStrong:"Google Sign-In",googleOnlyNoteSuffix:"L'accesso con password non  abilitato."},password:{current:{label:"Password attuale"},new:{label:"Nuova password",help:"Almeno 8 caratteri, con maiuscole e minuscole, un numero e un simbolo."},confirm:{label:"Conferma nuova password"},actions:{change:"Cambia password",updating:"Aggiornamento"},success:"Password aggiornata.",errors:{mismatch:"La nuova password e la conferma non coincidono."}},mfa:{title:"Autenticazione a due fattori",subtitle:"Protezione extra per il tuo account tramite un'app di autenticazione. Dopo il login ti verr richiesto un codice a 6 cifre dal telefono.",statusLabel:"Stato",status:{enabled:"Attiva",disabled:"Disattiva"},recommendation:"Consigliamo vivamente di attivare l'autenticazione a due fattori, soprattutto se riusi questa email altrove o condividi dispositivi.",setup:{step1Title:"1. Scansiona il QR code",step1Body:"Apri la tua app di autenticazione (Google Authenticator, 1Password, Authy, ecc.) e scansiona questo codice. Se non puoi scansionare il QR, inserisci il segreto manualmente.",manualSecretLabel:"Segreto manuale:",step2Title:"2. Inserisci il codice a 6 cifre",step2Body:"Dopo aver aggiunto l'account nell'app, inserisci il codice corrente a 6 cifre per confermare che tutto funzioni.",codeLabel:"Codice dalla tua app"},actions:{enable:"Attiva autenticazione a due fattori",preparing:"Preparazione",confirmEnable:"Conferma e attiva 2FA",verifying:"Verifica",disabling:"Disattivazione"},enabledNote:"Ad ogni accesso, dopo il metodo principale (email/password o Google), ti chiederemo un codice a 6 cifre dalla tua app di autenticazione.",backupCodes:{title:"Codici di backup (salvali ora)",body:"Questi codici vengono mostrati solo una volta. Salvali in un luogo sicuro (password manager, nota protetta, copia stampata). Ogni codice pu essere usato una sola volta se perdi accesso al telefono.",copyAll:"Copia tutti i codici"},disable:{intro:"Se cambi dispositivo o app di autenticazione, puoi disattivare la 2FA e configurarla di nuovo.",open:"Disattiva autenticazione a due fattori",confirmBody:"Per la tua sicurezza, conferma con un codice della tua app di autenticazione o con un codice di backup.",codeLabel:"Codice dalla tua app (6 cifre)",backupCodeLabel:"Oppure un codice di backup",confirm:"Conferma disattivazione 2FA"},success:{enabledSaveBackupCodes:"Autenticazione a due fattori attivata. Salva i codici di backup in un luogo sicuro.",disabled:"Autenticazione a due fattori disattivata.",backupCodesCopied:"Codici di backup copiati negli appunti. Conservali in un luogo sicuro."},errors:{startFailed:"Impossibile avviare la configurazione dell'autenticazione a due fattori.",confirmFailed:"Impossibile confermare il codice. Controlla il codice e riprova.",disableRequiresCode:"Inserisci un codice dall'app di autenticazione o un codice di backup.",disableFailed:"Impossibile disattivare l'autenticazione a due fattori. Controlla il codice e riprova.",backupCodesCopyFailed:"Impossibile copiare i codici automaticamente. Copiali manualmente e conservali in un luogo sicuro."}},danger:{title:"Zona pericolosa",subtitle:"Elimina definitivamente il tuo account e tutti i bot, conversazioni, documenti e dati di utilizzo. Questa azione non pu essere annullata.",passwordConfirm:{label:"Conferma con la tua password",help:"Per la tua sicurezza richiediamo la password attuale per eliminare l'account."},googleNote:"Questo account usa Google Sign-In. Clicca il pulsante qui sotto per confermare con Google ed eliminare l'account e tutti i bot e dati associati.",actions:{delete:"Elimina il mio account",deleting:"Eliminazione",deletingInline:"Eliminazione account"},unsupported:"Questo account non supporta ancora l'eliminazione self-service."},errors:{loadFailed:"Impossibile caricare l'account",updateProfileFailed:"Impossibile aggiornare il profilo.",changePasswordFailed:"Impossibile cambiare la password.",deleteFailed:"Impossibile eliminare l'account."}},RY={title:"Funzionalit",subtitle:"Step 1  configura canali, crawler e prenotazioni per {{botName}}. Queste opzioni influenzano il prezzo dell'abbonamento.",backToBot:" Torna alla panoramica",missingId:"ID bot mancante.",loadingBot:"Caricamento bot...",errorTitle:"Errore",notFoundTitle:"Bot non trovato",calendarIncomplete:"Le prenotazioni via calendario sono attive ma manca l'ID calendario o il fuso orario. Compilali qui sotto per far funzionare correttamente le prenotazioni.",perMonth:"mese",groups:{knowledge:"Funzionalit conoscenza",channels:"Canali",calendar:"Prenotazioni e calendario",leadAds:"Lead Ads"},knowledge:{domain:{title:"Crawler dominio (contenuti sito)",description:"Scansiona automaticamente il tuo sito cos il bot risponde sempre con contenuti aggiornati."},pdf:{title:"Importazione PDF / documenti",description:"Carica manuali, brochure o documenti e lascia che il bot risponda basandosi su di essi."}},channels:{web:{title:"Widget web e demo ospitata",description:"Incorpora un widget chat sul tuo sito e ottieni un link demo da condividere con i clienti."},whatsapp:{title:"WhatsApp",description:"Collega il bot a WhatsApp cos i clienti possono scriverti ovunque."},messenger:{title:"Facebook Messenger",description:"Rispondi alle domande direttamente sulla tua pagina Facebook via Messenger."},instagram:{title:"Instagram DM",description:"Rispondi automaticamente ai messaggi diretti di Instagram con il tuo bot."}},calendar:{title:"Prenotazioni Google Calendar",description:"Permetti al bot di pianificare appuntamenti direttamente su Google Calendar, con disponibilit e fusi orari gestiti automaticamente.",fields:{calendarId:"ID Google Calendar",timeZone:"Fuso orario business",defaultDuration:"Durata predefinita appuntamento (minuti)"},placeholders:{calendarId:"tuo-calendar-id@group.calendar.google.com",timeZone:"Europe/Rome"}},leadAds:{whatsapp:{title:"Lead Ads  WhatsApp",description:"Invia automaticamente un messaggio WhatsApp ai nuovi lead provenienti dai moduli lead di Meta.",selectTier:"Seleziona un pacchetto di messaggi WhatsApp",requiresWhatsapp:"Questa funzionalit richiede che il canale WhatsApp sia attivo."}},actions:{save:"Salva funzionalit",saving:"Salvataggio...",next:"Avanti: scegli piano e paga",viewChangePlan:"Vedi / cambia piano",cancelSubscription:"Annulla abbonamento",cancelling:"Annullamento...",backToBot:" Torna alla panoramica"},side:{title:"Piano e fatturazione",statusLabel:"Stato:",subtitle:"Step 2  scegli un piano di utilizzo e conferma il pagamento. Prezzo totale = subtotal funzionalit + piano utilizzo.",loadingPricing:"Caricamento prezzi",featuresSubtotal:"Subtotal funzionalit",featuresTotalPerMonth:"Totale funzionalit (al mese)",nextNote:"Verrai reindirizzato a Stripe per confermare l'abbonamento."},success:{featuresUpdated:"Funzionalit aggiornate.",subscriptionCanceled:"Abbonamento annullato e bot disattivato.",saved:"Funzionalit aggiornate."},errors:{loadBot:"Impossibile caricare il bot",updateFeatures:"Impossibile aggiornare le funzionalit del bot",loadPricing:"Impossibile caricare i prezzi in questo momento.",cancelSubscription:"Impossibile annullare l'abbonamento",saveFeatures:"Impossibile aggiornare le funzionalit del bot"}},BY={title:"Piano e fatturazione",subtitle:"Step 2  scegli un piano di utilizzo per {{botName}}. Prezzo finale = subtotal funzionalit + piano.",backToFeatures:" Torna alle funzionalit",missingId:"ID bot mancante.",loading:"Caricamento opzioni piano...",errorTitle:"Errore",notFoundTitle:"Bot non trovato",perMonth:"mese",plans:{title:"Piani di utilizzo",subtitle:"Scegli quanto utilizzo ti aspetti. Puoi cambiare piano pi avanti.",loading:"Caricamento piani",empty:"Nessun piano di utilizzo configurato. Contatta il supporto.",tokensPerMonth:"Energia al mese:",tokensPerMonthLabel:"Energia al mese",unlimited:"Illimitati",select:"Seleziona questo piano",selected:"Selezionato",planImageAlt:"Piano {{planName}}",mostPopular:"Pi scelto"},summary:{title:"Riepilogo",statusLabel:"Stato:",subtitle:"Prezzo finale = subtotal funzionalit + piano selezionato.",featuresSubtotal:"Subtotal funzionalit",loadingPricing:"Caricamento prezzi",featuresTotalPerMonth:"Totale funzionalit (al mese)",selectedPlan:"Piano selezionato",noPlanSelected:"Nessun piano selezionato.",totalPerMonth:"Totale al mese",selectPlanToSeeTotal:"Seleziona un piano per vedere il totale"},actions:{activatePay:"Attiva e paga",changePlan:"Cambia piano",redirecting:"Reindirizzamento...",updating:"Aggiornamento..."},notes:{redirectToStripe:"Verrai reindirizzato a Stripe per confermare e pagare questo bot.",proration:"L'abbonamento verr aggiornato subito. Stripe applicher addebiti/crediti pro-rata."},success:{title:"Piano aggiornato",planUpdatedProration:"Piano aggiornato. Stripe ha applicato la proratazione all'abbonamento."},errors:{loadFailed:"Impossibile caricare i dati del piano",selectPlan:"Seleziona un piano.",updateFailed:"Impossibile aggiornare il piano"},onboarding:{title:"Scegli il piano e inizia a usare Coslo",subtitle:"Abbiamo gi preconfigurato canali, prenotazioni e Lead Ads. Ora scegli il piano che meglio si adatta ai tuoi volumi.",summaryTitle:"Riepilogo configurazione",summarySubtitle:"Ecco cosa hai configurato finora per questo bot.",summary:{channels:"Canali",none:"Nessun canale configurato",booking:"Prenotazioni",leadAds:"Lead Ads  WhatsApp",enabled:"Attivo",disabled:"Disattivo"},edit:"Modifica"},features:{free:{energy:"{{amount}} Energia",emails:"Fino a 20 email",whatsapp:"Nessun messaggio WhatsApp",leadAds:"Lead Ads non inclusi",mobileApp:"App mobile non inclusa"},starter:{energy:"{{amount}} Energia",emails:"Fino a 200 email",whatsapp:"Fino a 200 messaggi WhatsApp",leadAds:"Lead Ads inclusi",mobileApp:"App mobile inclusa",support:"Supporto dedicato non incluso"},growth:{energy:"{{amount}} Energia",emails:"Fino a 1.000 email",whatsapp:"Fino a 1.000 messaggi WhatsApp",leadAds:"Lead Ads inclusi",mobileApp:"App mobile inclusa",support:"Supporto dedicato incluso"},scale:{energy:"{{amount}} Energia",emails:"Fino a 5.000 email",whatsapp:"Fino a 5.000 messaggi WhatsApp",leadAds:"Lead Ads inclusi",mobileApp:"App mobile inclusa",support:"Supporto dedicato incluso"},default:{energy:"{{amount}} Energia"}}},$Y={title:"Conversazioni",subtitle:"Tutte le conversazioni su web, WhatsApp, Facebook Messenger e Instagram.",missingId:"ID bot mancante.",loading:"Caricamento conversazioni...",empty:"Nessuna conversazione per ora.",notEvaluated:"Non valutata",backToBot:" Torna alla panoramica",actions:{evaluateSelected:"Valuta selezionate",evaluateSelectedCount:"Valuta selezionate ({{count}})",evaluatingSelected:"Valutazione selezionate...",evaluate:"Valuta",reevaluate:"Rivaluta",evaluating:"Valutazione...",view:"Vedi"},pagination:{total:"Totale conversazioni: {{total}}",pageOf:"Pagina {{page}} di {{totalPages}}",prev:"Precedente",next:"Successiva"},table:{selectAll:"Seleziona tutte le conversazioni in questa pagina",selectRow:"Seleziona conversazione",channel:"Canale",externalUser:"Utente esterno",lastMessage:"Ultimo messaggio",score:"Punteggio"},errors:{loadFailed:"Impossibile caricare le conversazioni",evalFailed:"Impossibile valutare la conversazione",bulkEvalFailed:"Impossibile valutare in blocco le conversazioni",someFailed:"Alcune conversazioni non possono essere valutate (es. troppo corte o altri errori)."}},UY={title:"Crea nuovo bot",subtitle:"Step 1: scegli un nome e uno slug. Puoi configurare canali, conoscenza, prenotazioni e fatturazione dopo.",fields:{name:"Nome",slug:"Slug",slugHelp:"Usato negli URL demo, widget e routing interno.",description:"Descrizione (opzionale)"},actions:{create:"Crea bot",creating:"Creazione..."},errors:{createFailed:"Impossibile creare il bot"},onboarding:{title:"Crea il tuo primo bot Coslo",subtitle:"Dai al tuo assistente un nome e una breve descrizione. Potrai modificarli in seguito.",intro:"Queste informazioni vengono usate nella dashboard e nei tuoi strumenti interni, non nel widget pubblico.",namePlaceholder:"es. Acme Support Assistant",slugPlaceholder:"es. acme-support",descriptionPlaceholder:"Opzionale. Una breve frase su cosa fa questo bot."}},WY={missingId:"ID bot mancante.",loading:"Caricamento bot...",errorTitle:"Errore",notFoundTitle:"Bot non trovato",slugLabel:"Slug:",actions:{openDemo:"Apri demo",activatePay:"Attiva e paga",viewPlanBilling:"Vedi piano e fatturazione",saveBasics:"Salva impostazioni base",saving:"Salvataggio..."},basics:{title:"Impostazioni base del bot",subtitle:"Descrizione ad alto livello e comportamento principale dell'assistente.",descriptionLabel:"Descrizione",descriptionPlaceholder:"Breve descrizione di cosa fa questo bot...",systemPromptLabel:"System prompt (comportamento avanzato)",systemPromptPlaceholder:"Istruzioni interne che l'AI deve seguire sempre...",systemPromptHelp:"Non viene mostrato agli utenti finali. Usalo per definire tono, limiti e regole speciali del bot.",autoEvalLabel:"Valutazione automatica conversazioni",autoEvalHelp:"Valuta automaticamente le conversazioni in background per monitorare la qualit. Usa l'energia del piano ma non impatta gli utenti."},health:{title:"Panoramica stato",botStatusTitle:"Stato bot",knowledgeTitle:"Stato conoscenza",channelsTitle:"Stato canali",calendarTitle:"Stato calendario",evalTitle:"Valutazione conversazioni",badges:{configured:"Configurato",disabled:"Disattivato",enabledNotInitialized:"Attivo, non inizializzato",enabledNotConfigured:"Attivo, non configurato",noChannelsEnabled:"Nessun canale attivo",allChannelsConfigured:"Tutti i canali attivi configurati",someChannelsNeedSetup:"Alcuni canali richiedono setup"},botStatus:{active:"Questo bot  attivo e pronto a gestire conversazioni.",draft:"Questo bot non  ancora attivo. Puoi attivarlo dal flusso di fatturazione.",inactive:"Questo bot non  attivo. Controlla piano e fatturazione o contatta il supporto se non te lo aspetti."},knowledge:{disabled:"Crawler dominio / importazione PDF sono disattivati per questo bot.",enabledNotInitialized:"Le funzioni di conoscenza sono attive, ma nessuna scansione/caricamento ha ancora inizializzato la base di conoscenza.",configured:"La base di conoscenza  creata e pu essere usata per le risposte."},channels:{and:"e configuralo in",none:"Nessun canale  attivo. Attivali in",enabledList:"Canali attivi: {{channels}}. Tutti hanno la configurazione richiesta.",missingConfig:"Alcuni canali attivi non sono configurati correttamente: {{missing}}. Vai su"},calendar:{disabled:"Le prenotazioni Google Calendar sono disattivate. Puoi attivarle in Funzionalit e Piano.",enabledNotConfigured:"Le prenotazioni sono attive, ma mancano ID calendario, fuso orario o durata. Configura in Funzionalit e Piano.",configured:"Le prenotazioni usano Google Calendar ({{calendarId}}) in {{timeZone}}, durata predefinita {{duration}} minuti."},eval:{automatic:"Automatica",manual:"Solo manuale",automaticDesc:"Le nuove conversazioni possono essere valutate automaticamente in background per monitorare la qualit.",manualDesc:"Le conversazioni vengono valutate solo quando le avvii manualmente dalla sezione Conversazioni."}},channels:{names:{web:"Web",whatsapp:"WhatsApp",messenger:"Facebook Messenger",instagram:"Instagram DM"},missing:{webDomain:"Dominio web",whatsappExternalId:"External ID WhatsApp",facebookPageId:"ID pagina Facebook",instagramBusinessId:"ID business Instagram"}},workspace:{title:"Area bot",subtitle:"Vai alle aree di configurazione e monitoraggio di questo bot."},billing:{title:"Fatturazione attuale",perMonth:"mese",totalPerMonth:"Totale al mese",manage:"Gestisci piano e fatturazione"},nav:{featuresPlan:"Funzionalit e Piano",featuresPlanDesc:"Attiva canali, crawler e scegli il piano di utilizzo.",knowledge:"Contenuti e Conoscenza",knowledgeDesc:"Carica documenti e configura come il bot apprende.",channels:"Canali",channelsDesc:"Collega WhatsApp, sito, Facebook e Instagram.",conversations:"Conversazioni",conversationsDesc:"Rivedi le chat e analizza il comportamento del bot.",settings:"Impostazioni prenotazioni",settingsDesc:"Gestisci le impostazioni delle prenotazioni",adsSettings:"Impostazioni Lead ADS",adsSettingsDesc:"Gestisci le impostazioni Lead ADS"},success:{basicsUpdated:"Impostazioni base del bot aggiornate."},errors:{loadBot:"Impossibile caricare il bot",updateBot:"Impossibile aggiornare il bot",loadPricing:"Impossibile caricare i prezzi del piano attuale."}},HY={title:"Canali",subtitle:"Collega il tuo bot a web, WhatsApp, Pagine Facebook e profili Instagram Business.",backToBot:" Torna alla panoramica",missingId:"ID bot mancante.",loading:"Caricamento canali...",labels:{facebookPage:"Pagina Facebook",instagramBusiness:"Profilo Instagram Business",whatsapp:"WhatsApp",whatsappBusiness:"WhatsApp Business",webWidget:"Widget web"},status:{notConnected:"Non collegato",active:"Attivo",connected:"Collegato",connectedUnknownExpiry:"Collegato (scadenza sconosciuta)",needsReconnect:"Ricollegamento necessario",expiringSoon:"In scadenza",expired:"Scaduto"},meta:{loadingPages:"Caricamento pagine Meta...",sessionLoadFailed:"Impossibile caricare la sessione Meta",selectTitle:"Seleziona {{channel}}",selectSubtitle:"Abbiamo recuperato le pagine che gestisci da Meta. Scegli quale collegare a questo bot.",selectPlaceholder:"Seleziona una pagina...",instagramEligiblePagesLabel:"Pagina con account Instagram Business",instagramHint:"Solo le pagine con un account Instagram Business collegato possono essere usate per Instagram.",connectedViaMeta:"Collegato tramite Meta",permissionsDialog:{titleFacebook:"Rivedi gli accessi per Facebook",titleInstagram:"Rivedi gli accessi per Instagram",introFacebook:"Prima di continuare con Facebook, rivedi quali permessi questa app ricever da Meta.",introInstagram:"Prima di continuare con Instagram, rivedi quali permessi questa app ricever da Meta.",listTitle:"Potremo:",facebook:{pagesShowList:"Vedere l'elenco delle Pagine Facebook che gestisci, cos puoi scegliere quale collegare.",pagesMessaging:"Leggere e inviare messaggi sulla Pagina collegata, in modo che il bot possa rispondere via Messenger.",pagesManageMetadata:"Gestire le impostazioni di messaggistica e i webhook della Pagina, cos possiamo ricevere i nuovi messaggi in tempo reale.",businessManagement:"Accedere alle risorse Facebook (Pagine e account Instagram) che gestisci in Meta Business Manager per poterle collegare a questo bot."},instagram:{pagesShowList:"Vedere le Pagine Facebook collegate al tuo account Instagram Business, cos puoi scegliere quale collegare.",instagramBasic:"Leggere le informazioni di base del profilo (nome, username, immagine del profilo) del tuo account Instagram Business per mostrarle nella dashboard.",instagramManageMessages:"Leggere e inviare messaggi Direct su Instagram, cos il bot pu rispondere ai DM.",pagesManageMetadata:"Gestire le impostazioni di messaggistica e i webhook, cos possiamo ricevere i nuovi messaggi Instagram in tempo reale.",businessManagement:"Accedere alle risorse Facebook (Pagine e account Instagram) che gestisci in Meta Business Manager per poterle collegare a questo bot."},checkboxLabel:"Ho letto e accetto di concedere questi permessi.",continueFacebook:"Continua con Facebook",continueInstagram:"Continua con Instagram",footerNote:"Puoi revocare questi permessi in qualsiasi momento dalle impostazioni del tuo account Facebook e Instagram."},selectModal:{titleFacebook:"Seleziona una Pagina Facebook",titleInstagram:"Seleziona una pagina per Instagram",introFacebook:"Abbiamo recuperato da Meta le Pagine Facebook che puoi gestire. Scegline una da collegare a questo bot.",introInstagram:"Abbiamo recuperato da Meta le Pagine Facebook collegate ai tuoi account Instagram Business. Scegline una da collegare.",personalGroupTitle:"Pagine personali",businessGroupTitle:"Pagine gestite tramite Business Manager",noPages:"Non sono state trovate pagine idonee per questa connessione.",editPreviousSettingsHint:`Se ti aspettavi di vedere qui le pagine Instagram, quando si apre il popup di Facebook clicca su "Modifica le impostazioni precedenti" e assicurati di selezionare sia la pagina Facebook sia l'account Instagram collegato.`}},whatsapp:{selectNumberTitle:"Seleziona numero WhatsApp",selectNumberSubtitle:"Abbiamo recuperato i numeri nel tuo account WhatsApp Business. Scegli quale collegare a questo bot.",numberLabel:"Numero WhatsApp",selectPlaceholder:"Seleziona un numero...",number:"Numero: {{number}}",numberId:"ID numero: {{id}}"},connectSocial:{title:"Collega canali social",subtitle:"Usa il login Meta per collegare la tua Pagina Facebook, account Instagram Business o numero WhatsApp Business. Salveremo i token necessari in modo sicuro.",facebookDesc:"Collega una Pagina Facebook cos il bot pu rispondere via Messenger.",instagramDesc:"Collega un account Instagram Business per rispondere ai DM.",whatsappDesc:"Collega un numero WhatsApp Business con embedded signup.",connectedPage:"Pagina collegata",connectedAccount:"Account business collegato",connectedNumber:"Numero collegato"},connected:{title:"Canali collegati",subtitle:"Rivedi e gestisci tutti i canali collegati a questo bot.",empty:"Nessun canale collegato per ora."},table:{type:"Tipo",details:"Dettagli",status:"Stato"},fields:{type:"Tipo",externalId:"External ID",accessToken:"Access token",metaJson:"Meta (JSON)"},placeholders:{metaJson:`{
  "example": true
}`},create:{title:"Aggiungi canale",metaWarning:"I canali Facebook/Instagram devono essere collegati usando i pulsanti Meta qui sopra."},edit:{title:"Modifica canale"},web:{externalId:"External ID: {{id}}",defaultWidget:"Widget sito predefinito"},generic:{externalId:"External ID: {{id}}"},actions:{connectSelected:"Collega selezionato",connecting:"Collegamento...",cancel:"Annulla",connectFacebook:"Collega Facebook",reconnectFacebook:"Ricollega Facebook",connectInstagram:"Collega Instagram",reconnectInstagram:"Ricollega Instagram",connectWhatsapp:"Collega WhatsApp",reconnectWhatsapp:"Ricollega WhatsApp",connectingWhatsapp:"Collegamento WhatsApp...",disconnect:"Disconnetti",edit:"Modifica",save:"Salva",addChannel:"Aggiungi canale",create:"Crea"},confirm:{deleteChannel:"Eliminare questo canale?"},errors:{loadFailed:"Impossibile caricare i canali",createFailed:"Impossibile creare il canale",updateFailed:"Impossibile aggiornare il canale",deleteFailed:"Impossibile eliminare il canale",metaSessionLoad:"Impossibile caricare la sessione Meta",metaAttachFailed:"Impossibile collegare la pagina Meta",metaMustUseConnect:"I canali Facebook/Instagram devono essere collegati usando i pulsanti Meta qui sopra.",metaManagedExternally:"I canali Facebook e Instagram sono gestiti via Meta. Per aggiornarli, disconnetti e ricollega usando i pulsanti qui sopra.",facebookConnectFailed:"Impossibile avviare la connessione Facebook",instagramConnectFailed:"Impossibile avviare la connessione Instagram",whatsappEnvMissing:"WhatsApp non  configurato. Imposta VITE_META_APP_ID e VITE_WHATSAPP_EMBEDDED_CONFIG_ID.",whatsappCancelled:"La procedura WhatsApp  stata annullata o non completata.",whatsappSignupFailed:"Impossibile completare l'embedded signup WhatsApp",whatsappInitFailed:"Impossibile inizializzare la procedura WhatsApp",whatsappAttachFailed:"Impossibile collegare il numero WhatsApp"},onboarding:{common:{skip:"Salta per ora"},channels:{title:"Dove dovrebbe parlare Coslo con i tuoi clienti?",subtitle:"Collega almeno un canale adesso. Potrai sempre aggiungerne altri in seguito dalla dashboard.",meta:{title:"Meta inbox (Facebook e Instagram)",subtitle:"Collega la tua Pagina Facebook e l'account Instagram Business cos Coslo potr rispondere automaticamente ai messaggi.",toggleOn:"Meta inbox ATTIVA",toggleOff:"Meta inbox DISATTIVATA",toggleOffHint:"Lascia Meta inbox disattivata se non vuoi che Coslo risponda su Facebook o Instagram per questo bot.",disabledBody:"Meta inbox  disattivata per questo bot. Attivala qui sopra se vuoi collegare Facebook o Instagram."},whatsapp:{title:"WhatsApp Business (embedded signup)",subtitle:"Collega un numero WhatsApp Business usando il flusso ufficiale di embedded signup di Meta.",toggleOn:"WhatsApp ATTIVO",toggleOff:"WhatsApp DISATTIVATO",toggleOffHint:"Lascia WhatsApp disattivato se non vuoi che Coslo invii messaggi su WhatsApp per questo bot.",disabledBody:"WhatsApp  disattivato per questo bot. Attivalo qui sopra se vuoi collegare un numero."},next:"Continua alle prenotazioni"}}},qY={title:"Contenuti & Conoscenza",subtitle:"Configura dominio, prompt e avvia crawl o ingestione documenti per {{botName}}.",backToBot:" Torna alla panoramica",missingId:"ID bot mancante.",loadingBot:"Caricamento bot...",notFound:"Bot non trovato",featuresAndPlan:"Funzionalit & Piano",status:{knowledgeStatus:"Stato conoscenza",locked:"Bloccato",missing:"Mancante"},lockedBody:"Questo bot  attualmente {{status}}. Attivalo in",missingBody:"Non  stata ancora creata alcuna knowledge base. Esegui il crawl del dominio o carica PDF per dare contesto reale al bot.",feature:{enabled:"Funzionalit attiva",disabled:"Funzionalit disattiva"},fields:{domain:"Dominio",systemPrompt:"System prompt (uso della conoscenza)"},placeholders:{domain:"https://example.com",systemPrompt:"Spiega come il bot dovrebbe usare la conoscenza del sito/documenti nelle risposte..."},domainCard:{title:"Conoscenza dal dominio",description:"Configura il sito da analizzare e raffina come il bot deve usarlo nelle risposte.",domainNote:"Questo dominio viene usato per il crawl del sito e come contesto per la ricerca.",disabledNote:"Il crawler dominio  disattivato per questo bot. Attivalo in"},docsCard:{title:"Documenti & PDF",description:"Carica PDF e altri documenti per arricchire la conoscenza del bot con manuali, FAQ o schede prodotto.",disabledNote:"Lingestione PDF  disattivata per questo bot. Attivala in",uploadLabel:"Carica uno o pi file",supportedFormats:"Formati supportati: PDF, DOC, DOCX, TXT."},actions:{saveKnowledgeSettings:"Salva impostazioni conoscenza",crawlNow:"Esegui crawl del dominio",crawling:"Crawl in corso...",uploading:"Caricamento e ingestione documenti",estimateTokens:"Stima energia",estimating:"Stima in corso..."},estimate:{crawlCostLabel:"Costo stimato della scansione:",tokensUnit:"Energia",sampledPages:"(basato su {{count}} pagina/e campionata/e)"},confirm:{uploadDocsEstimate:`Costo stimato in energia: ~{{tokens}} energia.

Vuoi caricare e indicizzare questi documenti adesso?`},history:{title:"Cronologia scansioni",autoRefreshNote:"Laggiornamento automatico aggiorna solo le righe in esecuzione su questa pagina (ogni {{seconds}}s).",refreshPage:"Aggiorna pagina",refreshingPage:"Aggiornamento...",loadingRows:"Caricamento...",uploadInProgress:"Caricamento in corso",uploadedDocument:"Documento caricato",storedUnder:"Archiviato sotto: {{namespace}}",pagesStored:"{{count}} pagine",refreshRow:"Aggiorna",refreshingRow:"Aggiornamento",prev:"Prec",next:"Succ",tokenUsageNote:"Nota: luso dell'energia  una stima, calcolata dagli eventi di utilizzo nella finestra temporale della scansione.",footer:"Mostrati {{shown}} di {{total}}  pagina {{page}} / {{totalPages}} ({{pageSize}} per pagina)",empty:{noClient:"Nessun client di knowledge ancora. Avvia una scansione o carica un documento per inizializzare.",noRuns:"Nessuna scansione ancora."},status:{queued:"in coda",running:"in esecuzione",completed:"completata",failed:"fallita"},jobType:{docs:"DOCUMENTO",domain:"DOMINIO"},table:{status:"Stato",type:"Tipo",origin:"Origine",started:"Inizio",finished:"Fine",pages:"Pagine",chunks:"Chunk",tokens:"Energia",actions:"Azioni"}},success:{settingsUpdated:"Impostazioni conoscenza aggiornate.",domainCrawlStarted:"Crawl avviato/completato per {{domain}}. La knowledge base verr aggiornata a breve.",uploadedDocs:"Caricati e indicizzati {{count}} documento/i: {{files}}"},errors:{loadBot:"Impossibile caricare il bot",updateSettings:"Impossibile aggiornare le impostazioni",mustBeActiveToCrawl:"Questo bot non  ancora attivo. Attivalo prima di eseguire il crawl dei contenuti.",mustBeActiveToUpload:"Questo bot non  ancora attivo. Attivalo prima di caricare documenti.",domainRequired:"Imposta un dominio prima di eseguire il crawl.",domainCrawlerDisabled:"La funzionalit di crawl dominio  disattivata per questo bot.",pdfUploadDisabled:"La funzionalit di upload PDF  disattivata per questo bot.",crawlFailed:"Impossibile eseguire il crawl del dominio",uploadFailed:"Impossibile caricare i documenti",estimateFailed:"Impossibile stimare il costo della scansione."},onboarding:{title:"Stiamo preparando la conoscenza del tuo bot",subtitle:"Collega il tuo sito cos Coslo pu analizzarlo e rispondere con informazioni dettagliate e aggiornate.",status:{readyExisting:"I tuoi contenuti sono gi indicizzati. Puoi rieseguire lindicizzazione in qualsiasi momento per mantenere Coslo aggiornato.",completed:"Conoscenza pronta. Coslo ora conosce il tuo sito.",failed:"Il crawl non  andato a buon fine. Controlla il dominio e riprova.",running:"Indicizzazione in corso. Puoi gi usare il bot mentre completiamo la scansione.",pollError:"Stiamo avendo problemi ad aggiornare lo stato, ma il crawl  ancora in esecuzione."},statusPill:{running:"Indicizzazione in corso",completed:"Conoscenza pronta",failed:"Crawl fallito",idle:"Non ancora avviato"},errors:{loadBot:"Impossibile caricare questo bot in questo momento.",saveDomain:"Impossibile salvare questo dominio.",crawlFailed:"Non siamo riusciti ad avviare il crawl. Controlla il dominio e riprova."},heroTitle:"Insegna a Coslo il tuo sito in un clic",heroBody:"Analizziamo il tuo dominio principale per estrarre FAQ, articoli di supporto e pagine chiave, cos lassistente sembra un vero membro del team.",domainLabel:"Dominio del sito",domainPlaceholder:"https://tuo-sito.com",savingDomain:"Salvataggio",saveDomain:"Salva dominio",domainHint:"Usiamo solo pagine pubbliche e rispettiamo sempre il tuo robots.txt.",btnIndexing:"Indicizzazione del sito",btnReindex:"Reindicizza sito",btnStartIndexing:"Avvia indicizzazione",goToDashboard:"Vai alla dashboard",dashboardHint:"Sbloccheremo il pulsante dashboard subito dopo il completamento della prima indicizzazione.",step1:{title:"Collega il tuo dominio",text:"Aggiungi il sito principale usato dai tuoi clienti."},step2:{title:"Coslo analizza le tue pagine",text:"Seguiamo i link, estraiamo i contenuti e li ripuliamo."},step3:{title:"Il tuo bot risponde come un professionista",text:"Usa Coslo su qualsiasi canale, con il contenuto del tuo sito a supporto."}}},KY={title:"I tuoi bot",loading:"Caricamento bot...",empty:"Nessun bot ancora.",table:{name:"Nome",slug:"Slug",status:"Stato",domain:"Dominio",channels:"Canali",actions:"Azioni"},channels:{web:"Web",whatsapp:"WhatsApp",messenger:"Messenger",instagram:"Instagram"},actions:{create:"Crea nuovo bot",openBot:"Apri bot",deleteBot:"Elimina bot"},confirm:{typeSlug:'Digita lo slug di questo bot ("{{slug}}") per confermare leliminazione:',slugMismatch:"Lo slug non corrisponde. Il bot non  stato eliminato.",deleteBot:'Questo eliminer definitivamente il bot "{{name}}" e tutte le sue conversazioni e dati. Continuare?'},errors:{loadFailed:"Impossibile caricare i bot",deleteFailed:"Impossibile eliminare il bot"}},VY={title:"Conversazione",backToBots:" Torna ai bot",missingId:"ID conversazione mancante.",loading:"Caricamento messaggi...",empty:"Nessun messaggio.",roles:{user:"Utente",assistant:"Assistente",human:"Umano",system:"Sistema"},parties:{title:"Partecipanti alla conversazione",business:"Il tuo canale",user:"Contatto"},testSend:{title:"Invio di test (verifica Meta)",description:"Invia un messaggio di prova a questo contatto usando il canale collegato. Pensato solo per la verifica dell'app Meta.",placeholder:"Scrivi un messaggio di prova",button:"Invia messaggio di prova",sending:"Invio in corso",empty:"Inserisci un messaggio prima di inviare.",success:"Messaggio di prova inviato.",error:"Invio del messaggio di prova non riuscito."},manualSend:{title:"Risposta manuale (UMANO)",description:"Invia una risposta manuale come operatore umano tramite questo canale.",windowExpired:"Non puoi pi inviare messaggi manuali: l'ultimo messaggio dell'utente risale a pi di 24 ore fa su questo canale. Meta richiede i template oltre la finestra di 24 ore.",placeholder:"Scrivi una risposta manuale...",sending:"Invio in corso...",button:"Invia",success:"Messaggio inviato come UMANO."},mode:{title:"Modalit conversazione",humanDescription:"Il passaggio all'operatore umano  attivo. Il bot non risponder automaticamente ai messaggi dell'utente.",aiDescription:"L'assistente AI risponde automaticamente ai nuovi messaggi dell'utente.",humanLabel:"UMANO",aiLabel:"AI",switchingToHuman:"Cambio in corso",toHumanButton:"Passa a UMANO (metti in pausa l'AI)",switchingToAi:"Cambio in corso",toAiButton:"Torna all'AI",error:"Impossibile aggiornare la modalit della conversazione."},errors:{loadFailed:"Impossibile caricare i messaggi"}},GY={title:"Calendario e prenotazioni",backToOverview:" Torna alla panoramica",featuresAndPlan:"Funzionalit e piano",missingId:"ID bot mancante.",loading:"Caricamento impostazioni bot",notFound:"Bot non trovato.",intro:"Collega questo bot al tuo Google Calendar e ottimizza il comportamento di prenotazioni, promemoria ed email.",calendarDisabled:{title:"Il calendario  disattivato per questo bot.",body:"Le funzionalit di prenotazione saranno attive solo dopo aver abilitato ladd-on calendario in"},sections:{calendarConnection:{title:"Connessione calendario",hint:"Configura quale Google Calendar usare e la durata predefinita per le nuove prenotazioni."},bookingRules:{title:"Regole di prenotazione",hint:"Definisci quanto in anticipo i clienti possono prenotare e quanto a ridosso dellinizio sono consentite le prenotazioni."},reminderWindow:{title:"Finestra promemoria",hint:"Gestisci quando vengono inviate le email di promemoria rispetto allorario di inizio."},emails:{title:"Email",hint:"Personalizza le email di conferma e promemoria. Puoi usare segnaposto come"},bookingFields:{title:"Campi prenotazione",hint:"Questi sono i campi che lassistente prover a raccogliere durante la prenotazione."},availability:{title:"Giorni e orari disponibili",hint:"Scegli in quali giorni accetti prenotazioni e gli intervalli orari per ciascun giorno.",addRange:"Aggiungi fascia oraria",removeRange:"Rimuovi",note:"Le prenotazioni saranno accettate solo all'interno di questi intervalli (nel fuso orario del bot).",enabledHint:"Le prenotazioni sono consentite in questo giorno all'interno delle fasce orarie sottostanti.",disabledHint:"Le prenotazioni non sono consentite in questo giorno finch non lo abiliti.",acceptBookings:"Accetta prenotazioni in questo giorno",from:"Dalle",to:"Alle"}},weekdays:{monday:"Luned",tuesday:"Marted",wednesday:"Mercoled",thursday:"Gioved",friday:"Venerd",saturday:"Sabato",sunday:"Domenica"},fields:{calendarId:{label:"ID calendario",placeholder:"primary oppure your-calendar-id@group.calendar.google.com",help:"Usa"},timeZone:{label:"Fuso orario",placeholder:"es. Europe/Rome",help:"Nome IANA del fuso orario. Lassistente lo usa per calcolare disponibilit e orari nelle email."},defaultDurationMinutes:{label:"Durata predefinita prenotazione (minuti)",placeholder:"30",help:"Usata quando lutente non specifica esplicitamente una durata."},bookingMinLeadHours:{label:"Anticipo minimo (ore)",placeholder:"es. 2",help:"Lappuntamento deve iniziare almeno questo numero di ore dopo la creazione."},bookingMaxAdvanceDays:{label:"Massimo giorni di anticipo",placeholder:"es. 30",help:"Non accettare prenotazioni oltre questo numero di giorni da oggi. Lascia vuoto per nessun limite."},bookingMaxSimultaneousBookings:{label:"Numero massimo di prenotazioni per slot",placeholder:"es. 1",help:"Limita quante prenotazioni possono essere accettate per lo stesso orario. Lascia vuoto per nessun limite."},bookingReminderWindowHours:{label:"Finestra promemoria (ore prima dellinizio)",placeholder:"es. 24",help:"Gli appuntamenti che iniziano entro questo numero di ore saranno idonei ai promemoria."},bookingReminderMinLeadHours:{label:"Ore minime tra creazione e inizio",placeholder:"es. 3",help:"Evita promemoria per prenotazioni last-minute. Lascia vuoto per disabilitare questo vincolo aggiuntivo."}},advanced:{prompt:"Serve pi controllo su regole, promemoria ed email?",show:"Impostazioni avanzate",hide:"Nascondi impostazioni avanzate"},toggles:{confirmationEmail:"Invia email di conferma dopo una nuova prenotazione",reminderEmail:"Invia email di promemoria prima dellappuntamento"},emailFields:{subject:"Oggetto",bodyText:"Testo (plain)",bodyHtmlOptional:"Testo (HTML, opzionale)"},emailGroups:{confirmation:{title:"Email di conferma",subjectPlaceholder:"La tua prenotazione con {{bot.name}}  confermata",textPlaceholder:`Ciao {{client.name}},

la tua prenotazione per {{booking.service}} il {{booking.start}}  confermata.
Se devi riprogrammare, contattaci.

 {{bot.name}}`,htmlPlaceholder:"<p>Ciao {{client.name}},</p><p>La tua prenotazione per {{booking.service}} il {{booking.start}}  confermata.</p>",htmlHelp:"Se presente, lHTML verr usato come corpo principale dellemail. Mantienilo semplice e adatto al mobile."},reminder:{title:"Email di promemoria",subjectPlaceholder:"Promemoria: la tua prenotazione con {{bot.name}}",textPlaceholder:`Ciao {{client.name}},

questo  un promemoria per la tua prenotazione {{booking.service}} il {{booking.start}}.

 {{bot.name}}`,htmlPlaceholder:"<p>Ciao {{client.name}},</p><p>Questo  un promemoria per la tua prenotazione {{booking.service}} il {{booking.start}}.</p>",htmlHelp:"Lascia vuoto per usare la versione solo testo."},cancellation:{title:"Email di cancellazione",subjectPlaceholder:"La tua prenotazione con {{bot.name}}  stata cancellata",textPlaceholder:`Ciao {{client.name}},

la tua prenotazione per {{booking.service}} il {{booking.start}}  stata cancellata.
Se si tratta di un errore, contattaci.

 {{bot.name}}`,htmlPlaceholder:"<p>Ciao {{client.name}},</p><p>La tua prenotazione per {{booking.service}} il {{booking.start}}  stata cancellata.</p>",htmlHelp:"Lascia vuoto per usare la versione solo testo."}},bookingFields:{alwaysRequiredTitle:"Sempre richiesti",alwaysRequiredHelp:"Questi campi base sono sempre obbligatori e non possono essere rimossi.",additionalTitle:"Campi aggiuntivi",additionalEmpty:"Nessun campo extra configurato. Aggiungi le informazioni extra che vuoi far chiedere al bot (es.",addPlaceholder:"Aggiungi una chiave campo, es. notes",addButton:"Aggiungi",keysHelp:"Usa chiavi brevi e machine-friendly (senza spazi). Lassistente parler comunque in linguaggio naturale.",removeFieldAria:"Rimuovi campo {{field}}"},actions:{save:"Salva impostazioni",saving:"Salvataggio",note:"Le modifiche si applicano alle nuove conversazioni e prenotazioni."},side:{title:"Come vengono usati calendario e prenotazioni",subtitle:"La configurazione del calendario controlla dove vengono creati gli eventi. Le impostazioni avanzate ottimizzano come lassistente propone gli slot e invia notifiche.",cards:{calendar:{title:"Connessione calendario",text:"Lassistente crea eventi su questo calendario usando fuso orario e durata predefinita configurati qui."},timeRules:{title:"Regole temporali",text:"Le regole di prenotazione evitano appuntamenti troppo last-minute o troppo lontani nel tempo, mantenendo sotto controllo la tua agenda."},emailTemplates:{title:"Template email",text:"Se SMTP  configurato male, il backend ripiega sullinvio delle conferme solo in chat. Quando le email vengono inviate, segnaposto come",and:"e",replaced:"vengono sostituiti con dati reali"},bookingFields:{title:"Campi prenotazione",text:"I campi extra configurati vengono salvati con ogni appuntamento e possono essere usati nei tuoi workflow o nel CRM."}}},success:{saved:"Impostazioni aggiornate correttamente."},errors:{loadFailed:"Impossibile caricare le impostazioni del bot. Aggiorna la pagina e riprova.",saveFailed:"Impossibile salvare le impostazioni. Controlla i valori e riprova."},onboarding:{common:{skip:"Salta per ora"},booking:{title:"Abilita le prenotazioni dalla chat",subtitle:"Collega il calendario, definisci gli slot disponibili e le regole di prenotazione.",toggleTitle:"Lascia che Coslo proponga e prenoti appuntamenti",toggleSubtitle:"Quando  attivo, Coslo controller il tuo calendario e proporr gli slot disponibili direttamente in chat.",toggleOn:"Prenotazioni ATTIVE",toggleOff:"Prenotazioni DISATTIVATE",toggleOffHint:"Puoi lasciare le prenotazioni disattivate e completare comunque lonboarding. Potrai attivarle in seguito dallapp.",enableToContinue:"Attiva le prenotazioni qui sopra oppure salta questo passaggio per continuare.",nextWhenDisabled:"Continua a Lead Ads",next:"Salva e continua a Lead Ads"}}},YY={hero:{kicker:"Legale",title:"Informativa Privacy & Trattamento Dati",intro:"Coslo  una piattaforma SaaS multi-tenant che collega i canali della tua azienda (Web Widget, WhatsApp, Facebook Messenger, Instagram Direct) a un assistente AI e, opzionalmente, allautomazione delle prenotazioni con Google Calendar. Questa pagina spiega quali dati trattiamo, perch li trattiamo, come li proteggiamo e quali controlli hai a disposizione.",lastUpdatedLabel:"Ultimo aggiornamento"},sections:{whoWeAre:{title:"1) Chi siamo",serviceLabel:"Servizio",serviceValue:"Coslo (coslo.it)",providerLabel:"Titolare",addressLabel:"Indirizzo",emailLabel:"Email"},appliesTo:{title:"2) A chi si applica questa informativa",paragraphs:["Questa informativa si applica a (a) titolari dellaccount e membri del team che utilizzano Coslo per configurare e gestire un assistente (i Utenti Business) e (b) utenti finali che contattano unazienda tramite messaggistica, quando lazienda usa Coslo per fornire risposte automatizzate (gli Utenti Finali).","Nella maggior parte dei casi, lazienda contattata determina come utilizza i canali di messaggistica e quali informazioni fornisce allassistente. Se sei un Utente Finale, per richieste relative alla conversazione (accesso/cancellazione) dovresti in genere contattare direttamente lazienda, salvo diverse istruzioni."]},dataWeProcess:{title:"3) Quali dati raccogliamo / trattiamo",paragraphs:["Trattiamo le seguenti categorie di dati, in base alle funzionalit che abiliti:"],list:["Dati account: indirizzo email e dati di autenticazione (le password sono memorizzate in forma hashata), oltre a impostazioni base dellaccount.","Configurazione dellassistente: nome del bot, slug, dominio collegato, istruzioni/prompt di sistema, funzionalit abilitate e impostazioni dei canali.","Input della knowledge base: contenuti che colleghi o carichi per alimentare lassistente, come contenuti del tuo sito pubblico e PDF (e metadati correlati come URL sorgente / nome file).","Output della knowledge base: rappresentazioni elaborate dei contenuti (ad esempio: testo estratto, chunk e embedding/vettori) utilizzate per recuperare informazioni rilevanti.","Dati conversazione: contenuto dei messaggi scambiati con lassistente (testo) e metadati correlati (timestamp, tipo canale e identificativi necessari per instradare le risposte).","Identificativi integrazioni: identificativi necessari per collegare i canali e consegnare i messaggi (es. WhatsApp phone number IDs, Facebook Page IDs, Instagram Business IDs) e credenziali/token di autorizzazione usati per inviare/ricevere messaggi per tuo conto.","Dati prenotazione (se abilitati): informazioni necessarie a pianificare un appuntamento (es. nome, contatti, servizio, data/ora e note o campi personalizzati configurati).","Analitiche del servizio (per tenant): metriche per il titolare dellaccount business come numero di conversazioni, volume messaggi, utilizzo nel tempo e indicatori di qualit (es. se lassistente ha risposto correttamente).","Log tecnici e di sicurezza: log operativi (es. log errori, log consegna webhook ed eventi di sicurezza) utilizzati per gestire e proteggere il servizio."]},howWeUse:{title:"4) Come utilizziamo i tuoi dati",paragraphs:["Utilizziamo i dati per gestire Coslo e fornire le funzionalit che abiliti:"],list:["Fornire il servizio: creare e gestire account, assistenti, dashboard e canali collegati.","Consegnare la messaggistica: ricevere messaggi dai canali collegati e inviare risposte per conto dellazienda.","Generare risposte: recuperare conoscenza rilevante dalle fonti configurate (sito/PDF/FAQ) e generare risposte coerenti con la configurazione dellassistente.","Prenotazioni (opzionale): verificare disponibilit e creare prenotazioni/eventi in Google Calendar quando abilitato.","Analitiche & controllo qualit: fornire analitiche per tenant e consentire al titolare dellaccount di consultare lo storico conversazioni per valutare le performance dellassistente, gestire richieste e migliorare contenuti/configurazione.","Sicurezza & affidabilit: rilevare abusi, prevenire frodi, risolvere problemi e mantenere la stabilit della piattaforma."]},aiProcessing:{paragraphs:["Coslo  pensato per casi duso di supporto business. Lassistente  configurato per rispondere utilizzando le fonti di conoscenza che fornisci (ad esempio: pagine del sito pubblico, PDF, FAQ).","Per generare una risposta, potremmo inviare al nostro provider AI il testo del messaggio dellUtente Finale, gli snippet di conoscenza recuperati (RAG) e la configurazione dellassistente (come le istruzioni di sistema). Questo trattamento  necessario per fornire la risposta AI richiesta.","Potremmo conservare log delle richieste/risposte AI per operare, effettuare debug e migliorare il servizio. Non utilizziamo i contenuti conversazionali dei Clienti per addestrare o migliorare un modello AI condiviso/generico e non utilizziamo i dati conversazionali di unazienda per costruire o migliorare lassistente di unaltra azienda."]},tenantSeparation:{title:"6) Consultazione conversazioni, accessi e separazione multi-tenant",paragraphs:["Coslo  multi-tenant. Dati conversazionali, knowledge base e analitiche generate per un account business sono isolate dagli altri account business.","Le aziende possono consultare lo storico conversazioni del proprio assistente nella dashboard Coslo per finalit operative (es. controllo qualit, gestione richieste, miglioramento della knowledge base). Laccesso  limitato agli utenti autorizzati dello stesso account business.","Gli Utenti Finali non hanno accesso alle dashboard analitiche interne o agli strumenti operativi dellazienda."]},messagingChannels:{paragraphs:["Se colleghi canali Meta, Coslo utilizza le API Meta per consegnare messaggi e ricevere eventi (webhook). Questo richiede la memorizzazione di identificativi di canale (come Page ID / Business ID / phone number ID) e credenziali/token necessari per inviare e ricevere messaggi per tuo conto.","Le aziende sono responsabili di assicurarsi di avere i diritti/autorizzazioni necessari per collegare e utilizzare questi canali e di comunicare agli Utenti Finali come viene gestita la messaggistica.","Quando necessario per fornire il servizio, le credenziali/token di autorizzazione vengono archiviati in modo sicuro (inclusa la cifratura a riposo) e laccesso  limitato a sistemi e personale autorizzati."]},automationEscalation:{title:"8) Automazione e passaggio a un operatore umano",paragraphs:["Le aziende possono usare Coslo per automatizzare parte dellassistenza clienti sui canali di messaggistica. Se una richiesta richiede un umano, lazienda dovrebbe fornire un modo chiaro per contattare una persona (ad esempio: parla con un operatore, telefono, email o form di supporto). Coslo supporta questi flussi tramite configurazione e opzioni di escalation definite dallazienda."]},googleCalendar:{title:"9) Prenotazioni su Google Calendar (funzionalit opzionale)",paragraphs:["Se abiliti lautomazione delle prenotazioni, Coslo creer eventi nel Google Calendar che colleghi (o a cui concedi accesso) e potr verificare disponibilit/conflitti per proporre fasce orarie.","Gli eventi creati nel tuo Google Calendar sono memorizzati nel tuo account Google e rimangono l finch non li rimuovi direttamente da Google Calendar."]},thirdParties:{title:"10) Servizi di terze parti (subprocessor)",paragraphs:["Ci affidiamo a fornitori terzi per erogare Coslo. In base alle funzionalit abilitate, i dati possono essere trattati da:"],list:["Meta (WhatsApp, Facebook, Instagram) per la consegna messaggi e i webhook.","Provider AI (es. OpenAI) per generare le risposte dellassistente.","Google (Google Calendar) per lautomazione delle prenotazioni.","Stripe per fatturazione e pagamenti.","Provider di hosting/infrastruttura per eseguire lapplicazione e archiviare i dati in modo sicuro."]},retention:{title:"11) Conservazione dei dati",paragraphs:["Conserviamo i dati per gestire il servizio e fornire le funzionalit dashboard che abiliti. In generale:"],list:["Conversazioni e configurazione dellassistente: conservate finch elimini lassistente, elimini laccount o richiedi la cancellazione (salvo una conservazione limitata nei backup).","Dati della knowledge base: conservati finch rimuovi la fonte (sito/PDF), elimini lassistente, elimini laccount o richiedi la cancellazione.","Log operativi: conservati per un periodo limitato per sicurezza, debug e affidabilit, poi sovrascritti o eliminati."]},deletion:{useTrans:"true",paragraphs:["Puoi disconnettere i canali collegati (WhatsApp, Facebook, Instagram) dalla dashboard Coslo in qualsiasi momento.","Puoi eliminare un assistente specifico dalla pagina Bot List. Questo elimina lassistente e tutti i dati relativi a quellassistente (inclusi knowledge base e conversazioni) dai nostri sistemi primari.","Puoi eliminare lintero account dalla pagina Profilo (Danger Zone). Questo elimina il tuo account e tutti i dati correlati dai nostri sistemi primari.","Alcuni dati tecnici limitati possono rimanere per un breve periodo in log di sicurezza e backup, quindi vengono sovrascritti o eliminati.","Per domande sulla privacy o richieste di cancellazione, contatta <a>lassistenza</a>."]},security:{title:"13) Sicurezza",paragraphs:["Applichiamo misure tecniche e organizzative ragionevoli per proteggere i dati, come controlli di accesso e comunicazioni sicure. Nessun metodo di trasmissione o archiviazione  sicuro al 100%, ma lavoriamo continuamente per ridurre i rischi e prevenire accessi non autorizzati."]},transfers:{title:"14) Trasferimenti internazionali di dati",paragraphs:["Alcuni fornitori potrebbero trattare i dati in paesi diversi dal tuo. Ove applicabile, ci affidiamo a garanzie adeguate per i trasferimenti internazionali (ad esempio tutele contrattuali) in conformit alla normativa applicabile."]},children:{title:"15) Minori",paragraphs:["Coslo  destinato alluso business. Non  progettato per essere rivolto a minori e le aziende devono assicurarsi che luso dei canali di messaggistica rispetti eventuali requisiti di et applicabili."]},rights:{title:"16) I tuoi diritti",useTrans:"true",paragraphs:["In base alla tua posizione (inclusa UE/SEE), potresti avere diritti di accesso, rettifica, cancellazione o opposizione a determinati trattamenti dei tuoi dati personali. Per esercitare questi diritti, contatta <a>lassistenza</a>.","Se sei un Utente Finale che contatta unazienda, in genere dovresti contattare prima lazienda stessa perch controlla la conversazione e le modalit con cui viene gestita."]},changes:{title:"17) Modifiche a questa informativa",paragraphs:["Potremmo aggiornare questa informativa di tanto in tanto. In tal caso aggiorneremo la data di Ultimo aggiornamento in cima a questa pagina."]},questions:{title:"18) Contatti",useTrans:"true",paragraphs:["Per qualsiasi domanda su privacy, uso dei dati o richieste di cancellazione, contatta <a>lassistenza</a>."]}}},QY={hero:{kicker:"Legale",title:"Termini e Condizioni dUso",intro:"I presenti Termini e Condizioni regolano lutilizzo di Coslo (la Piattaforma), un servizio SaaS multi-tenant che collega i canali della tua azienda (es. Web Widget, WhatsApp, Facebook Messenger, Instagram Direct) a un assistente di Intelligenza Artificiale e, se abilitato, allautomazione delle prenotazioni (es. Google Calendar). Utilizzando la Piattaforma, accetti i presenti Termini.",lastUpdatedLabel:"Ultimo aggiornamento"},sections:{provider:{title:"1) Informazioni sul Fornitore",labels:{provider:"Fornitore",address:"Indirizzo",contact:"Contatti"}},definitions:{title:"2) Definizioni",paragraphs:["Ai fini dei presenti Termini: (a) Piattaforma indica Coslo; (b) Cliente indica lutente business che crea un account; (c) Utenti Finali indica le persone che contattano il Cliente; (d) Contenuti del Cliente indica contenuti e dati configurati o forniti dal Cliente (incluse fonti di conoscenza e conversazioni); (e) Servizi di Terze Parti indica servizi esterni integrati (es. canali Meta, Google Calendar, provider AI, Stripe, hosting)."]},scope:{title:"3) Ambito del servizio e idoneit",paragraphs:["Coslo consente ai Clienti di creare e gestire assistenti AI per canali di messaggistica, collegare fonti di conoscenza (es. sito/PDF), automatizzare flussi (es. prenotazioni), integrare Servizi di Terze Parti e consultare analitiche per tenant e storico conversazioni.","La Piattaforma  destinata a un utilizzo business/professionale. Se utilizzi Coslo per conto di unorganizzazione, dichiari di avere lautorit per vincolare tale organizzazione ai presenti Termini."]},account:{title:"4) Account, sicurezza e accessi",paragraphs:["Devi fornire informazioni accurate e aggiornate durante la registrazione e mantenere sicure le credenziali.","Sei responsabile delle attivit svolte tramite il tuo account e della protezione di canali collegati, token e permessi.","Possiamo sospendere o terminare laccesso se riteniamo ragionevolmente che vi siano abusi, attivit illecite o violazioni dei presenti Termini o delle policy di Terze Parti."]},plansPayments:{title:"5) Piani, abbonamenti e pagamenti",paragraphs:["Laccesso pu essere offerto tramite piani gratuiti, prove o abbonamenti a pagamento come descritti in Piattaforma o sul sito.","I piani a pagamento sono fatturati in modalit ricorrente (mensile/annuale) tramite un payment processor (es. Stripe). Autorizzi gli addebiti ricorrenti finch labbonamento resta attivo.","Salvo quanto richiesto dalla legge o indicato nel tuo piano, i pagamenti non sono rimborsabili."]},permittedUseCompliance:{title:"6) Uso consentito, divieti e compliance dei canali",paragraphs:["Sei responsabile dei tuoi assistenti, dei Contenuti del Cliente e delle interazioni con gli Utenti Finali.","Non devi utilizzare Coslo per attivit illecite, spam, phishing, malware, molestie o violazioni di diritti di terzi.","Devi rispettare termini e policy dei Servizi di Terze Parti per i canali collegati (incluse le policy WhatsApp/Meta). Tali policy possono limitare automazione e utilizzo di AI.","Coslo  pensato per casi duso di supporto business (assistenza, informazioni, prenotazioni, gestione lead). Non devi configurarlo o promuoverlo come chatbot general purpose non correlato al tuo business, n usarlo in modo contrario alle regole dei canali.","Dove richiesto, devi fornire agli Utenti Finali un percorso chiaro per contattare un operatore umano (es. parla con un operatore, telefono, email, form). Sei responsabile della configurazione e del mantenimento dellopzione di contatto umano presentata agli Utenti Finali sui canali collegati."]},privacyMultiTenant:{title:"7) Privacy, trattamento dati e separazione multi-tenant",paragraphs:["Coslo  multi-tenant: i dati di ciascun Cliente sono logicamente separati dagli altri tenant e accessibili solo agli utenti autorizzati dello stesso account Cliente.","La Privacy & Data Policy  parte integrante dei presenti Termini e descrive quali dati trattiamo, perch, i tempi di conservazione e i controlli di cancellazione.","In base al caso duso, pu essere reso disponibile un accordo di trattamento dati (DPA) per Clienti business."]},aiLimitations:{title:"8) AI: limiti e responsabilit",paragraphs:["Gli output dellassistente sono generati automaticamente in base alla configurazione, alle fonti di conoscenza e ai modelli AI di terze parti.","LAI pu produrre contenuti inesatti o incompleti. La Piattaforma  fornita best effort e non sostituisce consulenze professionali (legali/mediche/fiscali).","Sei responsabile della verifica e delluso appropriato degli output, soprattutto in contesti regolamentati o ad alto impatto."]},thirdParties:{title:"9) Servizi di Terze Parti",paragraphs:["La Piattaforma integra Servizi di Terze Parti (es. canali Meta, Google Calendar, provider AI, Stripe, hosting). Luso di tali servizi  soggetto ai rispettivi termini e policy.","Non siamo responsabili per interruzioni, restrizioni o modifiche imposte dai Servizi di Terze Parti, incluse revoche di accesso API o cambi policy."]},availabilitySupport:{title:"10) Disponibilit, manutenzione e supporto",useTrans:"true",paragraphs:["Puntiamo a mantenere la Piattaforma ragionevolmente disponibile, ma la disponibilit pu essere influenzata da manutenzioni, aggiornamenti e Servizi di Terze Parti.","Il supporto pu variare in base al piano. Per assistenza, contatta <a>{{email}}</a>."]},ip:{title:"11) Propriet intellettuale",paragraphs:["Tutti i diritti sulla Piattaforma (software, design, marchi, documentazione) restano del Fornitore e dei suoi licenzianti.","Mantieni i diritti sui tuoi Contenuti del Cliente. Concedi al Fornitore una licenza limitata a trattare tali contenuti solo per erogare e gestire la Piattaforma."]},termination:{title:"12) Durata, sospensione e cessazione",paragraphs:["Laccount resta attivo finch mantieni un piano attivo o hai accesso alla Piattaforma.","Puoi annullare labbonamento secondo il flusso di cancellazione disponibile in Piattaforma.","Possiamo sospendere o terminare laccesso per violazioni rilevanti, mancato pagamento o uso illecito.","Gli eventi creati in Google Calendar restano nel tuo account Google finch non li rimuovi da Google Calendar."]},warranty:{title:"13) Esclusioni di garanzia",paragraphs:["La Piattaforma  fornita cos com e come disponibile, nei limiti massimi consentiti dalla legge. Escludiamo ogni garanzia espressa o implicita.","Non garantiamo che la Piattaforma sia ininterrotta o priva di errori, n che gli output AI siano sempre accurati."]},liability:{title:"14) Limitazione di responsabilit",paragraphs:["Nei limiti massimi consentiti dalla legge, la nostra responsabilit complessiva  limitata agli importi da te pagati nei dodici (12) mesi precedenti levento che ha originato la richiesta.","Non siamo responsabili per danni indiretti, incidentali, consequenziali o punitivi, perdita di profitti, perdita di business o di opportunit."]},indemnity:{title:"15) Manleva",paragraphs:["Accetti di manlevare e tenere indenne il Fornitore da reclami, danni, perdite e spese (incluse ragionevoli spese legali) derivanti da: (a) uso illecito o non conforme della Piattaforma; (b) violazione dei presenti Termini o delle policy di Terze Parti; (c) violazioni o illeciti connessi ai tuoi Contenuti del Cliente."]},changes:{title:"16) Modifiche alla Piattaforma e ai Termini",paragraphs:["Possiamo aggiornare la Piattaforma e i presenti Termini nel tempo. In caso di modifiche sostanziali, potremmo fornire una notifica via email o tramite notifiche in-app.","Luso continuato della Piattaforma dopo lentrata in vigore delle modifiche implica laccettazione dei Termini aggiornati."]},lawForum:{title:"17) Legge applicabile e foro",paragraphs:["Salvo diverso accordo scritto, i presenti Termini sono regolati dalla legge italiana. Qualsiasi controversia sar devoluta in via esclusiva al foro del luogo in cui il Fornitore ha la sede legale, salvo quanto previsto da norme inderogabili."]},specificApproval:{title:"18) Approvazione specifica (Italia)",paragraphs:["Ai sensi degli artt. 1341 e 1342 c.c., approvi specificamente le clausole su sospensione/cessazione, esclusioni di garanzia, limitazione di responsabilit, manleva, modifiche ai termini, legge applicabile e foro.","Nota operativa: per una maggiore efficacia, valuta di implementare una checkbox dedicata in fase di registrazione per lapprovazione specifica."]},contacts:{title:"19) Contatti",useTrans:"true",paragraphs:["Per domande su questi Termini, contatta <a>{{email}}</a>."]}}},ZY={legalNotice:{p1:"Continuando, accetti i",terms:"Termini e Condizioni",and:"e la",privacy:"Privacy & Data Policy"}},XY={title:"Modelli di messaggi WhatsApp",titleFallback:"Modelli WhatsApp",subtitle:"Automazione Lead Ads  WhatsApp per {{name}}",status:{facebookStatus:"Stato Facebook",facebookNotConnected:"Non collegato",whatsappStatus:"Stato WhatsApp",notConnected:"Non collegato"},facebookNotConnectedBody:"Le Lead Ads da Facebook non verranno ricevute finch non colleghi una pagina Facebook nella pagina Canali.",notConnectedBody:"Puoi configurare le Lead Ads e vedere i lead in arrivo, ma per inviare i modelli WhatsApp devi collegare un numero WhatsApp Business nella pagina Canali.",leadFeatureNotEnabledTitle:"Funzionalit Lead Ads non abilitata",leadFeatureNotEnabledBody:"Per configurare lautomazione Lead Ads  WhatsApp, abilita prima il componente aggiuntivo Lead Ads nella pagina Funzionalit di questo bot.",leadFeatureGoToFeatures:"Vai a Funzionalit",leadAutomation:{title:"Automazione Lead Ads  WhatsApp",loading:"Caricamento impostazioni di automazione",phoneField:"Nome campo telefono",phoneFieldHelp:"Nome del campo del form che contiene il numero di telefono nel payload del lead.",consentField:"Nome campo consenso (opzionale)",consentFieldHelp:"Nome del campo s/no utilizzato per il consenso WhatsApp.",requireOptIn:"Richiedi opt-in esplicito WhatsApp",template:"Modello da inviare",templatePlaceholder:"Seleziona un modello approvato",templateHelp:"Modello utilizzato per i nuovi lead da Meta. Sono disponibili solo i modelli approvati.",save:"Salva automazione",saveSuccess:"Impostazioni di automazione dei lead salvate.",saveError:"Impossibile salvare le impostazioni di automazione dei lead.",errors:{missingPhoneField:"Specifica il nome del campo telefono nei tuoi moduli lead.",missingConsentField:"Se richiedi opt-in esplicito devi indicare il nome del campo di consenso.",missingTemplate:"Seleziona un template WhatsApp approvato."}},history:{title:"Cronologia modelli"},filters:{search:"Cerca",searchPlaceholder:"Cerca per nome o lingua",status:"Stato",statusAll:"Tutti",statusApproved:"Approvati",statusPending:"In revisione",statusRejected:"Rifiutati",category:"Categoria",categoryAll:"Tutte"},category:{utility:"Utilit",marketing:"Marketing",authentication:"Autenticazione"},loadingTemplates:"Caricamento modelli",templates:{requireWhatsapp:"Collega un numero WhatsApp nella pagina Canali per sincronizzare e gestire i modelli."},empty:"Nessun modello WhatsApp trovato per questo bot.",emptyCta:"Crea il tuo primo modello",columns:{name:"Modello",status:"Stato",updated:"Ultimo aggiornamento"},actions:{edit:"Modifica",create:"Crea modello",update:"Aggiorna modello"},messages:{created:"Modello creato.",updated:"Modello aggiornato.",saveFailed:"Impossibile salvare il modello."},modal:{createTitle:"Nuovo modello WhatsApp",editTitle:"Modifica modello WhatsApp"},form:{name:"Nome modello",namePlaceholder:"es. order_update",nameHelp:"Solo lettere minuscole, numeri e underscore. Non  visibile agli utenti finali.",language:"Lingua",languageHelp:"Usa i codici lingua WhatsApp come en_US, it_IT, es_ES",category:"Categoria",header:"Header (opzionale)",headerPlaceholder:"Breve titolo mostrato sopra il corpo",headerHelp:"Fino a 60 caratteri. Puoi usare variabili come {{1}}.",body:"Corpo",bodyPlaceholder:"Testo principale del messaggio. Usa {{1}}, {{2}},  per le variabili.",bodyHelp:"Mantieni il testo chiaro e conciso. Le variabili verranno compilate al momento dellinvio.",footer:"Footer (opzionale)",footerPlaceholder:"Riga piccola sotto il messaggio (es. note legali o brand).",buttons:"Pulsanti",addButton:"Aggiungi pulsante",buttonsHelp:"Pulsanti opzionali di risposta rapida, URL o telefono."},buttons:{quickReply:"Risposta rapida",url:"URL",phone:"Numero di telefono",textPlaceholder:"Etichetta pulsante",remove:"Rimuovi"},leads:{title:"Lead recenti",refresh:"Aggiorna",loading:"Caricamento lead",requireFacebook:"Collega una pagina Facebook nella pagina Canali per iniziare a ricevere lead.",empty:"Nessun lead ricevuto.",refreshError:"Impossibile aggiornare i lead.",createdAt:"Ricevuto il",phone:"Telefono",messageSent:"Messaggio inviato",status:"Stato"},onboarding:{title:"Collega Facebook Lead Ads e automazione WhatsApp",subtitle:"Scegli o crea un template WhatsApp e mappa i campi dei tuoi moduli Lead Ads.",common:{skip:"Salta per ora"},warningTitle:"Collega i canali per attivare l'automazione",warningFacebook:"Collega una pagina Facebook nel passo Canali cos Coslo pu leggere i nuovi lead.",warningWhatsapp:"Collega un numero WhatsApp Business nel passo Canali per inviare i messaggi.",requirementsTitle:"Stato connessione",toggleOn:"Automazione Lead Ads ATTIVA",toggleOff:"Automazione Lead Ads DISATTIVA",toggleDisabledHint:"Collega entrambi i canali per attivare questa automazione.",toggleOnHint:"I nuovi lead dai tuoi moduli Facebook riceveranno automaticamente un messaggio WhatsApp usando il template qui sotto.",disabledHint:"Puoi lasciare l'automazione Lead Ads disattivata e completare comunque l'onboarding. Potrai tornare qui dall'app e attivarla in seguito.",automationHint:"Quando arriva un nuovo lead da Meta, Coslo invier un template WhatsApp e, se vuoi, controller il consenso esplicito.",previewLabel:"Template selezionato:",autoSaveHint:"Le impostazioni e i template verranno salvati quando clicchi Rivedi piano e paga.",next:"Rivedi piano e paga",errors:{channelsNotReady:"Per abilitare questa automazione devi collegare sia Facebook che WhatsApp nel passo Canali.",save:"Impossibile salvare la configurazione Lead Ads."}}},JY={eyebrow:"Onboarding guidato  {current}/{total}",steps:{bot:"1. Crea bot",botDescription:"Dai un nome al tuo assistente e scegli come verr mostrato ai clienti.",channels:"2. Canali",channelsDescription:"Collega WhatsApp, Facebook, Instagram o il tuo sito web.",booking:"3. Prenotazioni",bookingDescription:"Lascia che Coslo proponga e prenoti appuntamenti direttamente dalla chat.",leadAds:"4. Lead Ads",leadAdsDescription:"Sincronizza i tuoi Facebook Lead Ads e invia messaggi WhatsApp in automatico.",plan:"5. Piano e fatturazione",planDescription:"Rivedi la configurazione, scegli il piano e inizia a usare Coslo.",knowledge:"6. Conoscenza",knowledgeDescription:"Fai imparare a Coslo il tuo sito cos pu rispondere a domande dettagliate."}},eQ={common:EY,demoBot:TY,landing:IY,login:OY,register:MY,verifyEmail:LY,appLayout:DY,billing:FY,dashboard:zY,profile:_Y,botFeatures:RY,botPlan:BY,botConversations:$Y,botCreate:UY,botDetails:WY,botChannels:HY,botKnowledge:qY,botsList:KY,conversationDetail:VY,botSettings:GY,policy:YY,terms:QY,auth:ZY,whatsappTemplates:XY,onboardingLayout:JY},tQ={language:{en:"Ingls",it:"Italiano",es:"Espaol"},error:"Error",saving:"Guardando...",loading:"Cargando",back:"Atrs"},nQ={noSlug:"No se ha proporcionado el slug del bot.",loading:"Cargando bot...",errorTitle:"Error",notFoundTitle:"Bot no encontrado",notFoundBody:"Comprueba el enlace que has recibido.",defaultError:"No se ha podido cargar el bot"},aQ={hero:{title:"Por qu elegir nuestra plataforma de Inteligencia Artificial?",subtitle:"Transforma tu negocio con un asistente de IA que apoya a tus clientes 24/7, responde al instante y gestiona los flujos operativos repetitivos que te hacen perder tiempo.",ctaPrimary:"Empieza ahora",ctaSecondary:"Inicia sesin",note:"Un asistente digital siempre disponible en web, redes sociales y mensajera, diseado para responder preguntas y gestionar flujos comunes de soporte y reservas usando la informacin de tu negocio.",badge:"Coslo  Asistente de IA para tu negocio",altHero:"Coslo, tu asistente de IA"},intro:{title:"Una asistencia continua, precisa y realmente til",imageAlt:"Coslo siempre operativo 24/7 frente al ordenador",p1:"Nuestra plataforma est pensada para simplificar el trabajo de las empresas, aumentar las conversiones y ofrecer a los clientes una experiencia de comunicacin moderna, fluida e inmediata.",p2:"Gracias a un sistema avanzado de automatizacin y comprensin de contenidos, tu negocio puede garantizar por fin un soporte constante, coherente y de calidad, sin aumentar la carga de trabajo del equipo interno.",p3:"Aqu encontrars en detalle todas las funcionalidades que convierten a nuestro asistente de IA en una herramienta realmente imprescindible para tu actividad."},multichannel:{title:"Multicanal: presente donde estn tus clientes",p1:"Las personas esperan respuestas rpidas, sin tener que cambiar de canal o esperar horas. Por eso el asistente de IA se integra con las herramientas que tus clientes utilizan cada da.",p2:"De este modo tu marca est siempre accesible y lista para interactuar, mejorando la experiencia de usuario y aumentando las oportunidades de conversin.",cards:{webWidget:{title:"Web widget",text:"Integrado directamente en tu sitio web, siempre visible y activo 24/7 para responder a las preguntas y guiar a los usuarios a la accin."},whatsapp:{title:"WhatsApp",text:"El canal de mensajera ms utilizado: perfecto para soporte, solicitudes rpidas y reservas inmediatas."},messenger:{title:"Facebook Messenger",text:"Ideal para seguir a los usuarios que llegan de tus campaas y de tus contenidos en redes sociales, sin perder ninguna conversacin."},instagram:{title:"Instagram Direct",text:"Perfecto para captar preguntas y solicitudes que nacen de publicaciones, reels e historias, transformndolas en contactos y oportunidades."}}},knowledge:{title:"Conocimiento profundo de tus contenidos",imageAlt:"Coslo estudiando tus contenidos",labels:{pdf:"PDF",site:"Sitio",faq:"FAQ"},p1:"El asistente no se limita a generar respuestas genricas: responde basndose en tu material y en lo que comunicas online.",p2:"Gracias a un sistema avanzado de rastreo y anlisis, la plataforma:",list:{l1:"navega de forma autnoma por tu sitio web,",l2:"lee y comprende el contenido de tus PDF,",l3:"procesa textos, FAQ, guas, artculos y documentacin tcnica,",l4:"organiza toda la informacin en una base de conocimiento clara y coherente."},p3:"As el asistente puede reflejar en profundidad tu negocio: productos, servicios, procesos internos, terminologa especfica y puntos fuertes. El resultado son respuestas precisas, coherentes y alineadas con la identidad de tu marca, incluso cuando tus contenidos se actualizan.",p4:"No hacen falta textos ad hoc: basta con utilizar lo que ya tienes y el asistente se encargar del resto."},booking:{title:"Reservas reales y confirmadas, directamente en tu Google Calendar",p1:"El asistente no es solo un soporte informativo, sino un verdadero colaborador operativo. Entre las funciones ms valoradas est la gestin completa de las reservas.",p2:"Esto es lo que puede hacer de forma autnoma:",list:{l1:"proponer fechas y franjas horarias disponibles,",l2:"recoger los datos del cliente (nombre, contacto, solicitud),",l3:"confirmar la cita en tiempo real,",l4:"crear el evento en tu Google Calendar con todos los detalles."},p3:"Se acabaron los mensajes dispersos, las comprobaciones cruzadas o las citas apuntadas a mano: el flujo es sencillo, automatizado y reduce al mnimo errores y prdida de tiempo.",calendar:{header:"Google Calendar",event1:{time:"14:00",title:"Cita con cliente",subtitle:"Mario Rossi - Consulta"},event2:{time:"16:30",title:"Demo de producto",subtitle:"Laura Bianchi - Presentacin"}}},growth:{title:"Un asistente que crece con tu empresa",imageAlt:"Coslo construyendo tu asistente de IA",p1:"Cada nuevo documento y cada actualizacin de tu sitio ayudan a mantener las respuestas del asistente precisas y alineadas con el tiempo. La plataforma evoluciona junto con tu negocio.",p2:"Puedes usarlo, por ejemplo, para:",p3:"Es como tener un asistente digital siempre disponible, capaz de responder a preguntas simples y complejas relacionadas con tu negocio y de encargarse de las tareas ms repetitivas por ti.",pills:{p1:"Atencin al cliente",p2:"Reservas y citas",p3:"Respuestas a contactos en redes",p4:"Generacin de leads",p5:"Soporte tcnico",p6:"Gestin de la informacin"}},benefits:{title:"Por qu las empresas que lo prueban no vuelven atrs",cards:{c1:{title:"Tiempos de respuesta reducidos",text:"Mejoras la satisfaccin de los clientes gracias a respuestas rpidas y consistentes en cualquier momento del da."},c2:{title:"Ms contactos y reservas",text:"La presencia multicanal aumenta los puntos de contacto y te permite convertir ms conversaciones en citas u oportunidades comerciales."},c3:{title:"Automatizacin inteligente",text:"Al delegar en la IA las tareas repetitivas, tu equipo puede centrarse en las actividades estratgicas que generan ms valor."},c4:{title:"Coherencia con la marca",text:"Las respuestas estn alineadas con tu informacin, tu tono de voz y tus directrices de marca, sin improvisaciones."}}},miniCoslo:{title:"Coslo habla con tus clientes como un verdadero asistente",imageAlt:"Coslo - Asistente de IA",p1:"Las conversaciones con tus clientes se gestionan con un tono profesional y natural: Coslo responde a las preguntas frecuentes, propone citas y recoge los datos importantes sin hacer perder tiempo a tu equipo.",p2:"Aqu debajo ves un ejemplo simplificado de cmo podra ser una conversacin tpica con tus clientes.",bubbleUser:"Hola Coslo, puedo cambiar mi cita de maana?",bubbleBot:"Claro! Solo dime el da y la hora que prefieres y actualizar el calendario de inmediato."},cta:{title:"Lleva tu negocio al futuro",text:"En un mercado cada vez ms competitivo, la calidad y la velocidad de la comunicacin marcan la diferencia. Con nuestro asistente de IA puedes ofrecer una experiencia moderna, profesional y completamente automatizada.",primaryCta:"Empieza ahora",secondaryCta:"Accede a tu rea"}},rQ={pageTitle:"Accede a tu espacio Coslo",subtitle:"Gestiona tus asistentes de IA, revisa las conversaciones y modifica la configuracin en pocos clics.",bullets:{b1:"Un solo panel para todos tus canales",b2:"Estadsticas en tiempo real sobre el rendimiento del bot",b3:"Acceso seguro con autenticacin de dos factores"},cardTitle:"Inicio de sesin",email:"Email",password:"Contrasea",submit:"Iniciar sesin",submitting:"Iniciando sesin...",divider:"o",noAccount:"Todava no tienes una cuenta?",register:"Regstrate",googleError:"Inicio de sesin con Google no conseguido",loginError:"Inicio de sesin no conseguido",mfaTitle:"Autenticacin de dos factores",mfaSubtitle:"Abre tu app de autenticacin (Google Authenticator, 1Password, Authy, etc.) e introduce el cdigo de 6 dgitos para completar el acceso.",mfaCodeLabel:"Cdigo de seguridad",mfaSubmit:"Confirmar e iniciar sesin",mfaSubmitting:"Verificando...",mfaError:"Cdigo no vlido. Intntalo de nuevo.",backToCredentials:"Volver al inicio de sesin con email y contrasea",mfaHelp:"Ya no tienes acceso a tu app de autenticacin? Usa uno de los cdigos de copia de seguridad que guardaste cuando activaste el 2FA."},iQ={pageTitle:"Crea tu cuenta Coslo",subtitle:"En pocos minutos conectas tus canales y tienes un asistente de IA listo para responder a tus clientes 24/7.",bullets:{b1:"Multicanal (web, WhatsApp, redes sociales, calendario)",b2:"Configuracin guiada y personalizable",b3:"Plan multi-tenant pensado para agencias y equipos"},cardTitle:"Registro",email:"Email",password:"Contrasea",passwordConfirm:"Confirmar contrasea",submit:"Crear cuenta",submitting:"Creando cuenta...",success:"Registro completado. Revisa tu email y verifica la cuenta antes de iniciar sesin.",errorGeneric:"Registro fallido",errorPasswordMismatch:"Las contraseas no coinciden",errorPasswordRequirements:"La contrasea no cumple los requisitos. Revisa los puntos bajo el campo de la contrasea.",pwTitle:"Requisitos de la contrasea:",pwRules:{minLength:"Al menos 8 caracteres",uppercase:"Al menos una letra mayscula (AZ)",lowercase:"Al menos una letra minscula (az)",digit:"Al menos un nmero (09)",special:"Al menos un carcter especial (ej. !@#$%^&*)"},alreadyAccount:"Ya tienes una cuenta?",login:"Iniciar sesin"},sQ={title:"Verificar email",loading:"Estamos verificando tu email...",missingToken:"Falta el token de verificacin.",successDefault:"Email verificado correctamente.",invalidOrExpired:"Token no vlido o caducado.",genericError:"Verificacin fallida.",backToLogin:"Ahora puedes volver al",loginLink:"inicio de sesin"},oQ={sidebarTitle:"Panel",brandSmall:"Coslo - Asistente de IA",logout:"Cerrar sesin",nav:{dashboard:"Panel",bots:"Bots",billing:"Facturacin",profile:"Perfil"},aria:{openNav:"Abrir navegacin",closeNav:"Cerrar navegacin"}},lQ={title:"Facturacin y uso",subtitle:"Consulta tus suscripciones activas, el uso de este mes y el historial de pagos.",loading:"Cargando datos de facturacin...",activeSubscriptions:"Suscripciones activas",totalMonthlyAcrossAllBots:"Total mensual en todos los bots:",thisMonth:"Este mes:",tokens:"energa",of:"de",noActiveSubscriptions:"Todava no tienes suscripciones activas.",slugLabel:"Slug",perMonth:"mes",breakdown:{features:"Funciones",plan:"Plan"},usageThisMonth:"Uso este mes:",noConfiguredLimit:"(sin lmite configurado)",subscriptionStatus:{active:"Activo",pastDue:"Vencido",canceled:"Cancelado",trial:"Prueba",unpaid:"Impagado",incomplete:"Incompleto",incompleteExpired:"Incompleto (caducado)"},usageStatus:{overLimit:"Por encima del lmite",atLimit:"En el lmite",highUsage:"Uso alto",healthyUsage:"Uso saludable"},paymentHistory:{title:"Historial de pagos",empty:"An no hay pagos registrados.",table:{date:"Fecha",bot:"Bot",amount:"Importe",status:"Estado",period:"Periodo"}},invoice:{ariaDownload:"Descargar factura",ariaOpening:"Abriendo factura",titleDownload:"Descargar factura",titleOpening:"Abriendo",srDownload:"Descargar factura",srOpening:"Abriendo factura"},errors:{loadFailed:"No se ha podido cargar el resumen de facturacin",invoiceUnavailable:"La factura no est disponible para este pago.",invoiceDownloadFailed:"No se ha podido descargar la factura."}},cQ={title:"Panel",subtitle:"Resumen de tus bots, conversaciones y uso de energa.",loading:"Cargando datos del panel...",actions:{createNewBot:"+ Crear nuevo bot"},empty:{title:"An no hay bots",subtitle:"Empieza creando tu primer bot. Cuando llegue trfico, vers aqu conversaciones, uso de energa y los ms destacados.",cta:"Crear tu primer bot"},kpis:{totalBots:"Bots totales",activeBots:"Bots activos",conversationsLast30Days:"Conversaciones (ltimos 30 das)",tokensThisMonth:"Energa usados (este mes)"},kpisHints:{totalBots:"Todos los bots creados en esta cuenta.",activeBots:"Bots actualmente activos y atendiendo trfico.",conversationsLast30Days:"En todos los canales y bots.",tokensThisMonth:"til para vigilar los costes."},charts:{conversationsLast10Days:{title:"Conversaciones (ltimos 10 das)",subtitle:"Cada lnea representa un bot. Pasa el cursor o toca para ver el volumen diario.",empty:"An no hay conversaciones en los ltimos 10 das."},tokensLast10Days:{title:"Uso de energa (ltimos 10 das)",subtitle:"energa totales por da para cada bot.",empty:"An no se ha registrado uso de energa en los ltimos 10 das."},topBots:{title:"Bots principales por conversaciones",subtitle:"ltimos 30 das, ordenados por volumen de conversaciones.",empty:"An no hay conversaciones en los ltimos 30 das."}},activity:{title:"Detalles de actividad",subtitle:"Vista rpida de tus bots ms activos.",empty:"No hay bots activos en los ltimos 30 das.",lastConversation:"ltima conversacin",convAbbrev:"conv.",view:"Ver"},errors:{loadFailed:"No se ha podido cargar el panel"}},uQ={pageTitle:"Cuenta",pageSubtitle:"Gestiona tu perfil, el acceso y la seguridad.",loading:"Cargando cuenta...",confirmDelete:"Esto eliminar permanentemente tu cuenta, todos tus bots y sus datos. Esta accin no se puede deshacer. Continuar?",common:{cancel:"Cancelar"},profile:{title:"Perfil",subtitle:"Esta informacin solo es visible dentro de tu panel.",avatarAlt:"Avatar",displayName:{label:"Nombre visible",placeholder:"Tu nombre o nombre de la empresa"},avatarUrl:{label:"URL del avatar",placeholder:"https://",help:"Puedes pegar un enlace a una imagen (por ejemplo, desde tu web o CDN del logo)."},actions:{save:"Guardar perfil",saving:"Guardando"},success:"Perfil actualizado."},security:{title:"Acceso y seguridad",emailLabel:"Email",loginMethodLabel:"Mtodo de acceso",loginMethod:{google:"Google",emailPassword:"Email y contrasea",unknown:"Desconocido"},googleOnlyNoteStrongPrefix:"Esta cuenta usa",googleSignInStrong:"Google Sign-In",googleOnlyNoteSuffix:"El acceso con contrasea no est habilitado."},password:{current:{label:"Contrasea actual"},new:{label:"Nueva contrasea",help:"Al menos 8 caracteres, con maysculas y minsculas, un nmero y un smbolo."},confirm:{label:"Confirmar nueva contrasea"},actions:{change:"Cambiar contrasea",updating:"Actualizando"},success:"Contrasea actualizada.",errors:{mismatch:"La nueva contrasea y la confirmacin no coinciden."}},mfa:{title:"Autenticacin de dos factores",subtitle:"Proteccin extra para tu cuenta usando una app de autenticacin. Despus del acceso, se te pedir un cdigo de 6 dgitos del telfono.",statusLabel:"Estado",status:{enabled:"Activada",disabled:"Desactivada"},recommendation:"Recomendamos encarecidamente activar la autenticacin de dos factores, especialmente si reutilizas este email en otros sitios o compartes dispositivos.",setup:{step1Title:"1. Escanea el cdigo QR",step1Body:"Abre tu app de autenticacin (Google Authenticator, 1Password, Authy, etc.) y escanea este cdigo. Si no puedes escanear el QR, introduce el secreto manualmente.",manualSecretLabel:"Secreto manual:",step2Title:"2. Introduce el cdigo de 6 dgitos",step2Body:"Despus de aadir la cuenta en tu app, introduce el cdigo actual de 6 dgitos para confirmar que todo funciona.",codeLabel:"Cdigo de tu app"},actions:{enable:"Activar autenticacin de dos factores",preparing:"Preparando",confirmEnable:"Confirmar y activar 2FA",verifying:"Verificando",disabling:"Desactivando"},enabledNote:"En cada inicio de sesin, tras tu mtodo principal (email/contrasea o Google), te pediremos un cdigo de 6 dgitos de tu app de autenticacin.",backupCodes:{title:"Cdigos de respaldo (gurdalos ahora)",body:"Estos cdigos se muestran solo una vez. Gurdalos en un lugar seguro (gestor de contraseas, nota segura, copia impresa). Cada cdigo se puede usar una sola vez si pierdes acceso al telfono.",copyAll:"Copiar todos los cdigos"},disable:{intro:"Si cambias de dispositivo o de app de autenticacin, puedes desactivar 2FA y configurarla de nuevo.",open:"Desactivar autenticacin de dos factores",confirmBody:"Por seguridad, confirma con un cdigo de tu app de autenticacin o con un cdigo de respaldo.",codeLabel:"Cdigo de tu app (6 dgitos)",backupCodeLabel:"O un cdigo de respaldo",confirm:"Confirmar desactivacin de 2FA"},success:{enabledSaveBackupCodes:"Autenticacin de dos factores activada. Guarda los cdigos de respaldo en un lugar seguro.",disabled:"Autenticacin de dos factores desactivada.",backupCodesCopied:"Cdigos de respaldo copiados al portapapeles. Gurdalos en un lugar seguro."},errors:{startFailed:"No se ha podido iniciar la configuracin de la autenticacin de dos factores.",confirmFailed:"No se ha podido confirmar el cdigo. Comprueba el cdigo e intntalo de nuevo.",disableRequiresCode:"Introduce un cdigo de tu app de autenticacin o un cdigo de respaldo.",disableFailed:"No se ha podido desactivar la autenticacin de dos factores. Comprueba el cdigo e intntalo de nuevo.",backupCodesCopyFailed:"No se pueden copiar los cdigos automticamente. Cpialos manualmente y gurdalos en un lugar seguro."}},danger:{title:"Zona de peligro",subtitle:"Elimina permanentemente tu cuenta y todos tus bots, conversaciones, documentos y datos de uso. Esta accin no se puede deshacer.",passwordConfirm:{label:"Confirmar con tu contrasea",help:"Por tu seguridad, requerimos tu contrasea actual para eliminar la cuenta."},googleNote:"Esta cuenta usa Google Sign-In. Haz clic en el botn de abajo para confirmar con Google y eliminar tu cuenta y todos los bots y datos asociados.",actions:{delete:"Eliminar mi cuenta",deleting:"Eliminando",deletingInline:"Eliminando tu cuenta"},unsupported:"Esta cuenta todava no admite eliminacin autoservicio."},errors:{loadFailed:"No se ha podido cargar la cuenta",updateProfileFailed:"No se ha podido actualizar el perfil.",changePasswordFailed:"No se ha podido cambiar la contrasea.",deleteFailed:"No se ha podido eliminar la cuenta."}},dQ={title:"Funciones",subtitle:"Paso 1  configura canales, rastreadores y reservas para {{botName}}. Estas opciones influyen en el precio de tu suscripcin.",backToBot:" Volver al resumen",missingId:"Falta el ID del bot.",loadingBot:"Cargando bot...",errorTitle:"Error",notFoundTitle:"Bot no encontrado",calendarIncomplete:"Las reservas por calendario estn activadas pero falta el ID del calendario o la zona horaria. Rellnalos abajo para que las reservas funcionen correctamente.",perMonth:"mes",groups:{knowledge:"Funciones de conocimiento",channels:"Canales",calendar:"Reservas y calendario",leadAds:"Lead Ads"},knowledge:{domain:{title:"Rastreador de dominio (contenido web)",description:"Escanea automticamente tu sitio para que el bot responda siempre con contenido actualizado."},pdf:{title:"Ingesta de PDF / documentos",description:"Sube manuales, folletos o documentos y deja que el bot responda basndose en ellos."}},channels:{web:{title:"Widget web y demo alojada",description:"Incrusta un widget de chat en tu sitio y obtn un enlace de demo alojada para compartir con tus clientes."},whatsapp:{title:"WhatsApp",description:"Conecta tu bot a WhatsApp para que los clientes puedan chatear desde cualquier lugar."},messenger:{title:"Facebook Messenger",description:"Responde preguntas directamente en tu pgina de Facebook a travs de Messenger."},instagram:{title:"Instagram DM",description:"Responde automticamente a los mensajes directos de Instagram con tu bot."}},calendar:{title:"Reservas con Google Calendar",description:"Permite que el bot programe reuniones directamente en tu Google Calendar, con disponibilidad y zonas horarias gestionadas automticamente.",fields:{calendarId:"ID de Google Calendar",timeZone:"Zona horaria del negocio",defaultDuration:"Duracin por defecto de la cita (minutos)"},placeholders:{calendarId:"tu-calendar-id@group.calendar.google.com",timeZone:"Europe/Rome"}},leadAds:{whatsapp:{title:"Lead Ads  WhatsApp",description:"Enva automticamente un mensaje de WhatsApp a los nuevos leads de tus formularios de clientes potenciales de Meta.",selectTier:"Selecciona un paquete de mensajes de WhatsApp",requiresWhatsapp:"Esta funcin requiere que el canal de WhatsApp est activado."}},actions:{save:"Guardar funciones",saving:"Guardando...",next:"Siguiente: elegir plan y pagar",viewChangePlan:"Ver / cambiar plan",cancelSubscription:"Cancelar suscripcin",cancelling:"Cancelando...",backToBot:" Volver al resumen"},side:{title:"Plan y facturacin",statusLabel:"Estado:",subtitle:"Paso 2  elige un plan de uso y confirma el pago. Precio total = subtotal de funciones + plan de uso.",loadingPricing:"Cargando precios",featuresSubtotal:"Subtotal de funciones",featuresTotalPerMonth:"Total de funciones (al mes)",nextNote:"Sers redirigido a Stripe para confirmar tu suscripcin."},success:{featuresUpdated:"Funciones actualizadas.",subscriptionCanceled:"Suscripcin cancelada y bot desactivado.",saved:"Funciones actualizadas."},errors:{loadBot:"No se ha podido cargar el bot",updateFeatures:"No se han podido actualizar las funciones del bot",loadPricing:"No se pueden cargar los precios ahora mismo.",cancelSubscription:"No se ha podido cancelar la suscripcin",saveFeatures:"No se han podido actualizar las funciones del bot"}},pQ={title:"Plan y facturacin",subtitle:"Paso 2  elige un plan de uso para {{botName}}. Precio final = subtotal de funciones + plan.",backToFeatures:" Volver a funciones",missingId:"Falta el ID del bot.",loading:"Cargando opciones de plan...",errorTitle:"Error",notFoundTitle:"Bot no encontrado",perMonth:"mes",plans:{title:"Planes de uso",subtitle:"Elige cunto uso esperas. Puedes cambiar de plan ms tarde.",loading:"Cargando planes",empty:"An no hay planes de uso configurados. Contacta con soporte.",tokensPerMonth:"Energa por mes:",tokensPerMonthLabel:"Energa por mes",unlimited:"Ilimitado",select:"Seleccionar este plan",selected:"Seleccionado",planImageAlt:"Plan {{planName}}",mostPopular:"Ms popular"},summary:{title:"Resumen",statusLabel:"Estado:",subtitle:"Precio final = subtotal de funciones + plan seleccionado.",featuresSubtotal:"Subtotal de funciones",loadingPricing:"Cargando precios",featuresTotalPerMonth:"Total de funciones (al mes)",selectedPlan:"Plan seleccionado",noPlanSelected:"No hay plan seleccionado.",totalPerMonth:"Total por mes",selectPlanToSeeTotal:"Selecciona un plan para ver el total"},actions:{activatePay:"Activar y pagar",changePlan:"Cambiar plan",redirecting:"Redirigiendo...",updating:"Actualizando..."},notes:{redirectToStripe:"Sers redirigido a Stripe para confirmar y pagar este bot.",proration:"Tu suscripcin se actualizar inmediatamente. Stripe aplicar cargos/crditos prorrateados."},success:{planUpdatedProration:"Plan actualizado. Stripe ha aplicado el prorrateo a tu suscripcin.",title:"Plan actualizado"},errors:{loadFailed:"No se han podido cargar los datos del plan",selectPlan:"Selecciona un plan.",updateFailed:"No se ha podido actualizar el plan"},onboarding:{title:"Elige tu plan y empieza a usar Coslo",subtitle:"Ya hemos preconfigurado canales, reservas y Lead Ads. Ahora elige el plan que mejor encaje con tu volumen.",summaryTitle:"Resumen de configuracin",summarySubtitle:"Esto es lo que has configurado hasta ahora para este bot.",summary:{channels:"Canales",none:"Ningn canal configurado",booking:"Reservas",leadAds:"Lead Ads  WhatsApp",enabled:"Activado",disabled:"Desactivado"},edit:"Editar"},features:{free:{energy:"{{amount}} energa",emails:"Hasta 20 correos electrnicos",whatsapp:"Sin mensajes de WhatsApp",leadAds:"Lead Ads no incluidos",mobileApp:"App mvil no incluida"},starter:{energy:"{{amount}} energa",emails:"Hasta 200 correos electrnicos",whatsapp:"Hasta 200 mensajes de WhatsApp",leadAds:"Lead Ads incluidos",mobileApp:"App mvil incluida",support:"Soporte dedicado no incluido"},growth:{energy:"{{amount}} energa",emails:"Hasta 1.000 correos electrnicos",whatsapp:"Hasta 1.000 mensajes de WhatsApp",leadAds:"Lead Ads incluidos",mobileApp:"App mvil incluida",support:"Soporte dedicado incluido"},scale:{energy:"{{amount}} energa",emails:"Hasta 5.000 correos electrnicos",whatsapp:"Hasta 5.000 mensajes de WhatsApp",leadAds:"Lead Ads incluidos",mobileApp:"App mvil incluida",support:"Soporte dedicado incluido"},default:{energy:"{{amount}} energa"}}},mQ={title:"Conversaciones",subtitle:"Todas las conversaciones en web, WhatsApp, Facebook Messenger e Instagram.",missingId:"Falta el ID del bot.",loading:"Cargando conversaciones...",empty:"Todava no hay conversaciones.",notEvaluated:"No evaluada",backToBot:" Volver al resumen",actions:{evaluateSelected:"Evaluar seleccionadas",evaluateSelectedCount:"Evaluar seleccionadas ({{count}})",evaluatingSelected:"Evaluando seleccionadas...",evaluate:"Evaluar",reevaluate:"Reevaluar",evaluating:"Evaluando...",view:"Ver"},pagination:{total:"Total de conversaciones: {{total}}",pageOf:"Pgina {{page}} de {{totalPages}}",prev:"Anterior",next:"Siguiente"},table:{selectAll:"Seleccionar todas las conversaciones de esta pgina",selectRow:"Seleccionar conversacin",channel:"Canal",externalUser:"Usuario externo",lastMessage:"ltimo mensaje",score:"Puntuacin"},errors:{loadFailed:"No se han podido cargar las conversaciones",evalFailed:"No se ha podido evaluar la conversacin",bulkEvalFailed:"No se han podido evaluar en bloque las conversaciones",someFailed:"Algunas conversaciones no se han podido evaluar (p. ej. demasiado cortas u otros errores)."}},hQ={title:"Crear nuevo bot",subtitle:"Paso 1: elige un nombre y un slug. Podrs configurar canales, conocimiento, reservas y facturacin despus.",fields:{name:"Nombre",slug:"Slug",slugHelp:"Se usa en URLs de demo, widget y routing interno.",description:"Descripcin (opcional)"},actions:{create:"Crear bot",creating:"Creando..."},errors:{createFailed:"No se ha podido crear el bot"},onboarding:{title:"Crea tu primer bot de Coslo",subtitle:"Ponle un nombre a tu asistente y una breve descripcin. Podrs cambiarlo ms adelante.",intro:"Esta informacin se usa en el panel y en tus herramientas internas, no en el widget pblico.",namePlaceholder:"p. ej. Acme Support Assistant",slugPlaceholder:"p. ej. acme-support",descriptionPlaceholder:"Opcional. Una frase corta sobre lo que hace este bot."}},fQ={missingId:"Falta el ID del bot.",loading:"Cargando bot...",errorTitle:"Error",notFoundTitle:"Bot no encontrado",slugLabel:"Slug:",actions:{openDemo:"Abrir demo",activatePay:"Activar y pagar",viewPlanBilling:"Ver plan y facturacin",saveBasics:"Guardar bsicos",saving:"Guardando..."},basics:{title:"Bsicos del bot",subtitle:"Descripcin general y comportamiento principal de este asistente.",descriptionLabel:"Descripcin",descriptionPlaceholder:"Breve descripcin de lo que hace este bot...",systemPromptLabel:"System prompt (comportamiento avanzado)",systemPromptPlaceholder:"Instrucciones internas que la IA debe seguir siempre...",systemPromptHelp:"No se muestra a los usuarios finales. salo para definir tono, lmites y reglas especiales del bot.",autoEvalLabel:"Evaluacin automtica de conversaciones",autoEvalHelp:"Punta conversaciones en segundo plano para ayudarte a monitorizar la calidad. Usa energa del plan pero no afecta a los usuarios."},health:{title:"Resumen de estado",botStatusTitle:"Estado del bot",knowledgeTitle:"Estado de conocimiento",channelsTitle:"Estado de canales",calendarTitle:"Estado del calendario",evalTitle:"Evaluacin de conversaciones",badges:{configured:"Configurado",disabled:"Desactivado",enabledNotInitialized:"Activado, no inicializado",enabledNotConfigured:"Activado, no configurado",noChannelsEnabled:"Sin canales activados",allChannelsConfigured:"Todos los canales activados configurados",someChannelsNeedSetup:"Algunos canales requieren configuracin"},botStatus:{active:"Este bot est activo y listo para gestionar conversaciones.",draft:"Este bot an no est activo. Puedes activarlo desde el flujo de facturacin.",inactive:"Este bot no est activo. Revisa el plan y la facturacin o contacta con soporte si no lo esperabas."},knowledge:{disabled:"El rastreador de dominio / la ingesta de PDF estn desactivados para este bot.",enabledNotInitialized:"Las funciones de conocimiento estn activadas, pero todava no se ha inicializado la base de conocimiento con un rastreo/carga.",configured:"La base de conocimiento est creada y puede usarse para responder."},channels:{and:"y configralos en",none:"An no hay canales activados. Actvalos en",enabledList:"Canales activados: {{channels}}. Todos tienen la configuracin requerida.",missingConfig:"A algunos canales activados les falta configuracin requerida: {{missing}}. Ve a"},calendar:{disabled:"Las reservas con Google Calendar estn desactivadas. Puedes activarlas en Funciones y Plan.",enabledNotConfigured:"Las reservas estn activadas, pero faltan ID del calendario, zona horaria o duracin. Configralo en Funciones y Plan.",configured:"Las reservas usan Google Calendar ({{calendarId}}) en {{timeZone}}, con duracin por defecto de {{duration}} minutos."},eval:{automatic:"Automtica",manual:"Solo manual",automaticDesc:"Las nuevas conversaciones pueden puntuarse automticamente en segundo plano para ayudarte a monitorizar la calidad.",manualDesc:"Las conversaciones solo se evalan cuando las lanzas manualmente desde la seccin de Conversaciones."}},channels:{names:{web:"Web",whatsapp:"WhatsApp",messenger:"Facebook Messenger",instagram:"Instagram DM"},missing:{webDomain:"Dominio web",whatsappExternalId:"External ID de WhatsApp",facebookPageId:"ID de pgina de Facebook",instagramBusinessId:"ID de Instagram Business"}},workspace:{title:"rea del bot",subtitle:"Salta a las reas de configuracin y monitorizacin de este bot."},billing:{title:"Facturacin actual",perMonth:"mes",totalPerMonth:"Total por mes",manage:"Gestionar plan y facturacin"},nav:{featuresPlan:"Funciones y Plan",featuresPlanDesc:"Activa canales, rastreadores y elige el plan de uso.",knowledge:"Contenido y Conocimiento",knowledgeDesc:"Sube documentos y configura cmo aprende el bot.",channels:"Canales",channelsDesc:"Conecta WhatsApp, web, Facebook e Instagram.",conversations:"Conversaciones",conversationsDesc:"Revisa chats y depura el comportamiento del bot.",settings:"Configuracin de reservas",settingsDesc:"Gestiona la configuracin de tus reservas",adsSettings:"Configuracin de Lead ADS",adsSettingsDesc:"Gestiona la configuracin de tus lead ads"},success:{basicsUpdated:"Bsicos del bot actualizados correctamente."},errors:{loadBot:"No se ha podido cargar el bot",updateBot:"No se ha podido actualizar el bot",loadPricing:"No se ha podido cargar el precio del plan actual."}},gQ={title:"Canales",subtitle:"Conecta tu bot a web, WhatsApp, Pginas de Facebook y perfiles de Instagram Business.",backToBot:" Volver al resumen",missingId:"Falta el ID del bot.",loading:"Cargando canales...",labels:{facebookPage:"Pgina de Facebook",instagramBusiness:"Perfil de Instagram Business",whatsapp:"WhatsApp",whatsappBusiness:"WhatsApp Business",webWidget:"Widget web"},status:{notConnected:"No conectado",active:"Activo",connected:"Conectado",connectedUnknownExpiry:"Conectado (caducidad desconocida)",needsReconnect:"Requiere reconexin",expiringSoon:"Caduca pronto",expired:"Caducado"},meta:{loadingPages:"Cargando pginas de Meta...",sessionLoadFailed:"No se ha podido cargar la sesin de Meta",selectTitle:"Selecciona {{channel}}",selectSubtitle:"Hemos recuperado las pginas que administras en Meta. Elige cul vincular a este bot.",selectPlaceholder:"Selecciona una pgina...",instagramEligiblePagesLabel:"Pgina con cuenta de Instagram Business",instagramHint:"Solo las pginas con una cuenta de Instagram Business vinculada pueden usarse para Instagram.",connectedViaMeta:"Conectado mediante Meta",permissionsDialog:{titleFacebook:"Revisa los accesos para Facebook",titleInstagram:"Revisa los accesos para Instagram",introFacebook:"Antes de continuar con Facebook, revisa los permisos que esta aplicacin recibir de Meta.",introInstagram:"Antes de continuar con Instagram, revisa los permisos que esta aplicacin recibir de Meta.",listTitle:"Podremos:",facebook:{pagesShowList:"Ver la lista de Pginas de Facebook que administras para que puedas elegir cul conectar.",pagesMessaging:"Leer y enviar mensajes en la Pgina conectada para que tu bot pueda responder por Messenger.",pagesManageMetadata:"Gestionar la configuracin de mensajera y los webhooks de la Pgina para recibir los mensajes nuevos en tiempo real.",businessManagement:"Acceder a los activos de Facebook (Pginas y cuentas de Instagram) que administras en Meta Business Manager para poder conectarlos a este bot."},instagram:{pagesShowList:"Ver las Pginas de Facebook vinculadas a tu cuenta de Instagram Business para que puedas elegir cul conectar.",instagramBasic:"Leer la informacin bsica del perfil (nombre, usuario e imagen de perfil) de tu cuenta de Instagram Business para mostrarla en el panel.",instagramManageMessages:"Leer y enviar mensajes directos de Instagram para que tu bot pueda responder a los DMs.",pagesManageMetadata:"Gestionar la configuracin de mensajera y los webhooks para recibir los mensajes nuevos de Instagram en tiempo real.",businessManagement:"Acceder a los activos de Facebook (Pginas y cuentas de Instagram) que administras en Meta Business Manager para poder conectarlos a este bot."},checkboxLabel:"Entiendo y acepto conceder estos permisos.",continueFacebook:"Continuar con Facebook",continueInstagram:"Continuar con Instagram",footerNote:"Puedes revocar estos permisos en cualquier momento desde la configuracin de tus cuentas de Facebook e Instagram."},selectModal:{titleFacebook:"Selecciona una Pgina de Facebook",titleInstagram:"Selecciona una pgina para Instagram",introFacebook:"Hemos recuperado desde Meta las Pginas de Facebook que puedes administrar. Elige una para conectarla a este bot.",introInstagram:"Hemos recuperado desde Meta las Pginas de Facebook vinculadas a tus cuentas de Instagram Business. Elige una para conectarla.",personalGroupTitle:"Pginas personales",businessGroupTitle:"Pginas gestionadas por empresa",noPages:"No se han encontrado pginas aptas para esta conexin.",editPreviousSettingsHint:'Si esperabas ver pginas de Instagram aqu, cuando se abra la ventana de Facebook haz clic en "Editar configuracin anterior" y asegrate de seleccionar tanto la pgina de Facebook como la cuenta de Instagram conectada.'}},whatsapp:{selectNumberTitle:"Selecciona nmero de WhatsApp",selectNumberSubtitle:"Hemos recuperado los nmeros de tu cuenta de WhatsApp Business. Elige cul vincular a este bot.",numberLabel:"Nmero de WhatsApp",selectPlaceholder:"Selecciona un nmero...",number:"Nmero: {{number}}",numberId:"ID de nmero: {{id}}"},connectSocial:{title:"Conectar canales sociales",subtitle:"Usa el login de Meta para conectar tu Pgina de Facebook, cuenta de Instagram Business o nmero de WhatsApp Business. Guardaremos los tokens necesarios de forma segura.",facebookDesc:"Conecta una Pgina de Facebook para que tu bot pueda responder por Messenger.",instagramDesc:"Conecta una cuenta de Instagram Business para responder a los DMs.",whatsappDesc:"Conecta un nmero de WhatsApp Business con embedded signup.",connectedPage:"Pgina conectada",connectedAccount:"Cuenta business vinculada",connectedNumber:"Nmero conectado"},connected:{title:"Canales conectados",subtitle:"Revisa y gestiona todos los canales vinculados a este bot.",empty:"An no hay canales conectados."},table:{type:"Tipo",details:"Detalles",status:"Estado"},fields:{type:"Tipo",externalId:"External ID",accessToken:"Access token",metaJson:"Meta (JSON)"},placeholders:{metaJson:`{
  "example": true
}`},create:{title:"Aadir canal",metaWarning:"Los canales de Facebook/Instagram deben conectarse usando los botones de Meta de arriba."},edit:{title:"Editar canal"},web:{externalId:"External ID: {{id}}",defaultWidget:"Widget web por defecto"},generic:{externalId:"External ID: {{id}}"},actions:{connectSelected:"Conectar seleccionado",connecting:"Conectando...",cancel:"Cancelar",connectFacebook:"Conectar Facebook",reconnectFacebook:"Reconectar Facebook",connectInstagram:"Conectar Instagram",reconnectInstagram:"Reconectar Instagram",connectWhatsapp:"Conectar WhatsApp",reconnectWhatsapp:"Reconectar WhatsApp",connectingWhatsapp:"Conectando WhatsApp...",disconnect:"Desconectar",edit:"Editar",save:"Guardar",addChannel:"Aadir canal",create:"Crear"},confirm:{deleteChannel:"Eliminar este canal?"},errors:{loadFailed:"No se han podido cargar los canales",createFailed:"No se ha podido crear el canal",updateFailed:"No se ha podido actualizar el canal",deleteFailed:"No se ha podido eliminar el canal",metaSessionLoad:"No se ha podido cargar la sesin de Meta",metaAttachFailed:"No se ha podido vincular la pgina de Meta",metaMustUseConnect:"Los canales de Facebook/Instagram deben conectarse usando los botones de Meta de arriba.",metaManagedExternally:"Los canales de Facebook e Instagram se gestionan a travs de Meta. Para actualizarlos, desconecta y vuelve a conectar usando los botones de arriba.",facebookConnectFailed:"No se ha podido iniciar la conexin con Facebook",instagramConnectFailed:"No se ha podido iniciar la conexin con Instagram",whatsappEnvMissing:"WhatsApp no est configurado. Configura VITE_META_APP_ID y VITE_WHATSAPP_EMBEDDED_CONFIG_ID.",whatsappCancelled:"El registro de WhatsApp se cancel o no se complet.",whatsappSignupFailed:"No se ha podido completar el embedded signup de WhatsApp",whatsappInitFailed:"No se ha podido inicializar el registro de WhatsApp",whatsappAttachFailed:"No se ha podido vincular el nmero de WhatsApp"},onboarding:{common:{skip:"Saltar por ahora"},channels:{title:"Dnde debera hablar Coslo con tus clientes?",subtitle:"Conecta al menos un canal ahora. Siempre podrs aadir ms desde el panel.",meta:{title:"Bandeja Meta (Facebook e Instagram)",subtitle:"Conecta tu pgina de Facebook y cuenta de Instagram Business para que Coslo pueda responder a los mensajes automticamente.",toggleOn:"Bandeja Meta ACTIVADA",toggleOff:"Bandeja Meta DESACTIVADA",toggleOffHint:"Deja la bandeja Meta desactivada si no quieres que Coslo responda en Facebook o Instagram para este bot.",disabledBody:"La bandeja Meta est desactivada para este bot. Actvala arriba si quieres conectar Facebook o Instagram."},whatsapp:{title:"WhatsApp Business (embedded signup)",subtitle:"Conecta un nmero de WhatsApp Business usando el flujo oficial de embedded signup de Meta.",toggleOn:"WhatsApp ACTIVADO",toggleOff:"WhatsApp DESACTIVADO",toggleOffHint:"Deja WhatsApp desactivado si no quieres que Coslo enve mensajes por WhatsApp para este bot.",disabledBody:"WhatsApp est desactivado para este bot. Actvalo arriba si quieres conectar un nmero."},next:"Continuar a reservas"}}},vQ={title:"Contenido y Conocimiento",subtitle:"Configura dominio, prompt y lanza crawls o ingestin de documentos para {{botName}}.",backToBot:" Volver al resumen",missingId:"Falta el ID del bot.",loadingBot:"Cargando bot...",notFound:"Bot no encontrado",featuresAndPlan:"Funciones y Plan",status:{knowledgeStatus:"Estado del conocimiento",locked:"Bloqueado",missing:"Falta"},lockedBody:"Este bot est actualmente {{status}}. Actvalo en",missingBody:"An no se ha creado una base de conocimiento. Haz crawl del dominio o sube PDFs para dar contexto real al bot.",feature:{enabled:"Funcin habilitada",disabled:"Funcin deshabilitada"},fields:{domain:"Dominio",systemPrompt:"System prompt (uso del conocimiento)"},placeholders:{domain:"https://example.com",systemPrompt:"Explica cmo debe usar el bot el conocimiento del sitio/documentos en sus respuestas..."},domainCard:{title:"Conocimiento del dominio",description:"Configura el sitio a rastrear y ajusta cmo debe usarlo el bot en las respuestas.",domainNote:"Este dominio se usa para el crawl del sitio y como contexto para la bsqueda de conocimiento.",disabledNote:"El crawler de dominio est deshabilitado para este bot. Habiltalo en"},docsCard:{title:"Documentos y PDFs",description:"Sube PDFs y otros documentos para enriquecer el conocimiento del bot con manuales, FAQs o fichas de producto.",disabledNote:"La ingestin de PDF est deshabilitada para este bot. Habiltala en",uploadLabel:"Sube uno o ms archivos",supportedFormats:"Formatos compatibles: PDF, DOC, DOCX, TXT."},actions:{saveKnowledgeSettings:"Guardar ajustes de conocimiento",crawlNow:"Hacer crawl del dominio",crawling:"Haciendo crawl...",uploading:"Subiendo e ingiriendo documentos",estimateTokens:"Estimar energa",estimating:"Estimando..."},estimate:{crawlCostLabel:"Costo estimado del rastreo:",tokensUnit:"energa",sampledPages:"(basado en {{count}} pgina(s) de muestra)"},confirm:{uploadDocsEstimate:`Costo estimado en energa: ~{{tokens}} energa.

Quieres subir e indexar estos documentos ahora?`},history:{title:"Historial de rastreos",autoRefreshNote:"La actualizacin automtica solo actualiza las filas en ejecucin de esta pgina (cada {{seconds}}s).",refreshPage:"Actualizar pgina",refreshingPage:"Actualizando...",loadingRows:"Cargando...",uploadInProgress:"Subida en curso",uploadedDocument:"Documento subido",storedUnder:"Guardado bajo: {{namespace}}",pagesStored:"{{count}} pginas",refreshRow:"Actualizar",refreshingRow:"Actualizando",prev:"Ant",next:"Sig",tokenUsageNote:"Nota: el uso de energa es aproximado, calculado a partir de eventos de uso dentro de la ventana temporal del rastreo.",footer:"Mostrando {{shown}} de {{total}}  pgina {{page}} / {{totalPages}} ({{pageSize}} por pgina)",empty:{noClient:"An no hay cliente de knowledge. Inicia un rastreo o sube un documento para inicializar.",noRuns:"An no hay ejecuciones."},status:{queued:"en cola",running:"en ejecucin",completed:"completado",failed:"fallido"},jobType:{docs:"DOCUMENTO",domain:"DOMINIO"},table:{status:"Estado",type:"Tipo",origin:"Origen",started:"Inicio",finished:"Fin",pages:"Pginas",chunks:"Chunks",tokens:"Energa",actions:"Acciones"}},success:{settingsUpdated:"Ajustes de conocimiento actualizados.",domainCrawlStarted:"Crawl iniciado/completado para {{domain}}. La base de conocimiento se actualizar pronto.",uploadedDocs:"Se subieron e ingirieron {{count}} documento(s): {{files}}"},errors:{loadBot:"No se pudo cargar el bot",updateSettings:"No se pudieron actualizar los ajustes",mustBeActiveToCrawl:"Este bot an no est activo. Actvalo antes de hacer crawl de contenido.",mustBeActiveToUpload:"Este bot an no est activo. Actvalo antes de subir documentos.",domainRequired:"Establece un dominio antes de hacer crawl.",domainCrawlerDisabled:"La funcin de crawler de dominio est deshabilitada para este bot.",pdfUploadDisabled:"La funcin de subida de PDF est deshabilitada para este bot.",crawlFailed:"No se pudo hacer crawl del dominio",uploadFailed:"No se pudieron subir los documentos",estimateFailed:"No se pudo estimar el costo del rastreo."},onboarding:{title:"Estamos preparando el conocimiento de tu bot",subtitle:"Conecta tu sitio web para que Coslo pueda rastrearlo y responder con informacin detallada y actualizada.",status:{readyExisting:"Tu contenido ya est indexado. Puedes volver a indexar cuando quieras para mantener a Coslo al da.",completed:"Conocimiento listo. Coslo ahora entiende tu sitio web.",failed:"El rastreo ha fallado. Revisa el dominio e intntalo de nuevo.",running:"Indexacin en curso. Ya puedes usar tu bot mientras terminamos el rastreo.",pollError:"Tenemos problemas para actualizar el estado, pero el rastreo sigue en ejecucin."},statusPill:{running:"Indexacin en curso",completed:"Conocimiento listo",failed:"Rastreo fallido",idle:"An no iniciado"},errors:{loadBot:"No se puede cargar este bot en este momento.",saveDomain:"No se puede guardar este dominio.",crawlFailed:"No hemos podido iniciar el rastreo. Revisa el dominio e intntalo de nuevo."},heroTitle:"Ensea tu sitio a Coslo con un solo clic",heroBody:"Rastrearemos tu dominio principal para extraer FAQs, artculos de ayuda y pginas clave, para que el asistente se sienta como parte real de tu equipo.",domainLabel:"Dominio del sitio web",domainPlaceholder:"https://tu-sitio.com",savingDomain:"Guardando",saveDomain:"Guardar dominio",domainHint:"Solo usamos pginas pblicas y siempre respetamos tu robots.txt.",btnIndexing:"Indexando sitio web",btnReindex:"Reindexar sitio web",btnStartIndexing:"Iniciar indexacin",goToDashboard:"Ir al panel",dashboardHint:"Desbloquearemos el botn del panel justo despus de que termine la primera indexacin.",step1:{title:"Conecta tu dominio",text:"Aade el sitio principal que usan tus clientes."},step2:{title:"Coslo rastrea tus pginas",text:"Seguimos los enlaces, extraemos el contenido y lo limpiamos."},step3:{title:"Tu bot responde como un profesional",text:"Usa Coslo en cualquier canal, respaldado por el contenido de tu sitio."}}},bQ={title:"Tus bots",loading:"Cargando bots...",empty:"An no hay bots.",table:{name:"Nombre",slug:"Slug",status:"Estado",domain:"Dominio",channels:"Canales",actions:"Acciones"},channels:{web:"Web",whatsapp:"WhatsApp",messenger:"Messenger",instagram:"Instagram"},actions:{create:"Crear nuevo bot",openBot:"Abrir bot",deleteBot:"Eliminar bot"},confirm:{typeSlug:'Escribe el slug de este bot ("{{slug}}") para confirmar la eliminacin:',slugMismatch:"El slug no coincide. El bot no fue eliminado.",deleteBot:'Esto eliminar permanentemente el bot "{{name}}" y todas sus conversaciones y datos. Continuar?'},errors:{loadFailed:"No se pudieron cargar los bots",deleteFailed:"No se pudo eliminar el bot"}},yQ={title:"Conversacin",backToBots:" Volver a bots",missingId:"Falta el ID de la conversacin.",loading:"Cargando mensajes...",empty:"No hay mensajes.",roles:{user:"Usuario",assistant:"Asistente",human:"Humano",system:"Sistema"},parties:{title:"Participantes de la conversacin",business:"Tu canal",user:"Contacto"},testSend:{title:"Envo de prueba (verificacin de Meta)",description:"Enva un mensaje de prueba manual a este contacto usando el canal conectado. Pensado solo para la verificacin de la app de Meta.",placeholder:"Escribe un mensaje de prueba",button:"Enviar mensaje de prueba",sending:"Enviando",empty:"Introduce un mensaje antes de enviarlo.",success:"Mensaje de prueba enviado.",error:"No se pudo enviar el mensaje de prueba."},manualSend:{title:"Respuesta manual (HUMANO)",description:"Enva una respuesta manual como agente humano a travs de este canal.",windowExpired:"Ya no puedes enviar mensajes manuales: el ltimo mensaje del usuario tiene ms de 24 horas en este canal. Meta requiere plantillas fuera de la ventana de 24 horas.",placeholder:"Escribe una respuesta manual...",sending:"Enviando...",button:"Enviar",success:"Mensaje enviado como HUMANO."},mode:{title:"Modo de conversacin",humanDescription:"La derivacin a un humano est activa. El bot no responder automticamente a los mensajes del usuario.",aiDescription:"El asistente de IA responde automticamente a los nuevos mensajes del usuario.",humanLabel:"HUMANO",aiLabel:"IA",switchingToHuman:"Cambiando",toHumanButton:"Cambiar a HUMANO (pausar IA)",switchingToAi:"Cambiando",toAiButton:"Volver a IA",error:"No se pudo actualizar el modo de conversacin."},errors:{loadFailed:"No se pudieron cargar los mensajes"}},xQ={title:"Calendario y reservas",backToOverview:" Volver al resumen",featuresAndPlan:"Funciones y plan",missingId:"Falta el id del bot.",loading:"Cargando ajustes del bot",notFound:"Bot no encontrado.",intro:"Conecta este bot a tu Google Calendar y ajusta cmo se comportan las reservas, recordatorios y correos.",calendarDisabled:{title:"El calendario est desactivado para este bot.",body:"Las funciones de reserva solo estarn activas cuando habilites el complemento de calendario en"},sections:{calendarConnection:{title:"Conexin del calendario",hint:"Configura qu Google Calendar debe usar el asistente y la duracin por defecto de nuevas reservas."},bookingRules:{title:"Reglas de reserva",hint:"Define con cunta antelacin se puede reservar y qu tan cerca del inicio se permiten reservas."},reminderWindow:{title:"Ventana de recordatorio",hint:"Controla cundo se envan correos de recordatorio con respecto a la hora de inicio."},emails:{title:"Correos",hint:"Personaliza los correos de confirmacin y recordatorio. Puedes usar variables como"},bookingFields:{title:"Campos de reserva",hint:"Estos son los campos que el asistente intentar recopilar al reservar una cita."},availability:{title:"Das y horarios disponibles",hint:"Elige en qu das aceptas reservas y los rangos horarios para cada da.",addRange:"Aadir franja horaria",removeRange:"Quitar",note:"Las reservas solo se aceptarn dentro de estos rangos (en la zona horaria del bot).",enabledHint:"Las reservas estn permitidas este da dentro de los rangos horarios de abajo.",disabledHint:"Las reservas no estn permitidas este da hasta que lo habilites.",acceptBookings:"Aceptar reservas este da",from:"Desde",to:"Hasta"}},weekdays:{monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"},fields:{calendarId:{label:"ID del calendario",placeholder:"primary o tu-calendar-id@group.calendar.google.com",help:"Usa"},timeZone:{label:"Zona horaria",placeholder:"p. ej. Europe/Rome",help:"Nombre IANA de la zona horaria. El asistente lo usa para calcular disponibilidad y horas en los correos."},defaultDurationMinutes:{label:"Duracin por defecto (minutos)",placeholder:"30",help:"Se usa cuando el usuario no especifica una duracin explcitamente."},bookingMinLeadHours:{label:"Antelacin mnima (horas)",placeholder:"p. ej. 2",help:"La cita debe comenzar al menos estas horas despus de crearse."},bookingMaxAdvanceDays:{label:"Mximo de das de antelacin",placeholder:"p. ej. 30",help:"No aceptar reservas ms all de estos das desde hoy. Djalo vaco para no tener lmite."},bookingMaxSimultaneousBookings:{label:"Mximo de reservas por franja",placeholder:"p. ej. 1",help:"Limita cuntas reservas se aceptan para la misma franja horaria. Djalo vaco para no tener lmite."},bookingReminderWindowHours:{label:"Ventana de recordatorio (horas antes del inicio)",placeholder:"p. ej. 24",help:"Las citas que comienzan dentro de estas horas sern elegibles para recordatorios."},bookingReminderMinLeadHours:{label:"Horas mnimas entre creacin e inicio",placeholder:"p. ej. 3",help:"Evita enviar recordatorios para reservas de ltima hora. Djalo vaco para desactivar este requisito extra."}},advanced:{prompt:"Necesitas ms control sobre reglas, recordatorios y correos?",show:"Ajustes avanzados",hide:"Ocultar ajustes avanzados"},toggles:{confirmationEmail:"Enviar correo de confirmacin despus de una nueva reserva",reminderEmail:"Enviar correo de recordatorio antes de la cita"},emailFields:{subject:"Asunto",bodyText:"Cuerpo (texto)",bodyHtmlOptional:"Cuerpo (HTML, opcional)"},emailGroups:{confirmation:{title:"Correo de confirmacin",subjectPlaceholder:"Tu reserva con {{bot.name}} est confirmada",textPlaceholder:`Hola {{client.name}},

tu reserva de {{booking.service}} para {{booking.start}} est confirmada.
Si necesitas reprogramar, contctanos.

 {{bot.name}}`,htmlPlaceholder:"<p>Hola {{client.name}},</p><p>Tu reserva de {{booking.service}} para {{booking.start}} est confirmada.</p>",htmlHelp:"Si se proporciona, el HTML se usar como cuerpo principal del correo. Mantnlo simple y apto para mvil."},reminder:{title:"Correo de recordatorio",subjectPlaceholder:"Recordatorio: tu reserva con {{bot.name}}",textPlaceholder:`Hola {{client.name}},

este es un recordatorio de tu reserva {{booking.service}} para {{booking.start}}.

 {{bot.name}}`,htmlPlaceholder:"<p>Hola {{client.name}},</p><p>Este es un recordatorio de tu reserva {{booking.service}} para {{booking.start}}.</p>",htmlHelp:"Djalo vaco para usar la versin solo texto."},cancellation:{title:"Correo de cancelacin",subjectPlaceholder:"Tu reserva con {{bot.name}} ha sido cancelada",textPlaceholder:`Hola {{client.name}},

tu reserva de {{booking.service}} para {{booking.start}} ha sido cancelada.
Si se trata de un error, contctanos.

 {{bot.name}}`,htmlPlaceholder:"<p>Hola {{client.name}},</p><p>Tu reserva de {{booking.service}} para {{booking.start}} ha sido cancelada.</p>",htmlHelp:"Djalo vaco para usar la versin solo texto."}},bookingFields:{alwaysRequiredTitle:"Siempre requeridos",alwaysRequiredHelp:"Estos campos base siempre son obligatorios y no se pueden quitar.",additionalTitle:"Campos adicionales",additionalEmpty:"An no hay campos extra configurados. Agrega cualquier dato adicional que quieras que el bot pida (p. ej.",addPlaceholder:"Aade una clave de campo, p. ej. notes",addButton:"Aadir",keysHelp:"Usa claves cortas y aptas para mquina (sin espacios). El asistente igual hablar con lenguaje natural.",removeFieldAria:"Quitar campo {{field}}"},actions:{save:"Guardar ajustes",saving:"Guardando",note:"Los cambios se aplican a nuevas conversaciones y reservas."},side:{title:"Cmo se usan calendario y reservas",subtitle:"La configuracin del calendario controla dnde se crean los eventos. Los ajustes avanzados afinan cmo el asistente ofrece horarios y enva notificaciones.",cards:{calendar:{title:"Conexin del calendario",text:"El asistente crea eventos en este calendario usando la zona horaria y la duracin por defecto configuradas aqu."},timeRules:{title:"Reglas de tiempo",text:"Las reglas de reserva evitan citas de ltima hora o demasiado lejanas, para mantener tu agenda bajo control."},emailTemplates:{title:"Plantillas de correo",text:"Si SMTP est mal configurado, el backend recurre a enviar confirmaciones solo en el chat. Cuando se envan correos, variables como",and:"y",replaced:"se reemplazan por datos reales"},bookingFields:{title:"Campos de reserva",text:"Los campos extra que configures se guardan en cada cita y pueden usarse en tus flujos o CRM."}}},success:{saved:"Ajustes actualizados correctamente."},errors:{loadFailed:"No se pudieron cargar los ajustes del bot. Actualiza e intntalo de nuevo.",saveFailed:"No se pudieron guardar los ajustes. Revisa los valores e intntalo de nuevo."},onboarding:{common:{skip:"Saltar por ahora"},booking:{title:"Activa las reservas desde el chat",subtitle:"Conecta tu calendario, define los horarios disponibles y las reglas de reserva.",toggleTitle:"Deja que Coslo proponga y reserve citas",toggleSubtitle:"Cuando est activado, Coslo revisar tu calendario y ofrecer franjas horarias directamente en el chat.",toggleOn:"Reservas ACTIVADAS",toggleOff:"Reservas DESACTIVADAS",toggleOffHint:"Puedes dejar las reservas desactivadas por ahora y completar igualmente el onboarding. Podrs activarlas ms adelante desde la app.",enableToContinue:"Activa las reservas arriba o salta este paso para continuar.",nextWhenDisabled:"Continuar a Lead Ads",next:"Guardar y continuar a Lead Ads"}}},wQ={hero:{kicker:"Legal",title:"Poltica de Privacidad y Datos",intro:"Coslo es una plataforma SaaS multi-tenant que conecta los canales de tu negocio (Web Widget, WhatsApp, Facebook Messenger, Instagram Direct) con un asistente de IA y, opcionalmente, con la automatizacin de reservas mediante Google Calendar. Esta pgina explica qu datos tratamos, por qu los tratamos, cmo se protegen y qu controles tienes disponibles.",lastUpdatedLabel:"ltima actualizacin"},sections:{whoWeAre:{title:"1) Quines somos",serviceLabel:"Servicio",serviceValue:"Coslo (coslo.it)",providerLabel:"Proveedor",addressLabel:"Direccin",emailLabel:"Email"},appliesTo:{title:"2) A quin se aplica esta poltica",paragraphs:["Esta poltica se aplica a (a) propietarios de la cuenta y miembros del equipo que usan Coslo para configurar y operar un asistente (los Usuarios del Negocio) y (b) usuarios finales que escriben a un negocio cuando el negocio usa Coslo para ofrecer respuestas automatizadas (los Usuarios Finales).","En la mayora de los casos, el negocio al que contactas determina cmo utiliza sus canales de mensajera y qu informacin proporciona al asistente. Si eres un Usuario Final, normalmente deberas contactar directamente con el negocio para solicitudes sobre tu conversacin (acceso/eliminacin), salvo que el negocio indique lo contrario."]},dataWeProcess:{title:"3) Qu datos recopilamos / tratamos",paragraphs:["Tratamos las siguientes categoras de datos, segn las funciones que actives:"],list:["Datos de cuenta: direccin de email y datos de autenticacin (las contraseas se almacenan en forma hash), adems de ajustes bsicos de la cuenta.","Configuracin del asistente: nombre del bot, slug, dominio conectado, instrucciones/prompts del sistema, funciones activadas y ajustes de canales.","Entradas de la base de conocimiento: contenidos que conectas o subes para alimentar al asistente, como el contenido pblico de tu web y PDFs (y metadatos relacionados como URL de origen / nombre de archivo).","Salidas de la base de conocimiento: representaciones procesadas de los contenidos (por ejemplo: texto extrado, fragmentos y embeddings/vectores) usadas para recuperar informacin relevante.","Datos de conversacin: contenido de los mensajes intercambiados con el asistente (texto) y metadatos relacionados (marcas de tiempo, tipo de canal e identificadores necesarios para enrutar respuestas).","Identificadores de integracin: identificadores necesarios para conectar canales y entregar mensajes (p. ej., WhatsApp phone number IDs, Facebook Page IDs, Instagram Business IDs) y credenciales/tokens de autorizacin usados para enviar/recibir mensajes en tu nombre.","Datos de reserva (si se activa): informacin necesaria para programar una cita (p. ej., nombre, datos de contacto, servicio, fecha/hora y notas o campos personalizados que configures).","Analtica del servicio (por tenant): mtricas para el propietario de la cuenta del negocio como nmero de conversaciones, volumen de mensajes, uso a lo largo del tiempo e indicadores de calidad (p. ej., si el asistente respondi correctamente).","Registros tcnicos y de seguridad: registros operativos (p. ej., errores, entrega de webhooks y eventos de seguridad) utilizados para operar y proteger el servicio."]},howWeUse:{title:"4) Cmo usamos tus datos",paragraphs:["Usamos los datos para operar Coslo y ofrecer las funciones que actives:"],list:["Prestar el servicio: crear y gestionar cuentas, asistentes, paneles y canales conectados.","Entregar mensajera: recibir mensajes de canales conectados y enviar respuestas en nombre del negocio.","Generar respuestas: recuperar conocimiento relevante de tus fuentes configuradas (web/PDF/FAQs) y generar respuestas coherentes con la configuracin del asistente.","Reservas (opcional): comprobar disponibilidad y crear reservas/eventos en Google Calendar cuando est activado.","Analtica y control de calidad: proporcionar analtica por tenant y permitir al propietario del negocio revisar el historial de conversaciones para evaluar el rendimiento del asistente, resolver solicitudes y mejorar contenido/configuracin.","Seguridad y fiabilidad: detectar abusos, prevenir fraude, solucionar incidencias y mantener la estabilidad de la plataforma."]},aiProcessing:{paragraphs:["Coslo est diseado para casos de soporte empresarial. Tu asistente se configura para responder usando las fuentes de conocimiento que proporcionas (por ejemplo: pginas pblicas de tu web, PDFs, FAQs).","Al generar una respuesta, podemos enviar a nuestro proveedor de IA el texto del mensaje del Usuario Final, fragmentos de conocimiento recuperados (RAG) y la configuracin del asistente (como instrucciones del sistema). Este tratamiento es necesario para proporcionar la respuesta de IA solicitada.","Podemos conservar registros de solicitudes/respuestas de IA para operar, depurar y mejorar el servicio. No usamos el contenido conversacional de los Clientes para entrenar o mejorar un modelo de IA compartido/de propsito general, y no usamos los datos conversacionales de un negocio para construir o mejorar el asistente de otro negocio."]},tenantSeparation:{title:"6) Revisin de conversaciones, acceso y separacin multi-tenant",paragraphs:["Coslo es multi-tenant. Los datos de conversacin, bases de conocimiento y analticas generadas para una cuenta de negocio estn aisladas de otras cuentas de negocio.","Los negocios pueden revisar el historial de conversaciones de su propio asistente en el panel de Coslo con fines operativos (p. ej., control de calidad, resolucin de solicitudes, mejora de la base de conocimiento). El acceso est limitado a usuarios autorizados de esa misma cuenta de negocio.","Los Usuarios Finales no tienen acceso a los paneles internos de analtica ni a las herramientas operativas del negocio."]},messagingChannels:{paragraphs:["Si conectas canales de Meta, Coslo utiliza las APIs de Meta para entregar mensajes y recibir eventos (webhooks). Esto requiere almacenar identificadores del canal (como Page ID / Business ID / phone number ID) y credenciales/tokens necesarios para enviar y recibir mensajes en tu nombre.","Los negocios son responsables de asegurar que tienen los derechos/permisos necesarios para conectar y usar estos canales y de informar a los Usuarios Finales sobre cmo se gestiona la mensajera.","Cuando sea necesario para prestar el servicio, las credenciales/tokens de autorizacin se almacenan de forma segura (incluida la encriptacin en reposo) y el acceso se limita a sistemas y personal autorizados."]},automationEscalation:{title:"8) Automatizacin y escalado a un humano",paragraphs:["Los negocios pueden usar Coslo para automatizar parte del soporte al cliente en canales de mensajera. Si una solicitud requiere a una persona, el negocio debera proporcionar una forma clara para que los Usuarios Finales contacten con un humano (por ejemplo: hablar con un agente, telfono, email o formulario de soporte). Coslo admite estos flujos mediante configuracin y opciones de escalado definidas por el negocio."]},googleCalendar:{title:"9) Reservas en Google Calendar (funcin opcional)",paragraphs:["Si habilitas la automatizacin de reservas, Coslo crear eventos en el Google Calendar que conectes (o al que otorgues acceso) y puede comprobar disponibilidad/conflictos para proponer franjas horarias.","Los eventos creados en tu Google Calendar se almacenan en tu cuenta de Google y permanecen all hasta que los elimines directamente en Google Calendar."]},thirdParties:{title:"10) Servicios de terceros (subprocesadores)",paragraphs:["Dependemos de proveedores externos para ofrecer Coslo. Segn las funciones activadas, los datos pueden ser tratados por:"],list:["Meta (WhatsApp, Facebook, Instagram) para la entrega de mensajes y webhooks.","Proveedor de IA (p. ej., OpenAI) para generar las respuestas del asistente.","Google (Google Calendar) para la automatizacin de reservas.","Stripe para facturacin y pagos.","Proveedores de hosting/infraestructura para ejecutar la aplicacin y almacenar datos de forma segura."]},retention:{title:"11) Conservacin de datos",paragraphs:["Conservamos datos para operar el servicio y ofrecer las funciones del panel que actives. En general:"],list:["Conversaciones y configuracin del asistente: se conservan hasta que elimines el asistente, elimines tu cuenta o solicites la eliminacin (sujeto a una retencin limitada en copias de seguridad).","Datos de la base de conocimiento: se conservan hasta que elimines la fuente (web/PDF), elimines el asistente, elimines tu cuenta o solicites la eliminacin.","Registros operativos: se conservan durante un periodo limitado por motivos de seguridad, depuracin y fiabilidad, y luego se sobrescriben o eliminan."]},deletion:{useTrans:"true",paragraphs:["Puedes desconectar los canales conectados (WhatsApp, Facebook, Instagram) desde tu panel de Coslo en cualquier momento.","Puedes eliminar un asistente especfico desde la pgina Bot List. Esto elimina el asistente y todos los datos relacionados con ese asistente (incluida su base de conocimiento y conversaciones) de nuestros sistemas principales.","Puedes eliminar tu cuenta completa desde la pgina Perfil (Danger Zone). Esto elimina tu cuenta y todos los datos relacionados de nuestros sistemas principales.","Algunos datos tcnicos limitados pueden permanecer durante un breve periodo en registros de seguridad y copias de seguridad, y luego se sobrescriben o eliminan.","Para preguntas de privacidad o solicitudes de eliminacin, contacta con <a>soporte</a>."]},security:{title:"13) Seguridad",paragraphs:["Aplicamos medidas tcnicas y organizativas razonables para proteger los datos, como controles de acceso y comunicaciones seguras. Ningn mtodo de transmisin o almacenamiento es 100% seguro, pero trabajamos continuamente para reducir riesgos y prevenir accesos no autorizados."]},transfers:{title:"14) Transferencias internacionales de datos",paragraphs:["Algunos de nuestros proveedores pueden tratar datos en pases diferentes al tuyo. Cuando corresponda, utilizamos salvaguardas adecuadas para transferencias internacionales (como protecciones contractuales) de acuerdo con la normativa aplicable."]},children:{title:"15) Menores",paragraphs:["Coslo est destinado a uso empresarial. No est diseado para dirigirse a menores, y los negocios deben asegurarse de que su uso de los canales de mensajera cumpla con los requisitos de edad aplicables."]},rights:{title:"16) Tus derechos",useTrans:"true",paragraphs:["Segn tu ubicacin (incluido UE/EEE), puedes tener derechos para acceder, corregir, eliminar u oponerte a ciertos tratamientos de tus datos personales. Para ejercer estos derechos, contacta con <a>soporte</a>.","Si eres un Usuario Final que escribe a un negocio, normalmente debes contactar primero con ese negocio porque controla la conversacin y cmo se gestiona."]},changes:{title:"17) Cambios en esta poltica",paragraphs:["Podemos actualizar esta poltica ocasionalmente. Cuando lo hagamos, actualizaremos la fecha de ltima actualizacin en la parte superior de esta pgina."]},questions:{title:"18) Contacto",useTrans:"true",paragraphs:["Para cualquier pregunta sobre privacidad, uso de datos o solicitudes de eliminacin, contacta con <a>soporte</a>."]}}},jQ={hero:{kicker:"Legal",title:"Trminos y Condiciones",intro:"Estos Trminos y Condiciones regulan el uso de Coslo (la Plataforma), un servicio SaaS multi-tenant que conecta los canales de tu negocio (p. ej., Web Widget, WhatsApp, Facebook Messenger, Instagram Direct) con un asistente de IA y, si est habilitado, con la automatizacin de reservas (p. ej., Google Calendar). Al usar la Plataforma, aceptas estos Trminos.",lastUpdatedLabel:"ltima actualizacin"},sections:{provider:{title:"1) Informacin del proveedor",labels:{provider:"Proveedor",address:"Direccin",contact:"Contacto"}},definitions:{title:"2) Definiciones",paragraphs:["A efectos de estos Trminos: (a) Plataforma significa Coslo; (b) Cliente significa el usuario de negocio que crea una cuenta; (c) Usuarios Finales significa las personas que escriben al Cliente; (d) Contenido del Cliente significa el contenido y datos configurados o proporcionados por el Cliente (incluyendo fuentes de conocimiento y conversaciones); (e) Servicios de Terceros significa servicios externos integrados (p. ej., canales de Meta, Google Calendar, proveedores de IA, Stripe, hosting)."]},scope:{title:"3) Alcance del servicio y elegibilidad",paragraphs:["Coslo permite a los Clientes crear y gestionar asistentes de IA para canales de mensajera, conectar fuentes de conocimiento (p. ej., web/PDFs), automatizar flujos (p. ej., reservas), integrar Servicios de Terceros y ver analtica por tenant e historial de conversaciones.","La Plataforma est destinada a uso empresarial/profesional. Si usas Coslo en nombre de una organizacin, declaras que tienes autoridad para vincular a dicha organizacin a estos Trminos."]},account:{title:"4) Cuenta, seguridad y acceso",paragraphs:["Debes proporcionar informacin precisa y actualizada al crear una cuenta y mantener seguras tus credenciales.","Eres responsable de la actividad en tu cuenta y de proteger canales conectados, tokens y permisos.","Podemos suspender o terminar el acceso si creemos razonablemente que hay abuso, actividad ilegal o una infraccin de estos Trminos o de polticas de terceros."]},plansPayments:{title:"5) Planes, suscripciones y pagos",paragraphs:["El acceso puede ofrecerse mediante planes gratuitos, pruebas o suscripciones de pago segn se describa en la Plataforma o en nuestro sitio.","Los planes de pago se facturan de forma recurrente (mensual/anual) mediante un procesador de pagos (p. ej., Stripe). Autorizas los cargos recurrentes mientras la suscripcin est activa.","Salvo que la ley lo exija o el plan lo indique expresamente, los pagos no son reembolsables."]},permittedUseCompliance:{title:"6) Uso permitido, uso prohibido y cumplimiento de canales",paragraphs:["Eres responsable de tus asistentes, del Contenido del Cliente y de las interacciones con Usuarios Finales.","No debes usar Coslo para actividades ilegales, spam, phishing, malware, acoso o infraccin de derechos de terceros.","Debes cumplir los trminos y polticas de Servicios de Terceros para los canales conectados (incluidas polticas de WhatsApp/Meta). Estas polticas pueden restringir la automatizacin y el uso de IA.","Coslo est pensado para soporte empresarial (soporte, informacin, reservas, gestin de leads). No debes configurarlo o promocionarlo como un chatbot de propsito general no relacionado con tu negocio, ni usarlo de forma contraria a las reglas del canal.","Cuando sea necesario, debes ofrecer a los Usuarios Finales una va clara para escalar a una persona (p. ej., hablar con un agente, telfono, email o formulario de soporte). Eres responsable de configurar y mantener la opcin de contacto humano presentada a los Usuarios Finales en tus canales conectados."]},privacyMultiTenant:{title:"7) Privacidad, tratamiento de datos y separacin multi-tenant",paragraphs:["Coslo es multi-tenant: los datos de cada Cliente estn separados lgicamente de otros tenants y solo son accesibles por usuarios autorizados de la misma cuenta del Cliente.","Nuestra Poltica de Privacidad y Datos forma parte de estos Trminos y describe qu datos tratamos, por qu, conservacin y controles de eliminacin.","Segn el caso de uso, puede ponerse a disposicin un Anexo de Tratamiento de Datos (DPA) para Clientes empresariales."]},aiLimitations:{title:"8) IA: limitaciones y responsabilidades",paragraphs:["Las respuestas del asistente se generan automticamente en funcin de tu configuracin, fuentes de conocimiento y modelos de IA de terceros.","La IA puede producir resultados inexactos o incompletos. La Plataforma se ofrece en base a mejor esfuerzo y no sustituye asesoramiento profesional (legal/mdico/fiscal).","Eres responsable de revisar y usar los resultados de forma adecuada, especialmente en contextos regulados o de alto impacto."]},thirdParties:{title:"9) Servicios de terceros",paragraphs:["La Plataforma se integra con Servicios de Terceros (p. ej., canales de Meta, Google Calendar, proveedores de IA, Stripe, hosting). Tu uso de esos servicios est sujeto a sus propios trminos y polticas.","No somos responsables de interrupciones, restricciones o cambios impuestos por Servicios de Terceros, incluidas revocaciones de acceso a APIs o cambios de poltica."]},availabilitySupport:{title:"10) Disponibilidad, mantenimiento y soporte",useTrans:"true",paragraphs:["Buscamos mantener la Plataforma razonablemente disponible, pero la disponibilidad puede verse afectada por mantenimiento, actualizaciones y Servicios de Terceros.","El soporte puede variar segn el plan. Para soporte, contacta con <a>{{email}}</a>."]},ip:{title:"11) Propiedad intelectual",paragraphs:["Todos los derechos sobre la Plataforma (software, diseo, marcas, documentacin) permanecen con el Proveedor y sus licenciantes.","Conservas los derechos sobre tu Contenido del Cliente. Concedes una licencia limitada para tratar ese contenido solo con el fin de proporcionar y operar la Plataforma."]},termination:{title:"12) Vigencia, suspensin y terminacin",paragraphs:["Tu cuenta permanece activa mientras mantengas un plan activo o tengas acceso a la Plataforma.","Puedes cancelar tu suscripcin segn el flujo de cancelacin disponible en la Plataforma.","Podemos suspender o terminar el acceso por incumplimientos materiales, falta de pago o uso ilegal.","Los eventos creados en Google Calendar permanecen en tu cuenta de Google hasta que los elimines en Google Calendar."]},warranty:{title:"13) Exclusin de garantas",paragraphs:["La Plataforma se proporciona tal cual y segn disponibilidad, en la mxima medida permitida por la ley. Renunciamos a todas las garantas expresas o implcitas.","No garantizamos que la Plataforma sea ininterrumpida o est libre de errores, ni que las salidas de IA sean siempre precisas."]},liability:{title:"14) Limitacin de responsabilidad",paragraphs:["En la mxima medida permitida por la ley, nuestra responsabilidad total se limita a los importes que nos pagaste en los doce (12) meses anteriores al evento que dio lugar a la reclamacin.","No somos responsables de daos indirectos, incidentales, consecuenciales o punitivos, prdida de beneficios, prdida de negocio o prdida de oportunidades."]},indemnity:{title:"15) Indemnizacin",paragraphs:["Aceptas indemnizarnos y mantenernos indemnes frente a reclamaciones, daos, prdidas y gastos (incluidos honorarios legales razonables) derivados de: (a) tu uso ilegal o no conforme de la Plataforma; (b) tu incumplimiento de estos Trminos o de polticas de terceros; (c) infracciones o ilcitos relacionados con tu Contenido del Cliente."]},changes:{title:"16) Cambios en la Plataforma y en estos Trminos",paragraphs:["Podemos actualizar la Plataforma y estos Trminos ocasionalmente. Si realizamos cambios materiales, podemos avisar por email o mediante notificaciones dentro del producto.","El uso continuado de la Plataforma tras la entrada en vigor de los cambios constituye la aceptacin de los Trminos actualizados."]},lawForum:{title:"17) Ley aplicable y jurisdiccin",paragraphs:["Salvo acuerdo escrito en contrario, estos Trminos se rigen por la ley italiana. Cualquier disputa estar sujeta a la jurisdiccin exclusiva del tribunal donde el Proveedor tenga su domicilio social, salvo que la ley imperativa disponga lo contrario."]},specificApproval:{title:"18) Aprobacin especfica (Italia)",paragraphs:["Segn los artculos 1341 y 1342 del Cdigo Civil italiano, apruebas especficamente las clusulas sobre suspensin/terminacin, exclusin de garantas, limitacin de responsabilidad, indemnizacin, cambios en los trminos y ley/jurisdiccin aplicable.","Nota operativa: para una mayor fuerza, considera implementar una casilla especfica en el registro para esta aprobacin."]},contacts:{title:"19) Contacto",useTrans:"true",paragraphs:["Para preguntas sobre estos Trminos, contacta con <a>{{email}}</a>."]}}},CQ={legalNotice:{p1:"Al continuar, aceptas los",terms:"Trminos y Condiciones",and:"y la",privacy:"Poltica de Privacidad y Datos"}},SQ={title:"Plantillas de mensajes de WhatsApp",titleFallback:"Plantillas de WhatsApp",subtitle:"Automatizacin Lead Ads  WhatsApp para {{name}}",status:{facebookStatus:"Estado de Facebook",facebookNotConnected:"No conectado",whatsappStatus:"Estado de WhatsApp",notConnected:"No conectado"},facebookNotConnectedBody:"No se recibirn Lead Ads de Facebook hasta que conectes una pgina de Facebook en la pgina de Canales.",notConnectedBody:"Puedes configurar las Lead Ads y ver los leads entrantes, pero para enviar plantillas de WhatsApp debes conectar un nmero de WhatsApp Business en la pgina de Canales.",leadFeatureNotEnabledTitle:"Funcin de Lead Ads no habilitada",leadFeatureNotEnabledBody:"Para configurar la automatizacin Lead Ads  WhatsApp, primero activa el complemento de Lead Ads en la pgina de Funciones de este bot.",leadFeatureGoToFeatures:"Ir a Funciones",leadAutomation:{title:"Automatizacin Lead Ads  WhatsApp",loading:"Cargando configuracin de automatizacin",phoneField:"Nombre del campo de telfono",phoneFieldHelp:"Nombre del campo del formulario que contiene el nmero de telfono en el payload del lead.",consentField:"Nombre del campo de consentimiento (opcional)",consentFieldHelp:"Nombre del campo de s/no usado para el consentimiento de WhatsApp.",requireOptIn:"Requerir opt-in explcito de WhatsApp",template:"Plantilla a enviar",templatePlaceholder:"Selecciona una plantilla aprobada",templateHelp:"Plantilla utilizada para los nuevos leads de Meta. Solo estn disponibles las plantillas aprobadas.",save:"Guardar automatizacin",saveSuccess:"Configuracin de automatizacin de leads guardada.",saveError:"No se pudo guardar la configuracin de automatizacin de leads.",errors:{missingPhoneField:"Indica el nombre del campo de telfono en tus formularios de leads.",missingConsentField:"Si exiges opt-in explcito, debes indicar el nombre del campo de consentimiento.",missingTemplate:"Selecciona una plantilla de WhatsApp aprobada."}},history:{title:"Historial de plantillas"},filters:{search:"Buscar",searchPlaceholder:"Buscar por nombre o idioma",status:"Estado",statusAll:"Todos",statusApproved:"Aprobadas",statusPending:"Pendientes",statusRejected:"Rechazadas",category:"Categora",categoryAll:"Todas"},category:{utility:"Utilidad",marketing:"Marketing",authentication:"Autenticacin"},loadingTemplates:"Cargando plantillas",templates:{requireWhatsapp:"Conecta un nmero de WhatsApp en la pgina de Canales para sincronizar y gestionar las plantillas."},empty:"No se encontraron plantillas de WhatsApp para este bot.",emptyCta:"Crea tu primera plantilla",columns:{name:"Plantilla",status:"Estado",updated:"ltima actualizacin"},actions:{edit:"Editar",create:"Crear plantilla",update:"Actualizar plantilla"},messages:{created:"Plantilla creada.",updated:"Plantilla actualizada.",saveFailed:"No se pudo guardar la plantilla."},modal:{createTitle:"Nueva plantilla de WhatsApp",editTitle:"Editar plantilla de WhatsApp"},form:{name:"Nombre de la plantilla",namePlaceholder:"p. ej. order_update",nameHelp:"Solo minsculas, nmeros y guiones bajos. No es visible para los usuarios finales.",language:"Idioma",languageHelp:"Usa cdigos de idioma de WhatsApp como en_US, it_IT, es_ES",category:"Categora",header:"Encabezado (opcional)",headerPlaceholder:"Ttulo corto mostrado encima del cuerpo",headerHelp:"Hasta 60 caracteres. Puedes usar variables como {{1}}.",body:"Cuerpo",bodyPlaceholder:"Texto principal del mensaje. Usa {{1}}, {{2}},  para variables.",bodyHelp:"Mantn el texto claro y conciso. Las variables se rellenarn en el momento del envo.",footer:"Pie (opcional)",footerPlaceholder:"Lnea pequea debajo del mensaje (p. ej. aviso legal o marca).",buttons:"Botones",addButton:"Aadir botn",buttonsHelp:"Botones opcionales de respuesta rpida, URL o telfono."},buttons:{quickReply:"Respuesta rpida",url:"URL",phone:"Nmero de telfono",textPlaceholder:"Etiqueta del botn",remove:"Eliminar"},leads:{title:"Leads recientes",refresh:"Actualizar",loading:"Cargando leads",requireFacebook:"Conecta una pgina de Facebook en la pgina de Canales para empezar a recibir leads.",empty:"Todava no se han recibido leads.",refreshError:"No se pudieron actualizar los leads.",createdAt:"Recibido el",phone:"Telfono",messageSent:"Mensaje enviado",status:"Estado"},onboarding:{title:"Conecta Facebook Lead Ads y la automatizacin de WhatsApp",subtitle:"Elige o crea una plantilla de WhatsApp y asigna los campos de tus formularios de Lead Ads.",common:{skip:"Omitir por ahora"},warningTitle:"Conecta los canales para activar la automatizacin",warningFacebook:"Conecta una pgina de Facebook en el paso Canales para que Coslo pueda leer los nuevos leads.",warningWhatsapp:"Conecta un nmero de WhatsApp Business en el paso Canales para enviar mensajes.",requirementsTitle:"Estado de conexin",toggleOn:"La automatizacin de Lead Ads est ACTIVADA",toggleOff:"La automatizacin de Lead Ads est DESACTIVADA",toggleDisabledHint:"Conecta ambos canales para poder activar esta automatizacin.",toggleOnHint:"Los nuevos leads de tus formularios de Facebook recibirn automticamente un mensaje de WhatsApp usando la plantilla de abajo.",disabledHint:"Puedes dejar la automatizacin de Lead Ads desactivada y aun as completar el onboarding. Podrs volver aqu desde la app y activarla ms adelante.",automationHint:"Cuando llegue un nuevo lead desde Meta, Coslo enviar una plantilla de WhatsApp y, si quieres, comprobar el opt-in explcito.",previewLabel:"Plantilla seleccionada:",autoSaveHint:"La configuracin y las plantillas se guardarn cuando hagas clic en Revisar plan y pagar.",next:"Revisar plan y pagar",errors:{channelsNotReady:"Para activar esta automatizacin, conecta tanto Facebook como WhatsApp en el paso Canales.",save:"No se ha podido guardar la configuracin de Lead Ads."}}},NQ={eyebrow:"Onboarding guiado  {current}/{total}",steps:{bot:"1. Crear bot",botDescription:"Ponle un nombre a tu asistente y define cmo lo vern tus clientes.",channels:"2. Canales",channelsDescription:"Conecta WhatsApp, Facebook, Instagram o tu sitio web.",booking:"3. Reservas",bookingDescription:"Deja que Coslo proponga y reserve reuniones directamente desde el chat.",leadAds:"4. Lead Ads",leadAdsDescription:"Sincroniza tus Facebook Lead Ads y enva mensajes de WhatsApp automticamente.",plan:"5. Plan y facturacin",planDescription:"Revisa la configuracin, elige tu plan y empieza a usar Coslo.",knowledge:"6. Conocimiento",knowledgeDescription:"Haz que Coslo aprenda de tu sitio web para responder preguntas detalladas."}},kQ={common:tQ,demoBot:nQ,landing:aQ,login:rQ,register:iQ,verifyEmail:sQ,appLayout:oQ,billing:lQ,dashboard:cQ,profile:uQ,botFeatures:dQ,botPlan:pQ,botConversations:mQ,botCreate:hQ,botDetails:fQ,botChannels:gQ,botKnowledge:vQ,botsList:bQ,conversationDetail:yQ,botSettings:xQ,policy:wQ,terms:jQ,auth:CQ,whatsappTemplates:SQ,onboardingLayout:NQ};nn.use(OI).use(nF).init({resources:{en:{translation:AY},it:{translation:eQ},es:{translation:kQ}},fallbackLng:"en",supportedLngs:["en","it","es"],detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},interpolation:{escapeValue:!1}});Jm.createRoot(document.getElementById("root")).render(r.jsx(ot.StrictMode,{children:r.jsx(cD,{children:r.jsx(OF,{children:r.jsx(B9,{})})})}));
//# sourceMappingURL=index-B7WlZbnq.js.map
